(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{"4n+9":function(e,t,i){"use strict";i.r(t),i.d(t,"createTranslateLoader",function(){return ge}),i.d(t,"UserManageModule",function(){return fe});var r=i("ofXK"),n=i("tyNb"),o=i("mrSG"),c=i("3Pt+"),s=i("Fjs1"),l=i("3pA8"),b=i("PSD3"),a=i.n(b),d=i("q2CC"),u=i("tkbi"),m=i("S2wt"),p=i("fXoL"),g=i("1kSV"),f=i("sYmb"),h=i("l7P3"),S=i("MWN8");function T(e,t){if(1&e){const e=p.Ub();p.Tb(0,"input",22),p.dc("keyup",function(t){return p.zc(e),p.fc().getUsers(t.target.value,"true","Name")}),p.Sb()}if(2&e){const e=p.fc();p.oc("placeholder","Search By ",e.placeVal,"")}}function v(e,t){1&e&&p.Pb(0)}function U(e,t){if(1&e&&(p.Tb(0,"ngb-tab"),p.Gc(1,v,1,0,"ng-container",23),p.Sb()),2&e){p.fc();const e=p.wc(29);p.Ab(1),p.mc("ngTemplateOutlet",e)}}function I(e,t){if(1&e&&(p.Tb(0,"div",26),p.Ic(1),p.Sb()),2&e){const e=p.fc().$implicit;p.Ab(1),p.Jc(e.title)}}function y(e,t){1&e&&p.Pb(0)}function A(e,t){if(1&e){const e=p.Ub();p.Tb(0,"td",30),p.Tb(1,"a"),p.Tb(2,"img",31),p.dc("click",function(){p.zc(e);const t=p.fc().$implicit,i=p.fc(3);return i.bigImage(i.amazonUrl+t.avatar.value)}),p.Sb(),p.Sb(),p.Sb()}if(2&e){const e=p.fc().$implicit,t=p.fc(3);p.Ab(2),p.pc("src","",t.amazonUrl,"",e.avatar.value,"",p.Bc)}}function w(e,t){if(1&e&&(p.Tb(0,"td",30),p.Ic(1),p.Sb()),2&e){const e=p.fc().$implicit;p.Ab(1),p.Kc(" ",e._id," ")}}function O(e,t){if(1&e&&(p.Tb(0,"td"),p.Ic(1),p.Sb()),2&e){const e=p.fc().$implicit;p.Ab(1),p.Kc(" ",e.name," ")}}function k(e,t){if(1&e&&(p.Tb(0,"td"),p.Ic(1),p.Sb()),2&e){const e=p.fc().$implicit;p.Ab(1),p.Kc(" ",e.email," ")}}function C(e,t){if(1&e&&(p.Tb(0,"td"),p.Ic(1),p.Sb()),2&e){const e=p.fc().$implicit;p.Ab(1),p.Kc(" ",e.contact_number," ")}}function _(e,t){1&e&&p.Ob(0,"td",32)}function G(e,t){if(1&e){const e=p.Ub();p.Tb(0,"td"),p.Tb(1,"a"),p.Tb(2,"button",33),p.dc("click",function(){p.zc(e);const t=p.fc().$implicit;return p.fc(3).changeStatus(t._id,"false")}),p.Ic(3," Block "),p.Sb(),p.Sb(),p.Sb()}if(2&e){const e=p.fc().$implicit,t=p.fc(3);p.Ab(2),p.mc("disabled","Super Admin"!==t.loggedInUser.role&&"Super Admin"==e.role.title)}}function x(e,t){if(1&e){const e=p.Ub();p.Tb(0,"td"),p.Tb(1,"a",34),p.dc("click",function(){p.zc(e);const t=p.fc().$implicit;return p.fc(3).userDetail(t._id,t.role.title)}),p.Ob(2,"img",35),p.Sb(),p.Sb()}}function N(e,t){if(1&e&&(p.Tb(0,"tr"),p.Gc(1,A,3,2,"td",28),p.Gc(2,w,2,1,"td",28),p.Gc(3,O,2,1,"td",17),p.Gc(4,k,2,1,"td",17),p.Gc(5,C,2,1,"td",17),p.Gc(6,_,1,0,"td",29),p.Gc(7,G,4,1,"td",17),p.Gc(8,x,3,0,"td",17),p.Sb()),2&e){const e=t.$implicit,i=p.fc(2).$implicit;p.Ab(1),p.mc("ngIf",e.role._id==i._id),p.Ab(1),p.mc("ngIf",e.role._id==i._id),p.Ab(1),p.mc("ngIf",e.role._id==i._id),p.Ab(1),p.mc("ngIf",e.role._id==i._id),p.Ab(1),p.mc("ngIf",e.role._id==i._id),p.Ab(1),p.mc("ngIf",e.role._id==i._id),p.Ab(1),p.mc("ngIf",e.role._id==i._id),p.Ab(1),p.mc("ngIf",e.role._id==i._id)}}function F(e,t){if(1&e&&(p.Tb(0,"table",27),p.Tb(1,"thead"),p.Gc(2,y,1,0,"ng-container",23),p.Sb(),p.Tb(3,"tbody"),p.Gc(4,N,9,8,"tr",18),p.Sb(),p.Sb()),2&e){const e=p.fc(2),t=p.wc(27);p.Ab(2),p.mc("ngTemplateOutlet",t),p.Ab(2),p.mc("ngForOf",e.allUsers)}}function P(e,t){1&e&&(p.Tb(0,"ngb-tab"),p.Gc(1,I,2,1,"ng-template",24),p.Gc(2,F,5,2,"ng-template",25),p.Sb())}function z(e,t){if(1&e){const e=p.Ub();p.Tb(0,"div",36),p.dc("click",function(){return p.zc(e),p.fc(2).getBlockUser()}),p.Tb(1,"span"),p.Ic(2," Blocked "),p.Sb(),p.Sb()}}function B(e,t){1&e&&p.Pb(0)}const R=function(e){return["/usermanage/userdetail",e]};function q(e,t){if(1&e){const e=p.Ub();p.Tb(0,"tr"),p.Tb(1,"td",30),p.Tb(2,"a"),p.Ob(3,"img",37),p.Sb(),p.Sb(),p.Tb(4,"td",30),p.Ic(5),p.Sb(),p.Tb(6,"td"),p.Ic(7),p.Sb(),p.Tb(8,"td"),p.Ic(9),p.Sb(),p.Tb(10,"td"),p.Ic(11),p.Sb(),p.Ob(12,"td",32),p.Tb(13,"td"),p.Tb(14,"a",38),p.dc("click",function(){p.zc(e);const i=t.$implicit;return p.fc(3).changeStatus(i._id,"true")}),p.Tb(15,"button",39),p.Ic(16,"Unblock"),p.Sb(),p.Sb(),p.Sb(),p.Tb(17,"td"),p.Tb(18,"a",40),p.Ob(19,"img",35),p.Sb(),p.Sb(),p.Sb()}if(2&e){const e=t.$implicit,i=p.fc(3);p.Ab(3),p.pc("src","",i.amazonUrl,"",e.avatar.value,"",p.Bc),p.Ab(2),p.Jc(e._id),p.Ab(2),p.Jc(e.name),p.Ab(2),p.Jc(e.email),p.Ab(2),p.Jc(e.contact_number),p.Ab(7),p.mc("routerLink",p.rc(7,R,e._id))}}function L(e,t){if(1&e&&(p.Tb(0,"table",27),p.Tb(1,"thead"),p.Gc(2,B,1,0,"ng-container",23),p.Sb(),p.Tb(3,"tbody"),p.Gc(4,q,20,9,"tr",18),p.Sb(),p.Sb()),2&e){const e=p.fc(2),t=p.wc(27);p.Ab(2),p.mc("ngTemplateOutlet",t),p.Ab(2),p.mc("ngForOf",e.blockedUsers)}}function M(e,t){1&e&&(p.Tb(0,"ngb-tab"),p.Gc(1,z,3,0,"ng-template",24),p.Gc(2,L,5,2,"ng-template",25),p.Sb())}function j(e,t){if(1&e&&(p.Tb(0,"p",64),p.Ic(1),p.Sb()),2&e){const e=p.fc(2);p.Ab(1),p.Jc(e.message)}}function J(e,t){1&e&&(p.Tb(0,"p",65),p.Ic(1," Image is required "),p.Sb())}function E(e,t){1&e&&(p.Tb(0,"p",65),p.Ic(1," Name is required "),p.Sb())}function D(e,t){1&e&&(p.Tb(0,"p",65),p.Ic(1," Email is required "),p.Sb())}function K(e,t){1&e&&(p.Tb(0,"p",65),p.Ic(1," Email is invalid "),p.Sb())}function V(e,t){if(1&e&&(p.Tb(0,"div"),p.Gc(1,D,2,0,"p",52),p.Gc(2,K,2,0,"p",52),p.Sb()),2&e){const e=p.fc(2);p.Ab(1),p.mc("ngIf",e.addUserForm.controls.email.hasError("required")),p.Ab(1),p.mc("ngIf",e.addUserForm.controls.email.hasError("email"))}}function H(e,t){1&e&&(p.Tb(0,"p",65),p.Ic(1," Cell Number is required "),p.Sb())}function X(e,t){1&e&&(p.Tb(0,"p",65),p.Ic(1," Password is required "),p.Sb())}const Y=function(e){return{"d-none":e}};function W(e,t){if(1&e&&(p.Tb(0,"option",66),p.Ic(1),p.Sb()),2&e){const e=t.$implicit,i=p.fc(2);p.nc("value",e._id),p.mc("ngClass",p.rc(3,Y,"Super Admin"==e.title&&"Super Admin"!==i.loggedInUser.role)),p.Ab(1),p.Kc(" ",e.title," ")}}function Q(e,t){1&e&&(p.Tb(0,"p",65),p.Ic(1," Please select Role "),p.Sb())}function Z(e,t){if(1&e){const e=p.Ub();p.Tb(0,"div",41),p.Tb(1,"h3",42),p.Ic(2,"Add New User"),p.Sb(),p.Sb(),p.Tb(3,"div",43),p.Tb(4,"form",44),p.Tb(5,"div",45),p.Tb(6,"div",46),p.Tb(7,"input",47,48),p.dc("change",function(){p.zc(e);const t=p.wc(8);return p.fc().preview(t.files)}),p.Sb(),p.Tb(9,"button",49),p.Ic(10,"Add Image"),p.Sb(),p.Ob(11,"img",50),p.Gc(12,j,2,1,"p",51),p.Gc(13,J,2,0,"p",52),p.Sb(),p.Sb(),p.Tb(14,"div",53),p.Ob(15,"input",54),p.Gc(16,E,2,0,"p",52),p.Sb(),p.Tb(17,"div",53),p.Ob(18,"input",55),p.Gc(19,V,3,2,"div",17),p.Sb(),p.Tb(20,"div",53),p.Ob(21,"input",56),p.Gc(22,H,2,0,"p",52),p.Sb(),p.Tb(23,"div",53),p.Ob(24,"input",57),p.Gc(25,X,2,0,"p",52),p.Sb(),p.Tb(26,"div",53),p.Tb(27,"select",58),p.Tb(28,"option",59),p.Ic(29,"Select Role"),p.Sb(),p.Gc(30,W,2,5,"option",60),p.Sb(),p.Gc(31,Q,2,0,"p",52),p.Sb(),p.Sb(),p.Sb(),p.Tb(32,"div",61),p.Tb(33,"button",62),p.dc("click",function(){p.zc(e);const t=p.fc();return t.crossClick(t.addUserForm)}),p.Ic(34," Cancel "),p.Sb(),p.Tb(35,"button",63),p.dc("click",function(){p.zc(e);const t=p.fc();return t.submitUser(t.addUserForm)}),p.Ic(36," Add User "),p.Sb(),p.Sb()}if(2&e){const e=p.fc();p.Ab(4),p.mc("formGroup",e.addUserForm),p.Ab(7),p.nc("src",e.imgURL,p.Bc),p.Ab(1),p.mc("ngIf",e.message),p.Ab(1),p.mc("ngIf",null==e.imgURL&&e.submitted),p.Ab(3),p.mc("ngIf",e.submitted&&e.addUserForm.controls.name.hasError("required")),p.Ab(3),p.mc("ngIf",e.submitted),p.Ab(3),p.mc("ngIf",e.addUserForm.controls.cellno.hasError("required")&&e.submitted),p.Ab(3),p.mc("ngIf",e.addUserForm.controls.pass.hasError("required")&&e.submitted),p.Ab(5),p.mc("ngForOf",e.roles),p.Ab(1),p.mc("ngIf",e.addUserForm.controls.role.hasError("required")&&e.submitted)}}function ee(e,t){1&e&&p.Ob(0,"app-big-image")}function te(e,t){if(1&e){const e=p.Ub();p.Tb(0,"tr"),p.Tb(1,"th"),p.Ic(2,"Image"),p.Sb(),p.Tb(3,"th"),p.Ic(4,"ID"),p.Sb(),p.Tb(5,"th"),p.Tb(6,"a",38),p.dc("click",function(){return p.zc(e),p.fc().toggleSort()}),p.Ic(7," Name "),p.Ob(8,"i",67),p.Sb(),p.Sb(),p.Tb(9,"th"),p.Ic(10,"Email"),p.Sb(),p.Tb(11,"th"),p.Ic(12,"Cell no"),p.Sb(),p.Ob(13,"th"),p.Ob(14,"th"),p.Ob(15,"th"),p.Ob(16,"th"),p.Tb(17,"th"),p.Ic(18,"Actions"),p.Sb(),p.Tb(19,"th"),p.Ic(20,"View / Update"),p.Sb(),p.Sb()}}function ie(e,t){1&e&&p.Ob(0,"div",68)}String.prototype.toLocaleUpperCase=function(){return this.replace(/(^|\s)\S/g,function(e){return e.toUpperCase()})};let re=(()=>{class e{constructor(e,t,i,r,n,o,s,l){this.modalService=e,this.fb=t,this.globalService=i,this.userService=r,this.roleService=n,this.translate=o,this.store=s,this.router=l,this.closeResult="",this.roles=[],this.blockedUsers=[],this.placeVal="Name",this.amazonUrl=d.a,this.loggedInUser={},this.allUsers=[],this.addUserForm=this.fb.group({name:["",c.s.required],email:["",c.s.compose([c.s.required,c.s.email])],cellno:["",c.s.compose([c.s.required])],pass:["",c.s.required],role:["",c.s.required]})}ngOnInit(){this.roleService.getRole().subscribe(e=>{200==e.code&&(this.roles=e.data.Roles)}),this.getUsers("",!0,"id"),this.getBlockUser(),this.translate.addLangs(["ur"]),this.translate.use("ur")}open(e){this.modalService.open(e,{ariaLabelledBy:"modal-basic-title"})}getBlockUser(){this.userService.getBlockeduser().subscribe(e=>{this.blockedUsers=e.data.admins})}bigImage(e){this.isBigImg=!0,this.store.dispatch(new m.c(e))}myPorfile(){this.susbscription=this.store.subscribe(e=>{void 0!==(e=e.UserData.data)&&(this.loggedInUser.id=e._id,this.loggedInUser.role=e.role.title)})}getUsers(e,t,i){this.spinner=!0,e=e.toLocaleUpperCase(),this.userService.getUsers(e,t,i).subscribe(e=>{200==e.code?(this.allUsers=e.data.admins,this.spinner=!1):this.spinner=!1},e=>{this.spinner=!1})}crossClick(e){e.reset(),this.modalService.dismissAll()}submitUser(e){this.submitted=!0;let t=e.getRawValue();void 0!==this.imageFile&&(t.image=this.imageFile),e.valid&&this.userService.addUser(t).subscribe(t=>{200==t.code&&(this.getUsers("",!0,"Id"),e.reset(),this.modalService.dismissAll(),a.a.fire({icon:"success",title:"User successfully created",width:"400px",showConfirmButton:!1,timer:2500}))},e=>{a.a.fire({icon:"error",title:e.error.message,width:"400px",showConfirmButton:!1,timer:2500})})}preview(e){return Object(o.a)(this,void 0,void 0,function*(){if(this.imageFile=e[0],0===e.length)return!1;null!=e[0].type.match(/image\/*/)?(yield function(e){return new Promise((t,i)=>{const r=new FileReader;r.readAsDataURL(e[0]),r.onload=()=>t(r.result),r.onerror=e=>i(e)})}(e).then(e=>{this.imgURL=e}),this.globalService.compress(this.imgURL,e[0].name).then(e=>{let t=e[0];if(1==t.status)return this.imageFile=t.file,void(this.imgURL=t.con64)})):this.message="Only images are supported."})}changeStatus(e,t){a.a.fire({icon:"question",text:"Are You Sure!",width:"300px",showConfirmButton:!0,showCancelButton:!0}).then(i=>{if(1!=i.value)return!1;this.userService.updateUser("",e,t).subscribe(e=>{this.getUsers("",!0,"Id"),this.getBlockUser()})})}toggleSort(){var e;e=()=>{this.allUsers.reverse(),$("#sortIcon").addClass("ft-chevron-down"),$("#sortIcon").removeClass("ft-chevron-up")},0==(ne=!ne)?(()=>{this.allUsers.sort(Object(d.d)("name")),$("#sortIcon").addClass("ft-chevron-up"),$("#sortIcon").removeClass("ft-chevron-down")})():e()}userDetail(e,t){"Super Admin"!==this.loggedInUser.role&&"Super Admin"==t?Object(d.f)("warning","Not Authorized to perform this action."):this.router.navigate(["/usermanage/userdetail",e])}}return e.\u0275fac=function(t){return new(t||e)(p.Nb(g.i),p.Nb(c.b),p.Nb(u.a),p.Nb(s.a),p.Nb(l.a),p.Nb(f.d),p.Nb(h.a),p.Nb(n.c))},e.\u0275cmp=p.Hb({type:e,selectors:[["app-user"]],decls:30,vars:5,consts:[["id","tabs"],[1,"row","text-left","mb-2","mt-2"],[1,"col-6","mb-1"],[1,"col-6","text-right"],[1,"btn","btn-orange","mb-0",3,"click"],[1,"col-sm-12"],[1,"parent"],[1,"ft-search","child"],["type","text","class","form-control placeholder-pad w-33",3,"placeholder","keyup",4,"ngIf"],[1,"col-sm-8"],[1,"inputs-group"],[1,"row","text-left"],[1,"col-md-12","col-lg-12"],[1,"card"],[1,"card-content"],[1,"card-body"],["type","pills"],[4,"ngIf"],[4,"ngFor","ngForOf"],["addUser",""],["sameColumns",""],["shimmer",""],["type","text",1,"form-control","placeholder-pad","w-33",3,"placeholder","keyup"],[4,"ngTemplateOutlet"],["ngbTabTitle",""],["ngbTabContent",""],[1,"tab-padding"],[1,"table","table-responsive-md","table-striped"],["class","image-td",4,"ngIf"],["colspan","4",4,"ngIf"],[1,"image-td"],["onerror","src='../../../assets/img/ico/no-icon.png'",1,"table-img-size",3,"src","click"],["colspan","4"],[1,"btn","btn-danger",3,"disabled","click"],[1,"p-0","text-dark",3,"click"],["src","../../../assets/img/ico/eye.png","alt","",1,"img-eye"],[1,"tab-padding",3,"click"],["onerror","src='../../../assets/img/ico/no-icon.png'",1,"table-img-size",3,"src"],[3,"click"],[1,"btn","btn-success"],[1,"p-0","text-dark",3,"routerLink"],[1,"modal-header","justify-content-center","mb-1"],[1,"card-title","mb-0"],[1,"modal-body","model-body-addUser"],[1,"row",3,"formGroup"],[1,"form-group","text-center","col-sm-12"],[1,"position-relative"],["accept","image/*","type","file","accept","image/*","type","file",1,"upload-input",3,"change"],["file",""],[1,"camera-icon","btn","btn-secondary"],["id","img1","onerror","src='../../../assets/img/ico/bb-brand.jpg'",1,"upload-image",3,"src"],["class","text-error mb-0",4,"ngIf"],["class","text-error",4,"ngIf"],[1,"form-group","col-sm-6"],["type","text","formControlName","name","placeholder","Name",1,"form-control"],["type","email","formControlName","email","placeholder","Email",1,"form-control"],["type","number","formControlName","cellno","placeholder","Cell Number",1,"form-control"],["type","password","formControlName","pass","placeholder","Set Password",1,"form-control"],["name","role","formControlName","role","id","roleSelect",1,"form-control"],["value",""],[3,"ngClass","value",4,"ngFor","ngForOf"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-orange",3,"click"],[1,"text-error","mb-0"],[1,"text-error"],[3,"ngClass","value"],["id","sortIcon"],[1,"py-3","shine","w-100"]],template:function(e,t){if(1&e){const e=p.Ub();p.Tb(0,"section",0),p.Tb(1,"div",1),p.Tb(2,"div",2),p.Tb(3,"h3"),p.Ic(4,"User Management"),p.Sb(),p.Sb(),p.Tb(5,"div",3),p.Tb(6,"button",4),p.dc("click",function(){p.zc(e);const i=p.wc(24);return t.open(i)}),p.Ic(7," Add New User "),p.Sb(),p.Sb(),p.Tb(8,"div",5),p.Tb(9,"div",6),p.Ob(10,"i",7),p.Gc(11,T,1,1,"input",8),p.Sb(),p.Sb(),p.Tb(12,"div",9),p.Ob(13,"div",10),p.Sb(),p.Sb(),p.Tb(14,"div",11),p.Tb(15,"div",12),p.Tb(16,"div",13),p.Tb(17,"div",14),p.Tb(18,"div",15),p.Tb(19,"ngb-tabset",16),p.Gc(20,U,2,1,"ngb-tab",17),p.Gc(21,P,3,0,"ngb-tab",18),p.Gc(22,M,3,0,"ngb-tab",17),p.Sb(),p.Sb(),p.Sb(),p.Sb(),p.Sb(),p.Sb(),p.Sb(),p.Gc(23,Z,37,10,"ng-template",null,19,p.Hc),p.Gc(25,ee,1,0,"app-big-image",17),p.Gc(26,te,21,0,"ng-template",null,20,p.Hc),p.Gc(28,ie,1,0,"ng-template",null,21,p.Hc)}2&e&&(p.Ab(11),p.mc("ngIf","Name"==t.placeVal),p.Ab(9),p.mc("ngIf",t.spinner),p.Ab(1),p.mc("ngForOf",t.roles),p.Ab(1),p.mc("ngIf",t.blockedUsers.length>0),p.Ab(3),p.mc("ngIf",t.isBigImg))},directives:[r.o,g.o,r.n,g.l,r.p,g.n,g.m,n.f,c.u,c.l,c.f,c.a,c.k,c.d,c.p,c.r,c.o,c.t,r.m,S.a],styles:["ul.nav-pills[_ngcontent-%COMP%]{padding-left:1rem}.parent[_ngcontent-%COMP%]{position:relative}.child[_ngcontent-%COMP%]{position:absolute;padding:8px 11px}.upload-input[_ngcontent-%COMP%]{position:absolute;bottom:0;opacity:0;z-index:1;cursor:pointer}.camera-icon[_ngcontent-%COMP%]{position:absolute;bottom:0;right:66px}.upload-image[_ngcontent-%COMP%]{width:120px;height:120px;-o-object-fit:scale-down;object-fit:scale-down;border-radius:15px}.model-body-addUser[_ngcontent-%COMP%]{padding-bottom:0!important;overflow-y:scroll}.model-body-addUser[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}#SearchBellboy[_ngcontent-%COMP%]::-moz-placeholder{color:#ccc;margin-left:10px}#SearchBellboy[_ngcontent-%COMP%]:-ms-input-placeholder{color:#ccc;margin-left:10px}#SearchBellboy[_ngcontent-%COMP%]::placeholder{color:#ccc;margin-left:10px}"]}),e})();var ne=!0;function oe(e,t){if(1&e){const e=p.Ub();p.Tb(0,"i",28),p.dc("click",function(){p.zc(e);const t=p.fc();return t.eyeToggle=!t.eyeToggle,t.inputType="text"}),p.Sb()}}function ce(e,t){if(1&e){const e=p.Ub();p.Tb(0,"i",29),p.dc("click",function(){p.zc(e);const t=p.fc();return t.eyeToggle=!t.eyeToggle,t.inputType="password"}),p.Sb()}}function se(e,t){if(1&e&&(p.Tb(0,"option",30),p.Ic(1),p.Sb()),2&e){const e=t.$implicit;p.nc("value",e._id),p.Ab(1),p.Jc(e.title)}}function le(e,t){1&e&&p.Ob(0,"app-big-image")}const be=[{path:"",component:re},{path:"userdetail/:id",component:(()=>{class e{constructor(e,t,i,r,n){this.route=e,this.userservice=t,this.roleService=i,this.fb=r,this.store=n,this.closeResult="",this.inputType="password",this.eyeToggle=!0,this.amazonImgUrl=d.a,this.loggedInUser={},this.updateUser=this.fb.group({name:[""],email:[""],pass:[""],roleId:[""],cellNo:[""]})}ngOnInit(){this.myPorfile(),this.route.params.subscribe(e=>{this._id=e.id}),this.getSingleUser(),this.susbscription=this.roleService.getRole().subscribe(e=>{this.allRoles=e.data.Roles},e=>{},()=>{this.susbscription.unsubscribe()})}getSingleUser(){this.susbscription=this.userservice.getById(this._id).subscribe(e=>{this.detailUser=e.data,this.detailUser._id!==this.loggedInUser.id&&"Super Admin"==this.detailUser.role.title?this.updateUser.disable():"Super Admin"!==this.loggedInUser.role&&(this.updateUser.controls.roleId.disable(),this.updateUser.controls.pass.disable(),this.updateUser.controls.email.disable())},e=>{},()=>{this.susbscription.unsubscribe()})}myPorfile(){this.susbscription=this.store.subscribe(e=>{void 0!==(e=e.UserData.data)&&(this.loggedInUser.id=e._id,this.loggedInUser.role=e.role.title)})}bigImage(e){this.isBigImg=!0,this.store.dispatch(new m.c(e))}update(e){let t=e.getRawValue();if(""==t.name&&""==t.email&&""==t.cellNo&&""==t.roleId&&""==t.pass)return!1;this.susbscription=this.userservice.updateUser(t,this._id,"").subscribe(e=>{this.getSingleUser()})}}return e.\u0275fac=function(t){return new(t||e)(p.Nb(n.a),p.Nb(s.a),p.Nb(l.a),p.Nb(c.b),p.Nb(h.a))},e.\u0275cmp=p.Hb({type:e,selectors:[["app-user-detail"]],decls:47,vars:14,consts:[[1,"row"],[1,"col-sm-12"],[1,"card"],[1,"card-content"],[1,"card-body"],[1,"media","align-items-center"],["alt","100x100","onerror","src='../../../assets/img/gallery/1.jpg'",1,"media-object","d-flex","mr-3","bg-primary","height-100","rounded-circle",3,"src","click"],[1,"media-body"],[1,"font-weight-normal","mb-0"],[1,"text-secondary"],[3,"formGroup","ngSubmit"],[1,"row","mt-3"],[1,"col-sm-6"],[1,"form-group"],["type","text","formControlName","name","placeholder","Name",1,"form-control",3,"value"],["type","text","formControlName","cellNo","placeholder","Cell no",1,"form-control",3,"value"],["type","email","formControlName","email","placeholder","Email",1,"form-control",3,"value"],[1,"form-group","position-relative"],["placeholder","Password","formControlName","pass",1,"form-control","mb-3",3,"type"],["class","ft-eye text-orange position-absolute",3,"click",4,"ngIf"],["class","ft-eye-off position-absolute text-orange",3,"click",4,"ngIf"],["name","role","formControlName","roleId","id","roleSelect",1,"form-control"],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"col-sm-12","text-center"],["routerLink","/usermanage",1,"btn","btn-secondary","mr-2"],[1,"btn","btn-orange"],[4,"ngIf"],[1,"ft-eye","text-orange","position-absolute",3,"click"],[1,"ft-eye-off","position-absolute","text-orange",3,"click"],[3,"value"]],template:function(e,t){1&e&&(p.Tb(0,"section"),p.Tb(1,"div",0),p.Tb(2,"div",1),p.Tb(3,"div",2),p.Tb(4,"div",3),p.Tb(5,"div",4),p.Tb(6,"div",5),p.Tb(7,"a"),p.Tb(8,"img",6),p.dc("click",function(){return t.bigImage(t.amazonImgUrl+(null==t.detailUser||null==t.detailUser.avatar?null:t.detailUser.avatar.value))}),p.Sb(),p.Sb(),p.Tb(9,"div",7),p.Tb(10,"div",0),p.Tb(11,"div",1),p.Tb(12,"h3",8),p.Ic(13),p.Sb(),p.Sb(),p.Sb(),p.Tb(14,"p"),p.Tb(15,"span",9),p.Ic(16),p.Sb(),p.Sb(),p.Sb(),p.Sb(),p.Tb(17,"form",10),p.dc("ngSubmit",function(){return t.update(t.updateUser)}),p.Tb(18,"div",11),p.Tb(19,"div",12),p.Tb(20,"div",13),p.Ob(21,"input",14),p.Sb(),p.Sb(),p.Tb(22,"div",12),p.Tb(23,"div",13),p.Ob(24,"input",15),p.Sb(),p.Sb(),p.Tb(25,"div",12),p.Tb(26,"div",13),p.Ob(27,"input",16),p.Sb(),p.Sb(),p.Tb(28,"div",12),p.Tb(29,"div",17),p.Ob(30,"input",18),p.Tb(31,"a"),p.Gc(32,oe,1,0,"i",19),p.Gc(33,ce,1,0,"i",20),p.Sb(),p.Sb(),p.Sb(),p.Tb(34,"div",12),p.Tb(35,"div",13),p.Tb(36,"select",21),p.Tb(37,"option",22),p.Ic(38),p.Sb(),p.Gc(39,se,2,2,"option",23),p.Sb(),p.Sb(),p.Sb(),p.Sb(),p.Tb(40,"div",0),p.Tb(41,"div",24),p.Tb(42,"button",25),p.Ic(43," Cancel "),p.Sb(),p.Tb(44,"button",26),p.Ic(45," Update "),p.Sb(),p.Sb(),p.Sb(),p.Sb(),p.Sb(),p.Sb(),p.Sb(),p.Sb(),p.Sb(),p.Sb(),p.Gc(46,le,1,0,"app-big-image",27)),2&e&&(p.Ab(8),p.pc("src","",t.amazonImgUrl,"",null==t.detailUser||null==t.detailUser.avatar?null:t.detailUser.avatar.value,"",p.Bc),p.Ab(5),p.Jc(null==t.detailUser?null:t.detailUser.name),p.Ab(3),p.Jc(null==t.detailUser||null==t.detailUser.role?null:t.detailUser.role.title),p.Ab(1),p.mc("formGroup",t.updateUser),p.Ab(4),p.nc("value",null==t.detailUser?null:t.detailUser.name),p.Ab(3),p.nc("value",null==t.detailUser?null:t.detailUser.contact_number),p.Ab(3),p.nc("value",null==t.detailUser?null:t.detailUser.email),p.Ab(3),p.mc("type",t.inputType),p.Ab(2),p.mc("ngIf",!0===t.eyeToggle),p.Ab(1),p.mc("ngIf",!1===t.eyeToggle),p.Ab(5),p.Jc(null==t.detailUser||null==t.detailUser.role?null:t.detailUser.role.title),p.Ab(1),p.mc("ngForOf",t.allRoles),p.Ab(7),p.mc("ngIf",t.isBigImg))},directives:[c.u,c.l,c.f,c.a,c.k,c.d,r.o,c.r,c.o,c.t,r.n,n.d,S.a],styles:[".ft-eye[_ngcontent-%COMP%], .ft-eye-off[_ngcontent-%COMP%]{right:12px;top:10px}"]}),e})(),resolve:{data:i("Os+u").a},data:{text:"User Detail",path:"/userdetail/:id"}}];let ae=(()=>{class e{}return e.\u0275mod=p.Lb({type:e}),e.\u0275inj=p.Kb({factory:function(t){return new(t||e)},imports:[[n.g.forChild(be)],n.g]}),e})();var de=i("tk/3"),ue=i("mqiu"),me=i("RLft"),pe=i("jow2");function ge(e){return new ue.a(e,"./assets/i18n/",".json")}let fe=(()=>{class e{}return e.\u0275mod=p.Lb({type:e}),e.\u0275inj=p.Kb({factory:function(t){return new(t||e)},imports:[[r.c,ae,g.j,c.q,c.g,pe.a,f.b.forRoot({loader:{provide:f.a,useFactory:ge,deps:[de.b]}}),h.b.forFeature("UserData",me.b)]]}),e})()}}]);