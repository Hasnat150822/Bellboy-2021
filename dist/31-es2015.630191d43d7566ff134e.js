(window.webpackJsonp=window.webpackJsonp||[]).push([[31],{fKCV:function(e,t,i){"use strict";i.r(t),i.d(t,"appRouting",function(){return x}),i.d(t,"ManageVehicleTypeModule",function(){return A});var c=i("ofXK"),n=i("mrSG"),o=i("3Pt+"),b=i("Ewgu"),l=i("PSD3"),r=i.n(l),s=i("tkbi"),a=i("q2CC"),d=i("fXoL"),p=i("1kSV"),m=i("tyNb");function u(e,t){1&e&&d.Pb(0)}const h=function(e){return["/managevehicletype/vehicleTypeDetail",e]};function T(e,t){if(1&e&&(d.Tb(0,"tr"),d.Tb(1,"td"),d.Ic(2),d.Sb(),d.Tb(3,"td"),d.Tb(4,"a"),d.Ob(5,"img",16),d.Sb(),d.Sb(),d.Tb(6,"td"),d.Ic(7,"Hasnat Hameed"),d.Sb(),d.Tb(8,"td"),d.Tb(9,"a",17),d.Ob(10,"img",18),d.Sb(),d.Sb(),d.Sb()),2&e){const e=t.$implicit,i=d.fc();d.Ab(2),d.Jc(e.title),d.Ab(3),d.pc("src","",i.amazonImgUrl,"",e.icon,"",d.Bc),d.Ab(4),d.mc("routerLink",d.rc(4,h,e._id))}}function f(e,t){if(1&e&&(d.Tb(0,"p",37),d.Ic(1),d.Sb()),2&e){const e=d.fc(2);d.Ab(1),d.Jc(e.message)}}function g(e,t){1&e&&(d.Tb(0,"p",38),d.Ic(1," Vehicle Type is required. "),d.Sb())}function S(e,t){if(1&e){const e=d.Ub();d.Tb(0,"div",19),d.Tb(1,"h3",20),d.Ic(2,"Add Vehicle Type"),d.Sb(),d.Tb(3,"a",21),d.dc("click",function(){return t.$implicit.close("Cancel Modal")}),d.Ob(4,"i",22),d.Sb(),d.Sb(),d.Tb(5,"div",23),d.Tb(6,"form"),d.Tb(7,"div",24),d.Tb(8,"div",25),d.Tb(9,"input",26,27),d.dc("change",function(){d.zc(e);const t=d.wc(10);return d.fc().preview(t.files)}),d.Sb(),d.Tb(11,"button",28),d.Ic(12,"Add Icon"),d.Sb(),d.Tb(13,"div",29),d.Ob(14,"img",30),d.Gc(15,f,2,1,"p",31),d.Sb(),d.Sb(),d.Sb(),d.Tb(16,"div",32),d.Ob(17,"input",33),d.Gc(18,g,2,0,"p",34),d.Sb(),d.Sb(),d.Sb(),d.Tb(19,"div",35),d.Tb(20,"div"),d.Tb(21,"button",36),d.dc("click",function(){d.zc(e);const t=d.fc();return t.addVehicle(t.vehicleType)}),d.Ic(22,"Add Type"),d.Sb(),d.Sb(),d.Sb()}if(2&e){const e=d.fc();d.Ab(14),d.nc("src",e.imgURL,d.Bc),d.Ab(1),d.mc("ngIf",e.message),d.Ab(1),d.mc("formGroup",e.vehicleType),d.Ab(2),d.mc("ngIf",e.submitted&&e.vehicleType.controls.type.hasError("required"))}}function v(e,t){1&e&&(d.Tb(0,"tr"),d.Tb(1,"td",40),d.Ob(2,"div",41),d.Sb(),d.Sb())}function y(e,t){if(1&e&&d.Gc(0,v,3,0,"tr",39),2&e){const e=d.fc();d.mc("ngIf",e.spinner)}}function w(e,t){if(1&e&&(d.Tb(0,"div",14),d.Tb(1,"input",15),d.dc("valueChange",function(e){return t.$implicit.label=e}),d.Sb(),d.Sb()),2&e){const e=t.$implicit;d.Ab(1),d.mc("value",e.label)}}function I(e,t){1&e&&(d.Tb(0,"div",16),d.Tb(1,"h3",17),d.Ic(2,"Add Label"),d.Sb(),d.Tb(3,"a",18),d.dc("click",function(){return t.$implicit.close("Cancel Modal")}),d.Ob(4,"i",19),d.Sb(),d.Sb(),d.Tb(5,"div",20),d.Tb(6,"form"),d.Tb(7,"div",14),d.Tb(8,"select",21),d.Tb(9,"option",22),d.Ic(10,"Select Language"),d.Sb(),d.Tb(11,"option"),d.Ic(12,"Urdu"),d.Sb(),d.Tb(13,"option"),d.Ic(14,"English"),d.Sb(),d.Sb(),d.Sb(),d.Tb(15,"div",14),d.Ob(16,"input",23),d.Sb(),d.Sb(),d.Sb(),d.Tb(17,"div",24),d.Tb(18,"button",25),d.dc("click",function(){return t.$implicit.close("save")}),d.Ic(19,"Add Label"),d.Sb(),d.Sb())}const V=[{path:"",component:(()=>{class e{constructor(e,t,i,c){this.modalService=e,this.globalService=t,this.fb=i,this.vehicleTypeService=c,this.amazonImgUrl=a.a,this.allVehicleTypes=[],this.vehicleType=this.fb.group({type:["",o.s.required]})}open(e){this.modalService.open(e,{ariaLabelledBy:"modal-basic-title"})}preview(e){return Object(n.a)(this,void 0,void 0,function*(){if(this.imageFile=e[0],0===e.length)return!1;null!=e[0].type.match(/image\/*/)?(yield function(e){return new Promise((t,i)=>{const c=new FileReader;c.readAsDataURL(e[0]),c.onload=()=>t(c.result),c.onerror=e=>i(e)})}(e).then(e=>{this.imgURL=e}),this.globalService.compress(this.imgURL,e[0].name).then(e=>{let t=e[0];if(1==t.status)return this.imageFile=t.file,void(this.imgURL=t.con64)})):this.message="Only images are supported."})}ngOnInit(){this.getVehicleType()}getVehicleType(){this.spinner=!0,this.vehicleTypeService.getVehicleType().subscribe(e=>{this.allVehicleTypes=e.data.VehicleTypes,this.spinner=!1})}addVehicle(e){let t=e.getRawValue().type;if(this.submitted=!0,!e.valid)return!1;this.vehicleTypeService.addVehiceType(t,this.imageFile,!0).subscribe(t=>{!0===t.success?(this.getVehicleType(),e.reset(),r.a.fire({icon:"success",text:"Added",width:"400px",timer:2500,showCancelButton:!1,showConfirmButton:!1}),this.modalService.dismissAll()):(e.reset(),r.a.fire({icon:"error",text:t.message,width:"400px",timer:2500,showCancelButton:!1,showConfirmButton:!1}),this.modalService.dismissAll())},t=>{this.modalService.dismissAll(),e.reset(),r.a.fire({icon:"error",text:t.error.message,width:"400px",timer:2500,showCancelButton:!1,showConfirmButton:!1})})}}return e.\u0275fac=function(t){return new(t||e)(d.Nb(p.i),d.Nb(s.a),d.Nb(o.b),d.Nb(b.a))},e.\u0275cmp=d.Hb({type:e,selectors:[["app-manage-vehicle-type"]],decls:31,vars:2,consts:[["id","tabs"],[1,"row","text-left","mt-2"],[1,"col-sm-6","mb-1"],[1,"mb-0"],[1,"col-sm-6","text-right"],[1,"btn","btn-orange","mb-0",3,"click"],[1,"row","text-left"],[1,"col-md-12","col-lg-12"],[1,"card"],[1,"card-content"],[1,"card-body"],[1,"table","table-responsive-md","table-striped"],[4,"ngTemplateOutlet"],[4,"ngFor","ngForOf"],["addBrand",""],["shimmer",""],["alt","",1,"table-img-size",3,"src"],[1,"p-0","text-dark",3,"routerLink"],["src","../../../assets/img/ico/eye.png","alt","",1,"img-eye"],[1,"modal-header","justify-content-center","mb-1"],[1,"card-title","mb-0"],[3,"click"],[1,"ft-x","close-icon"],[1,"modal-body","pb-0"],[1,"form-group"],[1,"position-relative","position-relative"],["accept","image/*","accept","image/*","type","file",1,"upload-input",3,"change"],["file",""],[1,"camera-icon","btn","btn-orange"],[1,"text-center"],["onerror","src='../../../../assets/img/ico/no-icon.png'",1,"upload-image",3,"src"],["class","text-error mb-0",4,"ngIf"],[1,"form-group",3,"formGroup"],["type","text","placeholder","Vehicle Type","formControlName","type",1,"form-control"],["class","text-error",4,"ngIf"],[1,"modal-footer","mb-2"],["type","button",1,"btn","btn-success",3,"click"],[1,"text-error","mb-0"],[1,"text-error"],[4,"ngIf"],["colspan","12"],[1,"py-3","shine","w-100"]],template:function(e,t){if(1&e){const e=d.Ub();d.Tb(0,"section",0),d.Tb(1,"div",1),d.Tb(2,"div",2),d.Tb(3,"h3",3),d.Ic(4,"Manage Vehicles Type"),d.Sb(),d.Sb(),d.Tb(5,"div",4),d.Tb(6,"button",5),d.dc("click",function(){d.zc(e);const i=d.wc(28);return t.open(i)}),d.Ic(7,"Add Vehicle Type"),d.Sb(),d.Sb(),d.Sb(),d.Tb(8,"div",6),d.Tb(9,"div",7),d.Tb(10,"div",8),d.Tb(11,"div",9),d.Tb(12,"div",10),d.Tb(13,"table",11),d.Tb(14,"thead"),d.Tb(15,"tr"),d.Tb(16,"th"),d.Ic(17,"Vehicle Type"),d.Sb(),d.Tb(18,"th"),d.Ic(19,"Icon"),d.Sb(),d.Tb(20,"th"),d.Ic(21,"Created By"),d.Sb(),d.Tb(22,"th"),d.Ic(23,"View / Update"),d.Sb(),d.Sb(),d.Sb(),d.Tb(24,"tbody"),d.Gc(25,u,1,0,"ng-container",12),d.Gc(26,T,11,6,"tr",13),d.Sb(),d.Sb(),d.Sb(),d.Sb(),d.Sb(),d.Sb(),d.Sb(),d.Sb(),d.Gc(27,S,23,4,"ng-template",null,14,d.Hc),d.Gc(29,y,1,1,"ng-template",null,15,d.Hc)}if(2&e){const e=d.wc(30);d.Ab(25),d.mc("ngTemplateOutlet",e),d.Ab(1),d.mc("ngForOf",t.allVehicleTypes)}},directives:[c.p,c.n,m.f,o.u,o.l,o.m,c.o,o.f,o.a,o.k,o.d],styles:[".ng2-smart-page-item[_ngcontent-%COMP%]{line-height:unset;margin:0!important}"]}),e})()},{path:"vehicleTypeDetail/:id",component:(()=>{class e{constructor(e,t,i){this.modalService=e,this.route=t,this.vehicleTypeService=i}ngOnInit(){this.route.params.subscribe(e=>{this._id=e.id}),this.getSingleVehicleType()}getSingleVehicleType(){this.vehicleTypeService.vehicleTyeDetail(this._id).subscribe(e=>{this.vehicleTypeDetail=e.data})}open(e){this.modalService.open(e,{ariaLabelledBy:"modal-basic-title"})}}return e.\u0275fac=function(t){return new(t||e)(d.Nb(p.i),d.Nb(m.a),d.Nb(b.a))},e.\u0275cmp=d.Hb({type:e,selectors:[["app-vehicle-type-detail"]],decls:21,vars:1,consts:[[1,"row"],[1,"col-sm-12"],[1,"card"],[1,"card-content"],[1,"card-body"],[1,"col-sm-6"],[1,"font-weight-normal"],[1,"col-sm-6","text-right"],[1,"text-orange",3,"click"],[1,"ft-plus","text-dark"],[1,"ml-1"],[1,"col-sm-5"],["class","form-group",4,"ngFor","ngForOf"],["addLabel",""],[1,"form-group"],["type","text","readonly","","placeholder","Vehicle Type",1,"form-control",3,"value","valueChange"],[1,"modal-header","justify-content-center"],[1,"card-title","mb-0"],[3,"click"],[1,"ft-x","close-icon"],[1,"modal-body"],[1,"form-control"],["value",""],["type","text","placeholder","Label",1,"form-control"],[1,"modal-footer"],["type","button",1,"btn","btn-success",3,"click"]],template:function(e,t){if(1&e){const e=d.Ub();d.Tb(0,"section"),d.Tb(1,"form"),d.Tb(2,"div",0),d.Tb(3,"div",1),d.Tb(4,"div",2),d.Tb(5,"div",3),d.Tb(6,"div",4),d.Tb(7,"div",0),d.Tb(8,"div",5),d.Tb(9,"h5",6),d.Ic(10,"Vehicle Type"),d.Sb(),d.Ob(11,"br"),d.Sb(),d.Tb(12,"div",7),d.Tb(13,"a",8),d.dc("click",function(){d.zc(e);const i=d.wc(20);return t.open(i)}),d.Ob(14,"span",9),d.Tb(15,"span",10),d.Ic(16," Add Label "),d.Sb(),d.Sb(),d.Sb(),d.Tb(17,"div",11),d.Gc(18,w,2,1,"div",12),d.Sb(),d.Sb(),d.Sb(),d.Sb(),d.Sb(),d.Sb(),d.Sb(),d.Sb(),d.Sb(),d.Gc(19,I,20,0,"ng-template",null,13,d.Hc)}2&e&&(d.Ab(18),d.mc("ngForOf",null==t.vehicleTypeDetail?null:t.vehicleTypeDetail.labels))},directives:[o.u,o.l,o.m,c.n,o.o,o.t],styles:[""]}),e})(),resolve:{data:i("Os+u").a},data:{text:"Vehicle Type Detail",path:"/vehicleTypeDetail/:id"}}],x=m.g.forRoot(V,{relativeLinkResolution:"legacy"});let A=(()=>{class e{}return e.\u0275mod=d.Lb({type:e}),e.\u0275inj=d.Kb({factory:function(t){return new(t||e)},imports:[[c.c,o.g,p.j,o.q,m.g.forChild(V)]]}),e})()}}]);