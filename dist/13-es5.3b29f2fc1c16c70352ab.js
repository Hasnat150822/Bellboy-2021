!function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var i=0;i<t.length;i++){var b=t[i];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(e,b.key,b)}}function i(e,i,b){return i&&t(e.prototype,i),b&&t(e,b),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{GrB6:function(t,b,a){"use strict";a.r(b),a.d(b,"BellboyTypesModule",function(){return k});var n,l=a("ofXK"),r=a("3Pt+"),s=a("lJxs"),o=a("q2CC"),c=a("fXoL"),u=a("tk/3"),p=((n=function(){function t(i){e(this,t),this.http=i,this._url=o.g,this.bbTypes=[]}return i(t,[{key:"getBellboyTypes",value:function(){var e=this;return this.http.get(this._url+"api/admin/bellboy-type").pipe(Object(s.a)(function(t){return t.data.bellBoyTypes.map(function(t){switch(t._id){case"5f5da852abd69550176fad72":e.bbTypes.MotoBiker=t;break;case"5ee08bcb69e94f28a37dadc6":e.bbTypes.Car=t;break;case"5ee08bee69e94f28a37dadcc":e.bbTypes.Cycler=t;break;case"5ee08bd469e94f28a37dadc8":e.bbTypes.Walker=t}}),e.bbTypes}))}},{key:"updateBBtype",value:function(e,t,i){var b=new FormData;return b.append("title",e),b.append("icon",t),b.append("bellBoyType",i),this.http.post(this._url+"api/admin/bellboy-type/update",b)}}]),t}()).\u0275fac=function(e){return new(e||n)(c.ac(u.b))},n.\u0275prov=c.Jb({token:n,factory:n.\u0275fac,providedIn:"root"}),n),d=a("X9o6"),m=a("1kSV");function h(e,t){1&e&&(c.Tb(0,"div",35),c.Ob(1,"div",36),c.Sb())}var g,f=((g=function(){function t(i,b,a){e(this,t),this.fb=i,this.bbTypesService=b,this.imageCompressor=a,this.isDisable=!0,this.delCharges=[],this.amazonImgUrl=o.a,this.bbTypes=[],this.walker=this.fb.group({title:[{value:"",disabled:!0},r.s.required]}),this.cycler=this.fb.group({title:[{value:"",disabled:!0},r.s.required]}),this.biker=this.fb.group({title:[{value:"",disabled:!0},r.s.required]}),this.car=this.fb.group({title:[{value:"",disabled:!0},r.s.required]})}return i(t,[{key:"ngOnInit",value:function(){this.getBBtypes()}},{key:"getBBtypes",value:function(){var e=this;this.bbTypesService.getBellboyTypes().subscribe(function(t){e.bbTypes=t,e.imagesURL()})}},{key:"imagesURL",value:function(){this.bbTypes.Walker?this.imgURL=this.amazonImgUrl+this.bbTypes.Walker.icon:this.bbTypes.Cycler?this.imgURL1=this.amazonImgUrl+this.bbTypes.Cycler.icon:this.bbTypes.Car?this.imgURL3=this.amazonImgUrl+this.bbTypes.Car.icon:this.imgURL2=this.amazonImgUrl+this.bbTypes.MotoBiker.icon}},{key:"preview",value:function(e,t){var i=this;this.urltype=t;var b=new Image,a=window.URL||window.webkitURL;if(b.src=a.createObjectURL(e[0]),b.onload=function(e){var t=e.path[0].width;i.height=e.path[0].height,i.width=t,i.checkImage()},this.fileName=e[0].name,this.imageFile=e[0],0!==e.length)if(null!=e[0].type.match(/image\/*/)){var n=new FileReader;n.readAsDataURL(e[0]),n.onload=function(e){i.tempImageURL=n.result}}else this.message="Only images are supported."}},{key:"checkImage",value:function(){this.height>300||this.width>=300?this.imageCompress(this.tempImageURL,this.fileName):("imgURL"==this.urltype?this.imgURL=this.tempImageURL:"imgURL1"==this.urltype?this.imgURL1=this.tempImageURL:"imgURL2"==this.urltype?this.imgURL2=this.tempImageURL:this.imgURL3=this.tempImageURL,this.message=null)}},{key:"imageCompress",value:function(e,t){var i=this;this.imageCompressor.compressFile(e,-1,30,100).then(function(e){"imgURL"==i.urltype?i.imgURL=e:"imgURL1"==i.urltype?i.imgURL1=e:"imgURL2"==i.urltype?i.imgURL2=e:i.imgURL3=e})}},{key:"changeDisable",value:function(e){$("#"+e).prop("disabled",!$("#"+e).prop("disabled"))}},{key:"closeToast",value:function(e){$("#"+e).removeClass("d-flex").addClass("d-none")}},{key:"updateWalker",value:function(e,t,i){var b=this.imgURL.match(/api.bellboy.co/g);if(null==this.imgURL||null!=b)this.imageFile=null;else{var a=T(this.imgURL,this.fileName);this.imageFile=a}if(e.value.title==t.title)var n="";else n=e.value.title;this.updateBellBoyType(n,this.imageFile,t._id,"Walker",i)}},{key:"updateCycler",value:function(e,t,i){var b=this.imgURL1.match(/api.bellboy.co/g);if(null==this.imgURL1||null!=b)this.imageFile=null;else{var a=T(this.imgURL1,this.fileName);this.imageFile=a}if(e.value.title==t.title)var n="";else n=e.value.title;this.updateBellBoyType(n,this.imageFile,t._id,"Cycler",i)}},{key:"updateBiker",value:function(e,t,i){var b=this.imgURL2.match(/api.bellboy.co/g);if(null==this.imgURL2||null!=b)this.imageFile=null;else{var a=T(this.imgURL2,this.fileName);this.imageFile=a}if(e.value.title==t.title)var n="";else n=e.value.title;this.updateBellBoyType(n,this.imageFile,t._id,"MotoBiker",i)}},{key:"updateCar",value:function(e,t,i){var b=this.imgURL3.match(/api.bellboy.co/g);if(null==this.imgURL3||null!=b)this.imageFile=null;else{var a=T(this.imgURL3,this.fileName);this.imageFile=a}if(e.value.title==t.title)var n="";else n=e.value.title;this.updateBellBoyType(n,this.imageFile,t._id,"Car",i)}},{key:"updateBellBoyType",value:function(e,t,i,b,a){var n=this;if(this.spinner=!0,""==e&&null==t)return!1;this.bbTypesService.updateBBtype(e,t,i).subscribe(function(e){1==e.success?(n.spinner=!1,n.bbTypes[b]=e.data.bellBoyType,n.imagesURL(),$("#toaster").addClass("d-flex"),$("#"+a).prop("disabled",!0),setTimeout(function(){$("#toaster").removeClass("d-flex")},2500)):($("#"+a).prop("disabled",!0),Object(o.f)("warning",e.message))},function(e){$("#"+a).prop("disabled",!0),Object(o.f)("error",e.error.message)})}}]),t}()).\u0275fac=function(e){return new(e||g)(c.Nb(r.b),c.Nb(p),c.Nb(d.a))},g.\u0275cmp=c.Hb({type:g,selectors:[["app-bellboy-types"]],decls:128,vars:13,consts:[["id","tabs"],["class","loading-container",4,"ngIf"],[1,"row","text-left","mb-2","mt-2"],[1,"col-sm-12","mb-0"],[1,"mb-0"],[1,"row","text-left"],[1,"col-md-12","col-lg-12"],[1,"card"],[1,"card-content"],[1,"card-body","position-relative"],["aria-live","polite","id","toaster","aria-atomic","true",1,"d-none","toaster","justify-content-center","align-items-center",2,"min-height","200px"],["role","alert","aria-live","assertive","aria-atomic","true",1,"toast","show"],["type","button","data-dismiss","toast","aria-label","Close",1,"mr-1","close",3,"click"],["aria-hidden","true"],[1,"toast-body","text-center","bg-orange"],[1,"table","table-responsive-md","table-striped"],[3,"formGroup"],[1,"d-flex","align-items-center","justify-content-center"],[1,"w-50"],["id","input1","formControlName","title",1,"form-control","text-center",3,"value"],[1,"ml-2","ft-edit-2","font-weight-bold",3,"click"],[1,"w-100px"],[1,"position-relative"],["onerror","src='../../../assets/img/ico/bb-brand.jpg'","alt","img",1,"table-img-size",3,"src"],[1,"ml-2","ft-edit-2","font-weight-bold"],["type","file","accept","image/*",1,"absolute-input",3,"change"],["file",""],["placement","top","ngbTooltip","Deactive Bellboy",1,"ft-power","text-error"],["type","submit",1,"btn","btn-orange",3,"click"],["id","input2","formControlName","title",1,"form-control","text-center",3,"value"],["file1",""],["id","input3","formControlName","title",1,"form-control","text-center",3,"value"],["file2",""],["id","input4","formControlName","title",1,"form-control","text-center",3,"value"],["file3",""],[1,"loading-container"],[1,"spinner"]],template:function(e,t){if(1&e){var i=c.Ub();c.Tb(0,"section",0),c.Gc(1,h,2,0,"div",1),c.Tb(2,"div",2),c.Tb(3,"div",3),c.Tb(4,"h3",4),c.Ic(5,"Bellboy Types"),c.Sb(),c.Sb(),c.Sb(),c.Tb(6,"div",5),c.Tb(7,"div",6),c.Tb(8,"div",7),c.Tb(9,"div",8),c.Tb(10,"div",9),c.Tb(11,"div",10),c.Tb(12,"div",11),c.Tb(13,"button",12),c.dc("click",function(){return t.closeToast("toaster")}),c.Tb(14,"span",13),c.Ic(15,"\xd7"),c.Sb(),c.Sb(),c.Tb(16,"div",14),c.Ic(17," Updated "),c.Sb(),c.Sb(),c.Sb(),c.Tb(18,"table",15),c.Tb(19,"thead"),c.Tb(20,"tr"),c.Tb(21,"th"),c.Ic(22,"Bellboy"),c.Sb(),c.Tb(23,"th"),c.Ic(24,"Label"),c.Sb(),c.Tb(25,"th"),c.Ic(26,"Logo"),c.Sb(),c.Tb(27,"th"),c.Ic(28,"Status"),c.Sb(),c.Tb(29,"th"),c.Ic(30,"Update"),c.Sb(),c.Sb(),c.Sb(),c.Tb(31,"tbody"),c.Tb(32,"tr",16),c.Tb(33,"td"),c.Ic(34,"Walker"),c.Sb(),c.Tb(35,"td",17),c.Tb(36,"span",18),c.Ob(37,"input",19),c.Sb(),c.Tb(38,"a"),c.Tb(39,"i",20),c.dc("click",function(){return t.changeDisable("input1")}),c.Sb(),c.Sb(),c.Sb(),c.Tb(40,"td",21),c.Tb(41,"div",22),c.Ob(42,"img",23),c.Tb(43,"a"),c.Ob(44,"i",24),c.Sb(),c.Tb(45,"input",25,26),c.dc("change",function(){c.zc(i);var e=c.wc(46);return t.preview(e.files,"imgURL")}),c.Sb(),c.Sb(),c.Sb(),c.Tb(47,"td"),c.Tb(48,"span"),c.Ic(49,"Active"),c.Sb(),c.Tb(50,"a"),c.Ob(51,"i",27),c.Sb(),c.Sb(),c.Tb(52,"td"),c.Tb(53,"a"),c.Tb(54,"button",28),c.dc("click",function(){return t.updateWalker(t.walker,t.bbTypes.Walker,"input1")}),c.Ic(55,"Update"),c.Sb(),c.Sb(),c.Sb(),c.Sb(),c.Tb(56,"tr",16),c.Tb(57,"td"),c.Ic(58,"Cycler"),c.Sb(),c.Tb(59,"td",17),c.Tb(60,"span",18),c.Ob(61,"input",29),c.Sb(),c.Tb(62,"a"),c.Tb(63,"i",20),c.dc("click",function(){return t.changeDisable("input2")}),c.Sb(),c.Sb(),c.Sb(),c.Tb(64,"td",21),c.Tb(65,"div",22),c.Ob(66,"img",23),c.Tb(67,"a"),c.Ob(68,"i",24),c.Sb(),c.Tb(69,"input",25,30),c.dc("change",function(){c.zc(i);var e=c.wc(70);return t.preview(e.files,"imgURL1")}),c.Sb(),c.Sb(),c.Sb(),c.Tb(71,"td"),c.Tb(72,"span"),c.Ic(73,"Active"),c.Sb(),c.Tb(74,"a"),c.Ob(75,"i",27),c.Sb(),c.Sb(),c.Tb(76,"td"),c.Tb(77,"a"),c.Tb(78,"button",28),c.dc("click",function(){return t.updateCycler(t.cycler,t.bbTypes.Cycler,"input2")}),c.Ic(79,"Update"),c.Sb(),c.Sb(),c.Sb(),c.Sb(),c.Tb(80,"tr",16),c.Tb(81,"td"),c.Ic(82,"MotoBiker"),c.Sb(),c.Tb(83,"td",17),c.Tb(84,"span",18),c.Ob(85,"input",31),c.Sb(),c.Tb(86,"a"),c.Tb(87,"i",20),c.dc("click",function(){return t.changeDisable("input3")}),c.Sb(),c.Sb(),c.Sb(),c.Tb(88,"td",21),c.Tb(89,"div",22),c.Ob(90,"img",23),c.Tb(91,"a"),c.Ob(92,"i",24),c.Sb(),c.Tb(93,"input",25,32),c.dc("change",function(){c.zc(i);var e=c.wc(94);return t.preview(e.files,"imgURL2")}),c.Sb(),c.Sb(),c.Sb(),c.Tb(95,"td"),c.Tb(96,"span"),c.Ic(97,"Active"),c.Sb(),c.Tb(98,"a"),c.Ob(99,"i",27),c.Sb(),c.Sb(),c.Tb(100,"td"),c.Tb(101,"a"),c.Tb(102,"button",28),c.dc("click",function(){return t.updateBiker(t.biker,t.bbTypes.MotoBiker,"input3")}),c.Ic(103,"Update"),c.Sb(),c.Sb(),c.Sb(),c.Sb(),c.Tb(104,"tr",16),c.Tb(105,"td"),c.Ic(106,"Car"),c.Sb(),c.Tb(107,"td",17),c.Tb(108,"span",18),c.Ob(109,"input",33),c.Sb(),c.Tb(110,"a"),c.Tb(111,"i",20),c.dc("click",function(){return t.changeDisable("input4")}),c.Sb(),c.Sb(),c.Sb(),c.Tb(112,"td",21),c.Tb(113,"div",22),c.Ob(114,"img",23),c.Tb(115,"a"),c.Ob(116,"i",24),c.Sb(),c.Tb(117,"input",25,34),c.dc("change",function(){c.zc(i);var e=c.wc(118);return t.preview(e.files,"imgURL3")}),c.Sb(),c.Sb(),c.Sb(),c.Tb(119,"td"),c.Tb(120,"span"),c.Ic(121,"Active"),c.Sb(),c.Tb(122,"a"),c.Ob(123,"i",27),c.Sb(),c.Sb(),c.Tb(124,"td"),c.Tb(125,"a"),c.Tb(126,"button",28),c.dc("click",function(){return t.updateCar(t.car,t.bbTypes.Car,"input4")}),c.Ic(127,"Update"),c.Sb(),c.Sb(),c.Sb(),c.Sb(),c.Sb(),c.Sb(),c.Sb(),c.Sb(),c.Sb(),c.Sb(),c.Sb(),c.Sb()}2&e&&(c.Ab(1),c.mc("ngIf",t.spinner),c.Ab(31),c.mc("formGroup",t.walker),c.Ab(5),c.nc("value",null==t.bbTypes||null==t.bbTypes.Walker?null:t.bbTypes.Walker.title),c.Ab(5),c.nc("src",t.imgURL,c.Bc),c.Ab(14),c.mc("formGroup",t.cycler),c.Ab(5),c.nc("value",null==t.bbTypes||null==t.bbTypes.Cycler?null:t.bbTypes.Cycler.title),c.Ab(5),c.nc("src",t.imgURL1,c.Bc),c.Ab(14),c.mc("formGroup",t.biker),c.Ab(5),c.nc("value",null==t.bbTypes||null==t.bbTypes.MotoBiker?null:t.bbTypes.MotoBiker.title),c.Ab(5),c.nc("src",t.imgURL2,c.Bc),c.Ab(14),c.mc("formGroup",t.car),c.Ab(5),c.nc("value",null==t.bbTypes||null==t.bbTypes.Car?null:t.bbTypes.Car.title),c.Ab(5),c.nc("src",t.imgURL3,c.Bc))},directives:[l.o,r.l,r.f,r.a,r.k,r.d,m.p],styles:[".ft-power[_ngcontent-%COMP%]{margin-left:10px;font-weight:700;font-size:15px}.w-100px[_ngcontent-%COMP%]{width:100px}.absolute-icon[_ngcontent-%COMP%]{position:absolute;bottom:-12px;right:5px}.absolute-input[_ngcontent-%COMP%]{position:absolute;width:100px;left:60px;transform:rotate(180deg);cursor:pointer;opacity:0;z-index:1}.toaster[_ngcontent-%COMP%]{position:absolute;left:35%;top:15%}.toast[_ngcontent-%COMP%]{width:250px;color:#fff;font-weight:500;-webkit-animation:slide-down 1s ease-out;animation:slide-down 1s ease-out}"]}),g);function T(e,t){for(var i=e.split(","),b=i[0].match(/:(.*?);/)[1],a=atob(i[1]),n=a.length,l=new Uint8Array(n);n--;)l[n]=a.charCodeAt(n);return new File([l],t,{type:b})}var y,v=a("tyNb"),S=[{path:"",component:f}],k=((y=function t(){e(this,t)}).\u0275mod=c.Lb({type:y}),y.\u0275inj=c.Kb({factory:function(e){return new(e||y)},imports:[[l.c,m.j,r.g,r.q,v.g.forChild(S)]]}),y)}}])}();