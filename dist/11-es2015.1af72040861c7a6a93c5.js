(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{GrB6:function(e,t,i){"use strict";i.r(t),i.d(t,"BellboyTypesModule",function(){return T});var b=i("ofXK"),s=i("3Pt+"),l=i("lJxs"),a=i("q2CC"),n=i("fXoL"),r=i("tk/3");let o=(()=>{class e{constructor(e){this.http=e,this._url=a.g,this.bbTypes=[]}getBellboyTypes(){return this.http.get(this._url+"api/admin/bellboy-type").pipe(Object(l.a)(e=>(e.data.bellBoyTypes.map(e=>{switch(e._id){case"5f5da852abd69550176fad72":this.bbTypes.MotoBiker=e;break;case"5ee08bcb69e94f28a37dadc6":this.bbTypes.Car=e;break;case"5ee08bee69e94f28a37dadcc":this.bbTypes.Cycler=e;break;case"5ee08bd469e94f28a37dadc8":this.bbTypes.Walker=e}}),this.bbTypes)))}updateBBtype(e,t,i){let b=new FormData;return b.append("title",e),b.append("icon",t),b.append("bellBoyType",i),this.http.post(this._url+"api/admin/bellboy-type/update",b)}}return e.\u0275fac=function(t){return new(t||e)(n.ac(r.b))},e.\u0275prov=n.Jb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var c=i("X9o6"),p=i("1kSV");function d(e,t){1&e&&(n.Tb(0,"div",35),n.Ob(1,"div",36),n.Sb())}let u=(()=>{class e{constructor(e,t,i){this.fb=e,this.bbTypesService=t,this.imageCompressor=i,this.isDisable=!0,this.delCharges=[],this.amazonImgUrl=a.a,this.bbTypes=[],this.walker=this.fb.group({title:[{value:"",disabled:!0},s.s.required]}),this.cycler=this.fb.group({title:[{value:"",disabled:!0},s.s.required]}),this.biker=this.fb.group({title:[{value:"",disabled:!0},s.s.required]}),this.car=this.fb.group({title:[{value:"",disabled:!0},s.s.required]})}ngOnInit(){this.getBBtypes()}getBBtypes(){this.bbTypesService.getBellboyTypes().subscribe(e=>{this.bbTypes=e,this.imagesURL()})}imagesURL(){this.bbTypes.Walker?this.imgURL=this.amazonImgUrl+this.bbTypes.Walker.icon:this.bbTypes.Cycler?this.imgURL1=this.amazonImgUrl+this.bbTypes.Cycler.icon:this.bbTypes.Car?this.imgURL3=this.amazonImgUrl+this.bbTypes.Car.icon:this.imgURL2=this.amazonImgUrl+this.bbTypes.MotoBiker.icon}preview(e,t){this.urltype=t;const i=new Image,b=window.URL||window.webkitURL;if(i.src=b.createObjectURL(e[0]),i.onload=e=>{const t=e.path[0].width;this.height=e.path[0].height,this.width=t,this.checkImage()},this.fileName=e[0].name,this.imageFile=e[0],0!==e.length)if(null!=e[0].type.match(/image\/*/)){var s=new FileReader;s.readAsDataURL(e[0]),s.onload=e=>{this.tempImageURL=s.result}}else this.message="Only images are supported."}checkImage(){this.height>300||this.width>=300?this.imageCompress(this.tempImageURL,this.fileName):("imgURL"==this.urltype?this.imgURL=this.tempImageURL:"imgURL1"==this.urltype?this.imgURL1=this.tempImageURL:"imgURL2"==this.urltype?this.imgURL2=this.tempImageURL:this.imgURL3=this.tempImageURL,this.message=null)}imageCompress(e,t){this.imageCompressor.compressFile(e,-1,30,100).then(e=>{"imgURL"==this.urltype?this.imgURL=e:"imgURL1"==this.urltype?this.imgURL1=e:"imgURL2"==this.urltype?this.imgURL2=e:this.imgURL3=e})}changeDisable(e){$("#"+e).prop("disabled",!$("#"+e).prop("disabled"))}closeToast(e){$("#"+e).removeClass("d-flex").addClass("d-none")}updateWalker(e,t,i){let b=this.imgURL.match(/api.bellboy.co/g);if(null==this.imgURL||null!=b)this.imageFile=null;else{let e=h(this.imgURL,this.fileName);this.imageFile=e}if(e.value.title==t.title)var s="";else s=e.value.title;this.updateBellBoyType(s,this.imageFile,t._id,"Walker",i)}updateCycler(e,t,i){let b=this.imgURL1.match(/api.bellboy.co/g);if(null==this.imgURL1||null!=b)this.imageFile=null;else{let e=h(this.imgURL1,this.fileName);this.imageFile=e}if(e.value.title==t.title)var s="";else s=e.value.title;this.updateBellBoyType(s,this.imageFile,t._id,"Cycler",i)}updateBiker(e,t,i){let b=this.imgURL2.match(/api.bellboy.co/g);if(null==this.imgURL2||null!=b)this.imageFile=null;else{let e=h(this.imgURL2,this.fileName);this.imageFile=e}if(e.value.title==t.title)var s="";else s=e.value.title;this.updateBellBoyType(s,this.imageFile,t._id,"MotoBiker",i)}updateCar(e,t,i){let b=this.imgURL3.match(/api.bellboy.co/g);if(null==this.imgURL3||null!=b)this.imageFile=null;else{let e=h(this.imgURL3,this.fileName);this.imageFile=e}if(e.value.title==t.title)var s="";else s=e.value.title;this.updateBellBoyType(s,this.imageFile,t._id,"Car",i)}updateBellBoyType(e,t,i,b,s){if(this.spinner=!0,""==e&&null==t)return!1;this.bbTypesService.updateBBtype(e,t,i).subscribe(e=>{1==e.success?(this.spinner=!1,this.bbTypes[b]=e.data.bellBoyType,this.imagesURL(),$("#toaster").addClass("d-flex"),$("#"+s).prop("disabled",!0),setTimeout(()=>{$("#toaster").removeClass("d-flex")},2500)):($("#"+s).prop("disabled",!0),Object(a.f)("warning",e.message))},e=>{$("#"+s).prop("disabled",!0),Object(a.f)("error",e.error.message)})}}return e.\u0275fac=function(t){return new(t||e)(n.Nb(s.b),n.Nb(o),n.Nb(c.a))},e.\u0275cmp=n.Hb({type:e,selectors:[["app-bellboy-types"]],decls:128,vars:13,consts:[["id","tabs"],["class","loading-container",4,"ngIf"],[1,"row","text-left","mb-2","mt-2"],[1,"col-sm-12","mb-0"],[1,"mb-0"],[1,"row","text-left"],[1,"col-md-12","col-lg-12"],[1,"card"],[1,"card-content"],[1,"card-body","position-relative"],["aria-live","polite","id","toaster","aria-atomic","true",1,"d-none","toaster","justify-content-center","align-items-center",2,"min-height","200px"],["role","alert","aria-live","assertive","aria-atomic","true",1,"toast","show"],["type","button","data-dismiss","toast","aria-label","Close",1,"mr-1","close",3,"click"],["aria-hidden","true"],[1,"toast-body","text-center","bg-orange"],[1,"table","table-responsive-md","table-striped"],[3,"formGroup"],[1,"d-flex","align-items-center","justify-content-center"],[1,"w-50"],["id","input1","formControlName","title",1,"form-control","text-center",3,"value"],[1,"ml-2","ft-edit-2","font-weight-bold",3,"click"],[1,"w-100px"],[1,"position-relative"],["onerror","src='../../../assets/img/ico/bb-brand.jpg'","alt","img",1,"table-img-size",3,"src"],[1,"ml-2","ft-edit-2","font-weight-bold"],["type","file","accept","image/*",1,"absolute-input",3,"change"],["file",""],["placement","top","ngbTooltip","Deactive Bellboy",1,"ft-power","text-error"],["type","submit",1,"btn","btn-orange",3,"click"],["id","input2","formControlName","title",1,"form-control","text-center",3,"value"],["file1",""],["id","input3","formControlName","title",1,"form-control","text-center",3,"value"],["file2",""],["id","input4","formControlName","title",1,"form-control","text-center",3,"value"],["file3",""],[1,"loading-container"],[1,"spinner"]],template:function(e,t){if(1&e){const e=n.Ub();n.Tb(0,"section",0),n.Gc(1,d,2,0,"div",1),n.Tb(2,"div",2),n.Tb(3,"div",3),n.Tb(4,"h3",4),n.Ic(5,"Bellboy Types"),n.Sb(),n.Sb(),n.Sb(),n.Tb(6,"div",5),n.Tb(7,"div",6),n.Tb(8,"div",7),n.Tb(9,"div",8),n.Tb(10,"div",9),n.Tb(11,"div",10),n.Tb(12,"div",11),n.Tb(13,"button",12),n.dc("click",function(){return t.closeToast("toaster")}),n.Tb(14,"span",13),n.Ic(15,"\xd7"),n.Sb(),n.Sb(),n.Tb(16,"div",14),n.Ic(17," Updated "),n.Sb(),n.Sb(),n.Sb(),n.Tb(18,"table",15),n.Tb(19,"thead"),n.Tb(20,"tr"),n.Tb(21,"th"),n.Ic(22,"Bellboy"),n.Sb(),n.Tb(23,"th"),n.Ic(24,"Label"),n.Sb(),n.Tb(25,"th"),n.Ic(26,"Logo"),n.Sb(),n.Tb(27,"th"),n.Ic(28,"Status"),n.Sb(),n.Tb(29,"th"),n.Ic(30,"Update"),n.Sb(),n.Sb(),n.Sb(),n.Tb(31,"tbody"),n.Tb(32,"tr",16),n.Tb(33,"td"),n.Ic(34,"Walker"),n.Sb(),n.Tb(35,"td",17),n.Tb(36,"span",18),n.Ob(37,"input",19),n.Sb(),n.Tb(38,"a"),n.Tb(39,"i",20),n.dc("click",function(){return t.changeDisable("input1")}),n.Sb(),n.Sb(),n.Sb(),n.Tb(40,"td",21),n.Tb(41,"div",22),n.Ob(42,"img",23),n.Tb(43,"a"),n.Ob(44,"i",24),n.Sb(),n.Tb(45,"input",25,26),n.dc("change",function(){n.zc(e);const i=n.wc(46);return t.preview(i.files,"imgURL")}),n.Sb(),n.Sb(),n.Sb(),n.Tb(47,"td"),n.Tb(48,"span"),n.Ic(49,"Active"),n.Sb(),n.Tb(50,"a"),n.Ob(51,"i",27),n.Sb(),n.Sb(),n.Tb(52,"td"),n.Tb(53,"a"),n.Tb(54,"button",28),n.dc("click",function(){return t.updateWalker(t.walker,t.bbTypes.Walker,"input1")}),n.Ic(55,"Update"),n.Sb(),n.Sb(),n.Sb(),n.Sb(),n.Tb(56,"tr",16),n.Tb(57,"td"),n.Ic(58,"Cycler"),n.Sb(),n.Tb(59,"td",17),n.Tb(60,"span",18),n.Ob(61,"input",29),n.Sb(),n.Tb(62,"a"),n.Tb(63,"i",20),n.dc("click",function(){return t.changeDisable("input2")}),n.Sb(),n.Sb(),n.Sb(),n.Tb(64,"td",21),n.Tb(65,"div",22),n.Ob(66,"img",23),n.Tb(67,"a"),n.Ob(68,"i",24),n.Sb(),n.Tb(69,"input",25,30),n.dc("change",function(){n.zc(e);const i=n.wc(70);return t.preview(i.files,"imgURL1")}),n.Sb(),n.Sb(),n.Sb(),n.Tb(71,"td"),n.Tb(72,"span"),n.Ic(73,"Active"),n.Sb(),n.Tb(74,"a"),n.Ob(75,"i",27),n.Sb(),n.Sb(),n.Tb(76,"td"),n.Tb(77,"a"),n.Tb(78,"button",28),n.dc("click",function(){return t.updateCycler(t.cycler,t.bbTypes.Cycler,"input2")}),n.Ic(79,"Update"),n.Sb(),n.Sb(),n.Sb(),n.Sb(),n.Tb(80,"tr",16),n.Tb(81,"td"),n.Ic(82,"MotoBiker"),n.Sb(),n.Tb(83,"td",17),n.Tb(84,"span",18),n.Ob(85,"input",31),n.Sb(),n.Tb(86,"a"),n.Tb(87,"i",20),n.dc("click",function(){return t.changeDisable("input3")}),n.Sb(),n.Sb(),n.Sb(),n.Tb(88,"td",21),n.Tb(89,"div",22),n.Ob(90,"img",23),n.Tb(91,"a"),n.Ob(92,"i",24),n.Sb(),n.Tb(93,"input",25,32),n.dc("change",function(){n.zc(e);const i=n.wc(94);return t.preview(i.files,"imgURL2")}),n.Sb(),n.Sb(),n.Sb(),n.Tb(95,"td"),n.Tb(96,"span"),n.Ic(97,"Active"),n.Sb(),n.Tb(98,"a"),n.Ob(99,"i",27),n.Sb(),n.Sb(),n.Tb(100,"td"),n.Tb(101,"a"),n.Tb(102,"button",28),n.dc("click",function(){return t.updateBiker(t.biker,t.bbTypes.MotoBiker,"input3")}),n.Ic(103,"Update"),n.Sb(),n.Sb(),n.Sb(),n.Sb(),n.Tb(104,"tr",16),n.Tb(105,"td"),n.Ic(106,"Car"),n.Sb(),n.Tb(107,"td",17),n.Tb(108,"span",18),n.Ob(109,"input",33),n.Sb(),n.Tb(110,"a"),n.Tb(111,"i",20),n.dc("click",function(){return t.changeDisable("input4")}),n.Sb(),n.Sb(),n.Sb(),n.Tb(112,"td",21),n.Tb(113,"div",22),n.Ob(114,"img",23),n.Tb(115,"a"),n.Ob(116,"i",24),n.Sb(),n.Tb(117,"input",25,34),n.dc("change",function(){n.zc(e);const i=n.wc(118);return t.preview(i.files,"imgURL3")}),n.Sb(),n.Sb(),n.Sb(),n.Tb(119,"td"),n.Tb(120,"span"),n.Ic(121,"Active"),n.Sb(),n.Tb(122,"a"),n.Ob(123,"i",27),n.Sb(),n.Sb(),n.Tb(124,"td"),n.Tb(125,"a"),n.Tb(126,"button",28),n.dc("click",function(){return t.updateCar(t.car,t.bbTypes.Car,"input4")}),n.Ic(127,"Update"),n.Sb(),n.Sb(),n.Sb(),n.Sb(),n.Sb(),n.Sb(),n.Sb(),n.Sb(),n.Sb(),n.Sb(),n.Sb(),n.Sb()}2&e&&(n.Ab(1),n.mc("ngIf",t.spinner),n.Ab(31),n.mc("formGroup",t.walker),n.Ab(5),n.nc("value",null==t.bbTypes||null==t.bbTypes.Walker?null:t.bbTypes.Walker.title),n.Ab(5),n.nc("src",t.imgURL,n.Bc),n.Ab(14),n.mc("formGroup",t.cycler),n.Ab(5),n.nc("value",null==t.bbTypes||null==t.bbTypes.Cycler?null:t.bbTypes.Cycler.title),n.Ab(5),n.nc("src",t.imgURL1,n.Bc),n.Ab(14),n.mc("formGroup",t.biker),n.Ab(5),n.nc("value",null==t.bbTypes||null==t.bbTypes.MotoBiker?null:t.bbTypes.MotoBiker.title),n.Ab(5),n.nc("src",t.imgURL2,n.Bc),n.Ab(14),n.mc("formGroup",t.car),n.Ab(5),n.nc("value",null==t.bbTypes||null==t.bbTypes.Car?null:t.bbTypes.Car.title),n.Ab(5),n.nc("src",t.imgURL3,n.Bc))},directives:[b.o,s.l,s.f,s.a,s.k,s.d,p.p],styles:[".ft-power[_ngcontent-%COMP%]{margin-left:10px;font-weight:700;font-size:15px}.w-100px[_ngcontent-%COMP%]{width:100px}.absolute-icon[_ngcontent-%COMP%]{position:absolute;bottom:-12px;right:5px}.absolute-input[_ngcontent-%COMP%]{position:absolute;width:100px;left:60px;transform:rotate(180deg);cursor:pointer;opacity:0;z-index:1}.toaster[_ngcontent-%COMP%]{position:absolute;left:35%;top:15%}.toast[_ngcontent-%COMP%]{width:250px;color:#fff;font-weight:500;-webkit-animation:slide-down 1s ease-out;animation:slide-down 1s ease-out}"]}),e})();function h(e,t){for(var i=e.split(","),b=i[0].match(/:(.*?);/)[1],s=atob(i[1]),l=s.length,a=new Uint8Array(l);l--;)a[l]=s.charCodeAt(l);return new File([a],t,{type:b})}var m=i("tyNb");const g=[{path:"",component:u}];let T=(()=>{class e{}return e.\u0275mod=n.Lb({type:e}),e.\u0275inj=n.Kb({factory:function(t){return new(t||e)},imports:[[b.c,p.j,s.g,s.q,m.g.forChild(g)]]}),e})()}}]);