!function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var i=0;i<t.length;i++){var b=t[i];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(e,b.key,b)}}function i(e,i,b){return i&&t(e.prototype,i),b&&t(e,b),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{GrB6:function(t,b,a){"use strict";a.r(b),a.d(b,"BellboyTypesModule",function(){return R});var n,l,r=a("ofXK"),s=a("3Pt+"),o=a("tk/3"),c=a("lJxs"),u=a("tkbi"),p=a("q2CC"),d=a("fXoL"),m=((l=function(){function t(i,b){e(this,t),this.http=i,this.gs=b,this._url=p.f,this.bbTypes=[],this.gs.token.subscribe(function(e){n={headers:new o.c({Authorization:"bearer "+e})}})}return i(t,[{key:"getBellboyTypes",value:function(){var e=this;return this.http.get(this._url+"api/admin/bellboy-type",n).pipe(Object(c.a)(function(t){return t.data.bellBoyTypes.map(function(t){switch(t._id){case"5f5da852abd69550176fad72":e.bbTypes.MotoBiker=t;break;case"5ee08bcb69e94f28a37dadc6":e.bbTypes.Car=t;break;case"5ee08bee69e94f28a37dadcc":e.bbTypes.Cycler=t;break;case"5ee08bd469e94f28a37dadc8":e.bbTypes.Walker=t}}),e.bbTypes}))}},{key:"updateBBtype",value:function(e,t,i){var b=new FormData;return b.append("title",e),b.append("icon",t),b.append("bellBoyType",i),this.http.post(this._url+"api/admin/bellboy-type/update",b,n)}}]),t}()).\u0275fac=function(e){return new(e||l)(d.ac(o.a),d.ac(u.a))},l.\u0275prov=d.Jb({token:l,factory:l.\u0275fac,providedIn:"root"}),l),h=a("PSD3"),f=a.n(h),g=a("X9o6"),T=a("1kSV");function y(e,t){1&e&&(d.Tb(0,"div",35),d.Ob(1,"div",36),d.Sb())}var v,S=((v=function(){function t(i,b,a){e(this,t),this.fb=i,this.bbTypesService=b,this.imageCompressor=a,this.isDisable=!0,this.delCharges=[],this.amazonImgUrl=p.a,this.bbTypes=[],this.walker=this.fb.group({title:[{value:"",disabled:!0},s.s.required]}),this.cycler=this.fb.group({title:[{value:"",disabled:!0},s.s.required]}),this.biker=this.fb.group({title:[{value:"",disabled:!0},s.s.required]}),this.car=this.fb.group({title:[{value:"",disabled:!0},s.s.required]})}return i(t,[{key:"ngOnInit",value:function(){this.getBBtypes()}},{key:"getBBtypes",value:function(){var e=this;this.bbTypesService.getBellboyTypes().subscribe(function(t){e.bbTypes=t,e.imagesURL()})}},{key:"imagesURL",value:function(){this.bbTypes.Walker?this.imgURL=this.amazonImgUrl+this.bbTypes.Walker.icon:this.bbTypes.Cycler?this.imgURL1=this.amazonImgUrl+this.bbTypes.Cycler.icon:this.bbTypes.Car?this.imgURL3=this.amazonImgUrl+this.bbTypes.Car.icon:this.imgURL2=this.amazonImgUrl+this.bbTypes.MotoBiker.icon}},{key:"preview",value:function(e,t){var i=this;this.urltype=t;var b=new Image,a=window.URL||window.webkitURL;if(b.src=a.createObjectURL(e[0]),b.onload=function(e){var t=e.path[0].width;i.height=e.path[0].height,i.width=t,i.checkImage()},this.fileName=e[0].name,this.imageFile=e[0],0!==e.length)if(null!=e[0].type.match(/image\/*/)){var n=new FileReader;n.readAsDataURL(e[0]),n.onload=function(e){i.tempImageURL=n.result}}else this.message="Only images are supported."}},{key:"checkImage",value:function(){this.height>300||this.width>=300?this.imageCompress(this.tempImageURL,this.fileName):("imgURL"==this.urltype?this.imgURL=this.tempImageURL:"imgURL1"==this.urltype?this.imgURL1=this.tempImageURL:"imgURL2"==this.urltype?this.imgURL2=this.tempImageURL:this.imgURL3=this.tempImageURL,this.message=null)}},{key:"imageCompress",value:function(e,t){var i=this;this.imageCompressor.compressFile(e,-1,30,100).then(function(e){"imgURL"==i.urltype?i.imgURL=e:"imgURL1"==i.urltype?i.imgURL1=e:"imgURL2"==i.urltype?i.imgURL2=e:i.imgURL3=e})}},{key:"changeDisable",value:function(e){$("#"+e).prop("disabled",!$("#"+e).prop("disabled"))}},{key:"closeToast",value:function(e){$("#"+e).removeClass("d-flex").addClass("d-none")}},{key:"updateWalker",value:function(e,t,i){var b=this.imgURL.match(/api.bellboy.co/g);if(null==this.imgURL||null!=b)this.imageFile=null;else{var a=k(this.imgURL,this.fileName);this.imageFile=a}if(e.value.title==t.title)var n="";else n=e.value.title;this.updateBellBoyType(n,this.imageFile,t._id,"Walker",i)}},{key:"updateCycler",value:function(e,t,i){var b=this.imgURL1.match(/api.bellboy.co/g);if(null==this.imgURL1||null!=b)this.imageFile=null;else{var a=k(this.imgURL1,this.fileName);this.imageFile=a}if(e.value.title==t.title)var n="";else n=e.value.title;this.updateBellBoyType(n,this.imageFile,t._id,"Cycler",i)}},{key:"updateBiker",value:function(e,t,i){var b=this.imgURL2.match(/api.bellboy.co/g);if(null==this.imgURL2||null!=b)this.imageFile=null;else{var a=k(this.imgURL2,this.fileName);this.imageFile=a}if(e.value.title==t.title)var n="";else n=e.value.title;this.updateBellBoyType(n,this.imageFile,t._id,"MotoBiker",i)}},{key:"updateCar",value:function(e,t,i){var b=this.imgURL3.match(/api.bellboy.co/g);if(null==this.imgURL3||null!=b)this.imageFile=null;else{var a=k(this.imgURL3,this.fileName);this.imageFile=a}if(e.value.title==t.title)var n="";else n=e.value.title;this.updateBellBoyType(n,this.imageFile,t._id,"Car",i)}},{key:"updateBellBoyType",value:function(e,t,i,b,a){var n=this;if(this.spinner=!0,""==e&&null==t)return!1;this.bbTypesService.updateBBtype(e,t,i).subscribe(function(e){1==e.success?(n.spinner=!1,n.bbTypes[b]=e.data.bellBoyType,n.imagesURL(),$("#toaster").addClass("d-flex"),$("#"+a).prop("disabled",!0),setTimeout(function(){$("#toaster").removeClass("d-flex")},2500)):($("#"+a).prop("disabled",!0),f.a.fire({icon:"error",title:e.message,width:"512px",timer:2500,showConfirmButton:!1}))},function(e){$("#"+a).prop("disabled",!0),f.a.fire({icon:"error",title:e.error.message,width:"512px",timer:2500,showConfirmButton:!1})})}}]),t}()).\u0275fac=function(e){return new(e||v)(d.Nb(s.b),d.Nb(m),d.Nb(g.a))},v.\u0275cmp=d.Hb({type:v,selectors:[["app-bellboy-types"]],decls:128,vars:13,consts:[["id","tabs"],["class","loading-container",4,"ngIf"],[1,"row","text-left","mb-2","mt-2"],[1,"col-sm-12","mb-0"],[1,"mb-0"],[1,"row","text-left"],[1,"col-md-12","col-lg-12"],[1,"card"],[1,"card-content"],[1,"card-body","position-relative"],["aria-live","polite","id","toaster","aria-atomic","true",1,"d-none","toaster","justify-content-center","align-items-center",2,"min-height","200px"],["role","alert","aria-live","assertive","aria-atomic","true",1,"toast","show"],["type","button","data-dismiss","toast","aria-label","Close",1,"mr-1","close",3,"click"],["aria-hidden","true"],[1,"toast-body","text-center","bg-orange"],[1,"table","table-responsive-md","table-striped"],[3,"formGroup"],[1,"d-flex","align-items-center","justify-content-center"],[1,"w-50"],["id","input1","formControlName","title",1,"form-control","text-center",3,"value"],[1,"ml-2","ft-edit-2","font-weight-bold",3,"click"],[1,"w-100px"],[1,"position-relative"],["onerror","src='../../../assets/img/ico/bb-brand.jpg'","alt","img",1,"table-img-size",3,"src"],[1,"ml-2","ft-edit-2","font-weight-bold"],["type","file","accept","image/*",1,"absolute-input",3,"change"],["file",""],["placement","top","ngbTooltip","Deactive Bellboy",1,"ft-power","text-error"],["type","submit",1,"btn","btn-orange",3,"click"],["id","input2","formControlName","title",1,"form-control","text-center",3,"value"],["file1",""],["id","input3","formControlName","title",1,"form-control","text-center",3,"value"],["file2",""],["id","input4","formControlName","title",1,"form-control","text-center",3,"value"],["file3",""],[1,"loading-container"],[1,"spinner"]],template:function(e,t){if(1&e){var i=d.Ub();d.Tb(0,"section",0),d.Gc(1,y,2,0,"div",1),d.Tb(2,"div",2),d.Tb(3,"div",3),d.Tb(4,"h3",4),d.Ic(5,"Bellboy Types"),d.Sb(),d.Sb(),d.Sb(),d.Tb(6,"div",5),d.Tb(7,"div",6),d.Tb(8,"div",7),d.Tb(9,"div",8),d.Tb(10,"div",9),d.Tb(11,"div",10),d.Tb(12,"div",11),d.Tb(13,"button",12),d.dc("click",function(){return t.closeToast("toaster")}),d.Tb(14,"span",13),d.Ic(15,"\xd7"),d.Sb(),d.Sb(),d.Tb(16,"div",14),d.Ic(17," Updated "),d.Sb(),d.Sb(),d.Sb(),d.Tb(18,"table",15),d.Tb(19,"thead"),d.Tb(20,"tr"),d.Tb(21,"th"),d.Ic(22,"Bellboy"),d.Sb(),d.Tb(23,"th"),d.Ic(24,"Label"),d.Sb(),d.Tb(25,"th"),d.Ic(26,"Logo"),d.Sb(),d.Tb(27,"th"),d.Ic(28,"Status"),d.Sb(),d.Tb(29,"th"),d.Ic(30,"Update"),d.Sb(),d.Sb(),d.Sb(),d.Tb(31,"tbody"),d.Tb(32,"tr",16),d.Tb(33,"td"),d.Ic(34,"Walker"),d.Sb(),d.Tb(35,"td",17),d.Tb(36,"span",18),d.Ob(37,"input",19),d.Sb(),d.Tb(38,"a"),d.Tb(39,"i",20),d.dc("click",function(){return t.changeDisable("input1")}),d.Sb(),d.Sb(),d.Sb(),d.Tb(40,"td",21),d.Tb(41,"div",22),d.Ob(42,"img",23),d.Tb(43,"a"),d.Ob(44,"i",24),d.Sb(),d.Tb(45,"input",25,26),d.dc("change",function(){d.zc(i);var e=d.wc(46);return t.preview(e.files,"imgURL")}),d.Sb(),d.Sb(),d.Sb(),d.Tb(47,"td"),d.Tb(48,"span"),d.Ic(49,"Active"),d.Sb(),d.Tb(50,"a"),d.Ob(51,"i",27),d.Sb(),d.Sb(),d.Tb(52,"td"),d.Tb(53,"a"),d.Tb(54,"button",28),d.dc("click",function(){return t.updateWalker(t.walker,t.bbTypes.Walker,"input1")}),d.Ic(55,"Update"),d.Sb(),d.Sb(),d.Sb(),d.Sb(),d.Tb(56,"tr",16),d.Tb(57,"td"),d.Ic(58,"Cycler"),d.Sb(),d.Tb(59,"td",17),d.Tb(60,"span",18),d.Ob(61,"input",29),d.Sb(),d.Tb(62,"a"),d.Tb(63,"i",20),d.dc("click",function(){return t.changeDisable("input2")}),d.Sb(),d.Sb(),d.Sb(),d.Tb(64,"td",21),d.Tb(65,"div",22),d.Ob(66,"img",23),d.Tb(67,"a"),d.Ob(68,"i",24),d.Sb(),d.Tb(69,"input",25,30),d.dc("change",function(){d.zc(i);var e=d.wc(70);return t.preview(e.files,"imgURL1")}),d.Sb(),d.Sb(),d.Sb(),d.Tb(71,"td"),d.Tb(72,"span"),d.Ic(73,"Active"),d.Sb(),d.Tb(74,"a"),d.Ob(75,"i",27),d.Sb(),d.Sb(),d.Tb(76,"td"),d.Tb(77,"a"),d.Tb(78,"button",28),d.dc("click",function(){return t.updateCycler(t.cycler,t.bbTypes.Cycler,"input2")}),d.Ic(79,"Update"),d.Sb(),d.Sb(),d.Sb(),d.Sb(),d.Tb(80,"tr",16),d.Tb(81,"td"),d.Ic(82,"MotoBiker"),d.Sb(),d.Tb(83,"td",17),d.Tb(84,"span",18),d.Ob(85,"input",31),d.Sb(),d.Tb(86,"a"),d.Tb(87,"i",20),d.dc("click",function(){return t.changeDisable("input3")}),d.Sb(),d.Sb(),d.Sb(),d.Tb(88,"td",21),d.Tb(89,"div",22),d.Ob(90,"img",23),d.Tb(91,"a"),d.Ob(92,"i",24),d.Sb(),d.Tb(93,"input",25,32),d.dc("change",function(){d.zc(i);var e=d.wc(94);return t.preview(e.files,"imgURL2")}),d.Sb(),d.Sb(),d.Sb(),d.Tb(95,"td"),d.Tb(96,"span"),d.Ic(97,"Active"),d.Sb(),d.Tb(98,"a"),d.Ob(99,"i",27),d.Sb(),d.Sb(),d.Tb(100,"td"),d.Tb(101,"a"),d.Tb(102,"button",28),d.dc("click",function(){return t.updateBiker(t.biker,t.bbTypes.MotoBiker,"input3")}),d.Ic(103,"Update"),d.Sb(),d.Sb(),d.Sb(),d.Sb(),d.Tb(104,"tr",16),d.Tb(105,"td"),d.Ic(106,"Car"),d.Sb(),d.Tb(107,"td",17),d.Tb(108,"span",18),d.Ob(109,"input",33),d.Sb(),d.Tb(110,"a"),d.Tb(111,"i",20),d.dc("click",function(){return t.changeDisable("input4")}),d.Sb(),d.Sb(),d.Sb(),d.Tb(112,"td",21),d.Tb(113,"div",22),d.Ob(114,"img",23),d.Tb(115,"a"),d.Ob(116,"i",24),d.Sb(),d.Tb(117,"input",25,34),d.dc("change",function(){d.zc(i);var e=d.wc(118);return t.preview(e.files,"imgURL3")}),d.Sb(),d.Sb(),d.Sb(),d.Tb(119,"td"),d.Tb(120,"span"),d.Ic(121,"Active"),d.Sb(),d.Tb(122,"a"),d.Ob(123,"i",27),d.Sb(),d.Sb(),d.Tb(124,"td"),d.Tb(125,"a"),d.Tb(126,"button",28),d.dc("click",function(){return t.updateCar(t.car,t.bbTypes.Car,"input4")}),d.Ic(127,"Update"),d.Sb(),d.Sb(),d.Sb(),d.Sb(),d.Sb(),d.Sb(),d.Sb(),d.Sb(),d.Sb(),d.Sb(),d.Sb(),d.Sb()}2&e&&(d.Ab(1),d.mc("ngIf",t.spinner),d.Ab(31),d.mc("formGroup",t.walker),d.Ab(5),d.nc("value",null==t.bbTypes||null==t.bbTypes.Walker?null:t.bbTypes.Walker.title),d.Ab(5),d.nc("src",t.imgURL,d.Bc),d.Ab(14),d.mc("formGroup",t.cycler),d.Ab(5),d.nc("value",null==t.bbTypes||null==t.bbTypes.Cycler?null:t.bbTypes.Cycler.title),d.Ab(5),d.nc("src",t.imgURL1,d.Bc),d.Ab(14),d.mc("formGroup",t.biker),d.Ab(5),d.nc("value",null==t.bbTypes||null==t.bbTypes.MotoBiker?null:t.bbTypes.MotoBiker.title),d.Ab(5),d.nc("src",t.imgURL2,d.Bc),d.Ab(14),d.mc("formGroup",t.car),d.Ab(5),d.nc("value",null==t.bbTypes||null==t.bbTypes.Car?null:t.bbTypes.Car.title),d.Ab(5),d.nc("src",t.imgURL3,d.Bc))},directives:[r.o,s.l,s.f,s.a,s.k,s.d,T.p],styles:[".ft-power[_ngcontent-%COMP%]{margin-left:10px;font-weight:700;font-size:15px}.w-100px[_ngcontent-%COMP%]{width:100px}.absolute-icon[_ngcontent-%COMP%]{position:absolute;bottom:-12px;right:5px}.absolute-input[_ngcontent-%COMP%]{position:absolute;width:100px;left:60px;transform:rotate(180deg);cursor:pointer;opacity:0;z-index:1}.toaster[_ngcontent-%COMP%]{position:absolute;left:35%;top:15%}.toast[_ngcontent-%COMP%]{width:250px;color:#fff;font-weight:500;-webkit-animation:slide-down 1s ease-out;animation:slide-down 1s ease-out}"]}),v);function k(e,t){for(var i=e.split(","),b=i[0].match(/:(.*?);/)[1],a=atob(i[1]),n=a.length,l=new Uint8Array(n);n--;)l[n]=a.charCodeAt(n);return new File([l],t,{type:b})}var U,w=a("tyNb"),L=[{path:"",component:S}],R=((U=function t(){e(this,t)}).\u0275mod=d.Lb({type:U}),U.\u0275inj=d.Kb({factory:function(e){return new(e||U)},imports:[[r.c,T.j,s.g,s.q,w.g.forChild(L)]]}),U)}}])}();