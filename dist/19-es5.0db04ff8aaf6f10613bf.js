!function(){function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function i(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{"0eu4":function(e,n,c){"use strict";c.r(n),c.d(n,"HiringActionsModule",function(){return nt});var o,r,a,b=c("ofXK"),l=c("mrSG"),s=c("3Pt+"),u=c("tk/3"),d=c("PSD3"),f=c.n(d),g=c("lJxs"),m=c("vkgz"),p=c("tkbi"),h=c("q2CC"),v=c("fXoL"),S=c("1kSV"),T=((a=function(){function e(i,n,c){t(this,e),this.http=i,this.modalService=n,this.gs=c,this._url=h.f,this.gs.token.subscribe(function(t){var e=t;o={headers:new u.c({Authorization:"bearer "+e})},r={headers:new u.c({"Content-Type":"application/x-www-form-urlencoded",Authorization:"bearer "+e})}})}return i(e,[{key:"getHiringActions",value:function(t){return this.http.get(this._url+"api/admin/hiring-action-type?status="+t,o)}},{key:"addHiringActions",value:function(t,e){var i=new FormData;return i.append("title",t.title),i.append("description",t.desc),i.append("icon",e),this.http.post(this._url+"api/admin/hiring-action-type",i,o).pipe(Object(g.a)(function(t){return 1==t.success?A("success","Added"):A("error",t.msg),t},function(t){A("error",t.error.msg)}))}},{key:"assignLabel",value:function(t,e,i){var n=this,c=(new u.d).set("label",e).set("hiringActionType",t).set("locale",i);return this.http.post(this._url+"api/admin/hiring-action-type/assignLabel",c.toString(),r).pipe(Object(g.a)(function(t){return 200==t.code?(A("success","Label Successfully Added"),n.modalService.dismissAll()):(A("error",t.msg),n.modalService.dismissAll()),t},function(t){A("error",t.error.msg),n.modalService.dismissAll()}))}},{key:"changeStatus",value:function(t,e){var i=new FormData;return i.append("status",t),i.append("action_type_id",e),this.http.put(this._url+"api/admin/hiring-action-type",i,o).pipe(Object(m.a)(function(){A("success","Status is Changed")},function(t){A("error",t.error.msg)}))}}]),e}()).\u0275fac=function(t){return new(t||a)(v.ac(u.a),v.ac(S.i),v.ac(p.a))},a.\u0275prov=v.Jb({token:a,factory:a.\u0275fac,providedIn:"root"}),a);function A(t,e){f.a.fire({icon:t,text:e,width:"400px",timer:2500,showConfirmButton:!1})}function y(t,e){if(1&t){var i=v.Ub();v.Tb(0,"div",20),v.dc("click",function(){v.zc(i);var t=v.fc();return t.tableContext="all",t.getActions("")}),v.Ic(1,"All Actions"),v.Sb()}}function k(t,e){1&t&&v.Pb(0)}function I(t,e){1&t&&v.Pb(0)}function w(t,e){if(1&t&&(v.Tb(0,"table",21),v.Tb(1,"thead"),v.Gc(2,k,1,0,"ng-container",22),v.Sb(),v.Tb(3,"tbody"),v.Gc(4,I,1,0,"ng-container",22),v.Sb(),v.Sb()),2&t){v.fc();var i=v.wc(30),n=v.wc(32);v.Ab(2),v.mc("ngTemplateOutlet",i),v.Ab(2),v.mc("ngTemplateOutlet",n)}}function x(t,e){if(1&t){var i=v.Ub();v.Tb(0,"div",20),v.dc("click",function(){v.zc(i);var t=v.fc();return t.tableContext="active",t.getActions("true")}),v.Ic(1,"Active Actions"),v.Sb()}}function G(t,e){1&t&&v.Pb(0)}function O(t,e){1&t&&v.Pb(0)}function L(t,e){if(1&t&&(v.Tb(0,"table",21),v.Tb(1,"thead"),v.Gc(2,G,1,0,"ng-container",22),v.Sb(),v.Tb(3,"tbody"),v.Gc(4,O,1,0,"ng-container",22),v.Sb(),v.Sb()),2&t){v.fc();var i=v.wc(30),n=v.wc(32);v.Ab(2),v.mc("ngTemplateOutlet",i),v.Ab(2),v.mc("ngTemplateOutlet",n)}}function C(t,e){if(1&t){var i=v.Ub();v.Tb(0,"div",20),v.dc("click",function(){v.zc(i);var t=v.fc();return t.tableContext="blocked",t.getActions("false")}),v.Ic(1,"Blocked Actions"),v.Sb()}}function z(t,e){1&t&&v.Pb(0)}function H(t,e){1&t&&v.Pb(0)}function U(t,e){if(1&t&&(v.Tb(0,"table",21),v.Tb(1,"thead"),v.Gc(2,z,1,0,"ng-container",22),v.Sb(),v.Tb(3,"tbody"),v.Gc(4,H,1,0,"ng-container",22),v.Sb(),v.Sb()),2&t){v.fc();var i=v.wc(30),n=v.wc(32);v.Ab(2),v.mc("ngTemplateOutlet",i),v.Ab(2),v.mc("ngTemplateOutlet",n)}}function j(t,e){if(1&t&&(v.Tb(0,"p",42),v.Ic(1),v.Sb()),2&t){var i=v.fc(2);v.Ab(1),v.Jc(i.message)}}function P(t,e){1&t&&(v.Tb(0,"p",43),v.Ic(1," Image is required "),v.Sb())}function _(t,e){1&t&&(v.Tb(0,"p",43),v.Ic(1," Title is required "),v.Sb())}function F(t,e){1&t&&(v.Tb(0,"p",43),v.Ic(1," Description is required "),v.Sb())}function R(t,e){if(1&t){var i=v.Ub();v.Tb(0,"div",23),v.Tb(1,"h3",24),v.Ic(2,"Add Vehicle Type"),v.Sb(),v.Tb(3,"a",25),v.dc("click",function(){return e.$implicit.close("Cancel Modal")}),v.Ob(4,"i",26),v.Sb(),v.Sb(),v.Tb(5,"div",27),v.Tb(6,"form",28),v.Tb(7,"div",29),v.Tb(8,"div",30),v.Tb(9,"input",31,32),v.dc("change",function(){v.zc(i);var t=v.wc(10);return v.fc().preview(t.files)}),v.Sb(),v.Tb(11,"button",33),v.Ic(12,"Add Image"),v.Sb(),v.Ob(13,"img",34),v.Gc(14,j,2,1,"p",35),v.Gc(15,P,2,0,"p",36),v.Sb(),v.Sb(),v.Tb(16,"div",37),v.Ob(17,"input",38),v.Gc(18,_,2,0,"p",36),v.Sb(),v.Tb(19,"div",37),v.Ob(20,"input",39),v.Gc(21,F,2,0,"p",36),v.Sb(),v.Sb(),v.Sb(),v.Tb(22,"div",40),v.Tb(23,"div"),v.Tb(24,"button",41),v.dc("click",function(){v.zc(i);var t=v.fc();return t.addAction(t.addHiringAction)}),v.Ic(25,"Add"),v.Sb(),v.Sb(),v.Sb()}if(2&t){var n=v.fc();v.Ab(6),v.mc("formGroup",n.addHiringAction),v.Ab(7),v.nc("src",n.imgURL,v.Bc),v.Ab(1),v.mc("ngIf",n.message),v.Ab(1),v.mc("ngIf",null==n.imgURL&&n.submitted),v.Ab(3),v.mc("ngIf",n.addHiringAction.controls.title.hasError("required")&&n.submitted),v.Ab(3),v.mc("ngIf",n.addHiringAction.controls.desc.hasError("required")&&n.submitted)}}function q(t,e){if(1&t&&(v.Tb(0,"option",52),v.Ic(1),v.Sb()),2&t){var i=e.$implicit;v.pc("value","",i.code,"/",i._id,""),v.Ab(1),v.Kc(" ",i.title," ")}}function B(t,e){1&t&&(v.Tb(0,"div",37),v.Ob(1,"input",53),v.Sb())}function M(t,e){1&t&&(v.Tb(0,"div",37),v.Ob(1,"input",54),v.Sb())}function N(t,e){if(1&t){var i=v.Ub();v.Tb(0,"div",44),v.Tb(1,"h3",24),v.Ic(2,"Add Label"),v.Sb(),v.Tb(3,"a",25),v.dc("click",function(){return e.$implicit.close("Cancel Modal")}),v.Ob(4,"i",26),v.Sb(),v.Sb(),v.Tb(5,"div",45),v.Tb(6,"form",28),v.Tb(7,"div",37),v.Tb(8,"select",46),v.dc("change",function(t){return v.zc(i),v.fc().changeLocal(t)}),v.Tb(9,"option",47),v.Ic(10,"Select Language"),v.Sb(),v.Gc(11,q,2,3,"option",48),v.Sb(),v.Sb(),v.Gc(12,B,2,0,"div",49),v.Gc(13,M,2,0,"div",49),v.Sb(),v.Sb(),v.Tb(14,"div",50),v.Tb(15,"button",51),v.dc("click",function(){v.zc(i);var t=v.fc();return t.submitLabel(t.assignLabel)}),v.Ic(16,"Add Label"),v.Sb(),v.Sb()}if(2&t){var n=v.fc();v.Ab(6),v.mc("formGroup",n.assignLabel),v.Ab(5),v.mc("ngForOf",n.locals),v.Ab(1),v.mc("ngIf","ur"==n.code||"ar"==n.code),v.Ab(1),v.mc("ngIf","en"==n.code)}}function $(t,e){if(1&t&&(v.Tb(0,"div",55),v.Tb(1,"a",56),v.Tb(2,"span",57),v.dc("click",function(){return e.$implicit.close("Cancel Cick")}),v.Sb(),v.Sb(),v.Sb(),v.Tb(3,"div",58),v.Ob(4,"img",59),v.Sb()),2&t){var i=v.fc();v.Ab(4),v.nc("src",i.currentImage,v.Bc)}}function J(t,e){1&t&&(v.Tb(0,"tr"),v.Tb(1,"th"),v.Ic(2,"Icon"),v.Sb(),v.Tb(3,"th"),v.Ic(4,"Title"),v.Sb(),v.Tb(5,"th",60),v.Ic(6,"Description"),v.Sb(),v.Tb(7,"th"),v.Ic(8,"Task Performed"),v.Sb(),v.Tb(9,"th"),v.Ic(10,"Action"),v.Sb(),v.Sb())}function D(t,e){1&t&&v.Pb(0)}function V(t,e){if(1&t){var i=v.Ub();v.Tb(0,"button",68),v.dc("click",function(){v.zc(i);var t=v.fc().$implicit;return v.fc(2).changeActionStatus(!1,t._id)}),v.Ic(1,"Block Action"),v.Sb()}}function E(t,e){if(1&t){var i=v.Ub();v.Tb(0,"button",69),v.dc("click",function(){v.zc(i);var t=v.fc().$implicit;return v.fc(2).changeActionStatus(!0,t._id)}),v.Ic(1,"Active Action"),v.Sb()}}function K(t,e){if(1&t){var i=v.Ub();v.Tb(0,"tr"),v.Tb(1,"td",62),v.Tb(2,"img",63),v.dc("click",function(){v.zc(i);var t=e.$implicit,n=v.fc(2),c=v.wc(28);return n.bigImage(c,t.icon)}),v.Sb(),v.Sb(),v.Tb(3,"td"),v.Ic(4),v.Sb(),v.Tb(5,"td",64),v.Ic(6),v.Sb(),v.Tb(7,"td"),v.Ic(8),v.Sb(),v.Tb(9,"td"),v.Tb(10,"button",65),v.dc("click",function(){v.zc(i);var t=e.$implicit,n=v.fc(2),c=v.wc(26);return n.open(c),n.actionTypeId=t._id}),v.Ic(11,"Assign Label"),v.Sb(),v.Gc(12,V,2,0,"button",66),v.Gc(13,E,2,0,"button",67),v.Sb(),v.Sb()}if(2&t){var n=e.$implicit,c=v.fc(2);v.Ab(2),v.pc("src","",c.amazonImgUrl,"",n.icon,"",v.Bc),v.Ab(2),v.Jc(n.title),v.Ab(2),v.Jc(n.description),v.Ab(2),v.Jc(n.actionCount),v.Ab(4),v.mc("ngIf","active"==c.tableContext),v.Ab(1),v.mc("ngIf","blocked"==c.tableContext)}}function X(t,e){if(1&t&&(v.Gc(0,D,1,0,"ng-container",22),v.Gc(1,K,14,7,"tr",61)),2&t){var i=v.fc(),n=v.wc(34);v.mc("ngTemplateOutlet",n),v.Ab(1),v.mc("ngForOf",i.hiringActions)}}function Q(t,e){1&t&&(v.Tb(0,"tr"),v.Tb(1,"td",71),v.Ob(2,"div",72),v.Sb(),v.Sb())}function W(t,e){if(1&t&&v.Gc(0,Q,3,0,"tr",70),2&t){var i=v.fc();v.mc("ngIf",i.spinner)}}var Y,Z,tt=((Y=function(){function e(i,n,c,o){t(this,e),this.fb=i,this.modalService=n,this.hirngActService=c,this.globalService=o,this.hiringActions=[],this.locals=[],this.tableContext="all",this.amazonImgUrl=h.a,this.addHiringAction=this.fb.group({title:["",s.s.required],hasLocation:[""],desc:["",s.s.required]}),this.assignLabel=this.fb.group({label:["",s.s.required]})}return i(e,[{key:"ngOnInit",value:function(){var t=this;this.getActions(""),this.globalService.getLocals().subscribe(function(e){200==e.code&&(t.locals=e.data.data)})}},{key:"open",value:function(t){this.modalService.open(t,{ariaLabelledBy:"modal-basic-title"})}},{key:"changeLocal",value:function(t){this.singleLocal=t.target.value.split("/"),this.code=this.singleLocal[0],this.localId=this.singleLocal[1]}},{key:"bigImage",value:function(t,e){this.currentImage=this.amazonImgUrl+e,this.modalService.open(t,{ariaLabelledBy:"modal-basic-title"})}},{key:"preview",value:function(t){return Object(l.a)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var i=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.imageFile=t[0],0!==t.length){e.next=2;break}return e.abrupt("return",!1);case 2:if(null==t[0].type.match(/image\/*/)){e.next=8;break}return e.next=5,function(t){return new Promise(function(e,i){var n=new FileReader;n.readAsDataURL(t[0]),n.onload=function(){return e(n.result)},n.onerror=function(t){return i(t)}})}(t).then(function(t){i.imgURL=t});case 5:this.globalService.compress(this.imgURL,t[0].name).then(function(t){var e=t[0];if(1==e.status)return i.imageFile=e.file,void(i.imgURL=e.con64)}),e.next=9;break;case 8:this.message="Only images are supported.";case 9:case"end":return e.stop()}},e,this)}))}},{key:"addAction",value:function(t){var e=this;if(this.submitted=!0,!t.valid||void 0===this.imageFile)return!1;var i=t.getRawValue();this.hirngActService.addHiringActions(i,this.imageFile).subscribe(function(t){1==t.success?(e.modalService.dismissAll(),e.getActions("")):e.modalService.dismissAll()},function(t){e.modalService.dismissAll()})}},{key:"getActions",value:function(t){var e=this;this.spinner=!0,this.hirngActService.getHiringActions(t).subscribe(function(t){e.spinner=!1,e.hiringActions=t.data.HiringActionTypes})}},{key:"submitLabel",value:function(t){var e=this;if(this.submitted=!0,t.valid){var i=t.getRawValue();this.hirngActService.assignLabel(this.actionTypeId,i.label,this.localId).subscribe(function(t){200==t.code&&e.getActions("")})}}},{key:"changeActionStatus",value:function(t,e){var i=this;this.hirngActService.changeStatus(t,e).subscribe(function(){i.getActions(!t)})}}]),e}()).\u0275fac=function(t){return new(t||Y)(v.Nb(s.b),v.Nb(S.i),v.Nb(T),v.Nb(p.a))},Y.\u0275cmp=v.Hb({type:Y,selectors:[["app-hiring-actions"]],decls:35,vars:0,consts:[["id","tabs"],[1,"row","text-left","mt-2"],[1,"col-sm-6","mb-1"],[1,"mb-0"],[1,"col-sm-6","text-right"],[1,"btn","btn-orange","mb-0",3,"click"],[1,"row","text-left"],[1,"col-md-12","col-lg-12"],[1,"card"],[1,"card-content"],[1,"card-body"],["type","pills"],["ngbTabTitle",""],["ngbTabContent",""],["addActionsModel",""],["addLabel",""],["bigImg",""],["tableHeader",""],["tableBody",""],["shimmer",""],[1,"tab-padding",3,"click"],[1,"table","table-responsive-md","table-striped"],[4,"ngTemplateOutlet"],[1,"modal-header","justify-content-center","mb-1"],[1,"card-title","mb-0"],[3,"click"],[1,"ft-x","close-icon"],[1,"modal-body","pb-0"],[3,"formGroup"],[1,"form-group","text-center","col-sm-12"],[1,"position-relative"],["accept","image/*","type","file","accept","image/*","type","file",1,"upload-input",3,"change"],["file",""],[1,"camera-icon","btn","btn-orange"],["id","img1","onerror","src='../../../assets/img/ico/bb-brand.jpg'",1,"upload-image",3,"src"],["class","text-error mb-0",4,"ngIf"],["class","text-error",4,"ngIf"],[1,"form-group"],["type","text","formControlName","title","placeholder","Action Title",1,"form-control"],["type","text","formControlName","desc","placeholder","Description",1,"form-control"],[1,"modal-footer","mb-2"],["type","submit",1,"btn","btn-success",3,"click"],[1,"text-error","mb-0"],[1,"text-error"],[1,"modal-header","justify-content-center"],[1,"modal-body"],[1,"form-control",3,"change"],["value",""],[3,"value",4,"ngFor","ngForOf"],["class","form-group",4,"ngIf"],[1,"modal-footer"],["type","button",1,"btn","btn-success",3,"click"],[3,"value"],["type","text","formControlName","label","placeholder","\u0644\u06cc\u0628\u0644",1,"form-control","text-right"],["type","text","formControlName","label","placeholder","Label",1,"form-control"],[1,"modal-header","d-flex","justify-content-end","pb-0","mb-2"],[1,"mb-2"],[1,"ft-x","text-error",3,"click"],[1,"modal-body","d-flex","justify-content-center","pt-0"],["onerror","src='../../../../assets/img/gallery/1.jpg'",1,"object-fit",3,"src"],[1,"text-left"],[4,"ngFor","ngForOf"],[1,"image-td"],["onerror","src='../../../assets/img/gallery/1.jpg'","alt","img",1,"table-img-size",3,"src","click"],[1,"desc"],[1,"btn","btn-orange",3,"click"],["class","btn btn-danger ml-2",3,"click",4,"ngIf"],["class","btn btn-success ml-2",3,"click",4,"ngIf"],[1,"btn","btn-danger","ml-2",3,"click"],[1,"btn","btn-success","ml-2",3,"click"],[4,"ngIf"],["colspan","12"],[1,"py-3","shine","w-100"]],template:function(t,e){if(1&t){var i=v.Ub();v.Tb(0,"section",0),v.Tb(1,"div",1),v.Tb(2,"div",2),v.Tb(3,"h3",3),v.Ic(4,"Hiring Actions Types"),v.Sb(),v.Sb(),v.Tb(5,"div",4),v.Tb(6,"button",5),v.dc("click",function(){v.zc(i);var t=v.wc(24);return e.open(t)}),v.Ic(7,"Add Action Type"),v.Sb(),v.Sb(),v.Sb(),v.Tb(8,"div",6),v.Tb(9,"div",7),v.Tb(10,"div",8),v.Tb(11,"div",9),v.Tb(12,"div",10),v.Tb(13,"ngb-tabset",11),v.Tb(14,"ngb-tab"),v.Gc(15,y,2,0,"ng-template",12),v.Gc(16,w,5,2,"ng-template",13),v.Sb(),v.Tb(17,"ngb-tab"),v.Gc(18,x,2,0,"ng-template",12),v.Gc(19,L,5,2,"ng-template",13),v.Sb(),v.Tb(20,"ngb-tab"),v.Gc(21,C,2,0,"ng-template",12),v.Gc(22,U,5,2,"ng-template",13),v.Sb(),v.Sb(),v.Sb(),v.Sb(),v.Sb(),v.Sb(),v.Sb(),v.Sb(),v.Gc(23,R,26,6,"ng-template",null,14,v.Hc),v.Gc(25,N,17,4,"ng-template",null,15,v.Hc),v.Gc(27,$,5,1,"ng-template",null,16,v.Hc),v.Gc(29,J,11,0,"ng-template",null,17,v.Hc),v.Gc(31,X,2,2,"ng-template",null,18,v.Hc),v.Gc(33,W,1,1,"ng-template",null,19,v.Hc)}},directives:[S.o,S.l,S.n,S.m,b.p,s.u,s.l,s.f,b.o,s.a,s.k,s.d,s.o,s.t,b.n],styles:[".upload-input[_ngcontent-%COMP%]{position:absolute;right:0;opacity:0;bottom:0;z-index:1;cursor:pointer}.upload-image[_ngcontent-%COMP%]{width:120px;height:120px;-o-object-fit:cover;object-fit:cover;border-radius:15px}.camera-icon[_ngcontent-%COMP%]{position:absolute;bottom:0;right:66px}.ng2-smart-page-item[_ngcontent-%COMP%]{line-height:unset;margin:0!important}.form-check-label[_ngcontent-%COMP%]{cursor:pointer;text-transform:capitalize}"]}),Y),et=c("tyNb"),it=[{path:"",component:tt}],nt=((Z=function e(){t(this,e)}).\u0275mod=v.Lb({type:Z}),Z.\u0275inj=v.Kb({factory:function(t){return new(t||Z)},imports:[[b.c,s.g,S.j,s.q,et.g.forChild(it)]]}),Z)}}])}();