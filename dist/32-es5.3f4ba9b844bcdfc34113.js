!function(){function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function n(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[32],{QMXj:function(e,i,c){"use strict";c.r(i),c.d(i,"VersionControlModule",function(){return L});var o,r,s=c("ofXK"),b=c("3Pt+"),a=c("PSD3"),u=c.n(a),d=c("tk/3"),l=c("q2CC"),f=c("lJxs"),v=c("vkgz"),p=c("fXoL"),m=((r=function(){function e(n){t(this,e),this.http=n,o={headers:new d.d({"Content-Type":"application/x-www-form-urlencoded"})}}return n(e,[{key:"getVersionList",value:function(){return this.http.get(l.g+"api/admin/version").pipe(Object(f.a)(function(t){return t.data}))}},{key:"addVersion",value:function(t){var e=t.version,n=t.title,i=t.description,c=(new d.e).set("version",e).set("title",n).set("description",i);return this.http.post(l.g+"api/admin/version",c.toString(),o).pipe(Object(v.a)(function(t){t.success?Object(l.f)("success","Version Added Successfully"):Object(l.f)("warning",t.message)},function(t){return Object(l.f)("error",t.error.message)}))}},{key:"changeStatus",value:function(t){return this.http.put(l.g+"api/admin/version/activate/"+t,"",o).pipe(Object(v.a)(function(t){t.success?Object(l.f)("success","Version is Activated"):Object(l.f)("warning",t.message)},function(t){Object(l.f)("error",t.error.message)}))}}]),e}()).\u0275fac=function(t){return new(t||r)(p.ac(d.b))},r.\u0275prov=p.Jb({token:r,factory:r.\u0275fac}),r),S=c("1kSV");function h(t,e){1&t&&p.Pb(0)}function T(t,e){1&t&&p.Pb(0)}function g(t,e){1&t&&(p.Tb(0,"tr"),p.Tb(1,"td",9),p.Ob(2,"div",10),p.Sb(),p.Sb())}function y(t,e){1&t&&(p.Tb(0,"tr"),p.Tb(1,"th"),p.Ic(2,"Version"),p.Sb(),p.Tb(3,"th"),p.Ic(4,"Title"),p.Sb(),p.Tb(5,"th",11),p.Ic(6,"Description"),p.Sb(),p.Tb(7,"th"),p.Ic(8,"Status"),p.Sb(),p.Tb(9,"th"),p.Ic(10,"AddedBy"),p.Sb(),p.Tb(11,"th"),p.Ic(12,"Date"),p.Sb(),p.Tb(13,"th"),p.Ic(14,"Time"),p.Sb(),p.Tb(15,"th"),p.Ic(16,"Actions"),p.Sb(),p.Sb())}function w(t,e){if(1&t){var n=p.Ub();p.Tb(0,"tr"),p.Tb(1,"td"),p.Ic(2),p.Sb(),p.Tb(3,"td"),p.Ic(4),p.Sb(),p.Tb(5,"td",13),p.Ic(6),p.Sb(),p.Tb(7,"td",14),p.Ic(8),p.Sb(),p.Tb(9,"td"),p.Ic(10),p.Sb(),p.Tb(11,"td"),p.Ic(12),p.gc(13,"date"),p.Sb(),p.Tb(14,"td"),p.Ic(15),p.gc(16,"date"),p.Sb(),p.Tb(17,"td"),p.Tb(18,"button",15),p.dc("click",function(){p.zc(n);var t=e.$implicit;return p.fc(2).sendId(t._id)}),p.Ic(19),p.Sb(),p.Sb(),p.Sb()}if(2&t){var i=e.$implicit;p.Ab(2),p.Kc(" ",i.version," "),p.Ab(2),p.Jc(i.title),p.Ab(2),p.Jc(i.description),p.Ab(1),p.mc("ngClass",0==i.active?"text-danger":"text-success"),p.Ab(1),p.Jc(0==i.active?"Deactive":"Active"),p.Ab(2),p.Kc(" ",i.addedBy.name," "),p.Ab(2),p.Jc(p.ic(13,10,i.created_at,"mediumDate")),p.Ab(3),p.Jc(p.ic(16,13,i.created_at,"mediumTime")),p.Ab(3),p.mc("ngClass",0==i.active?"btn-success":"btn-danger"),p.Ab(1),p.Jc(0==i.active?"Activate":"Deactivate")}}function A(t,e){if(1&t&&p.Gc(0,w,20,16,"tr",12),2&t){var n=p.fc();p.mc("ngForOf",n.versionList)}}var k,I=((k=function(){function e(){t(this,e),this.id=new p.n}return n(e,[{key:"ngOnInit",value:function(){}},{key:"sendId",value:function(t){this.id.emit(t)}}]),e}()).\u0275fac=function(t){return new(t||k)},k.\u0275cmp=p.Hb({type:k,selectors:[["app-version-history"]],inputs:{versionList:"versionList"},outputs:{id:"id"},decls:15,vars:2,consts:[[1,"card"],[1,"card-body"],[1,"row"],[1,"col-12"],[1,"table","table-responsive-md","table-striped","text-left"],[4,"ngTemplateOutlet"],["shimmer",""],["tableHead",""],["tableData",""],["colspan","12"],[1,"py-3","shine","w-100"],[1,"text-left"],[4,"ngFor","ngForOf"],[1,"w-25"],[3,"ngClass"],[1,"btn",3,"ngClass","click"]],template:function(t,e){if(1&t&&(p.Tb(0,"div",0),p.Tb(1,"div",1),p.Tb(2,"div",2),p.Tb(3,"div",3),p.Tb(4,"table",4),p.Tb(5,"thead"),p.Gc(6,h,1,0,"ng-container",5),p.Sb(),p.Tb(7,"tbody"),p.Gc(8,T,1,0,"ng-container",5),p.Sb(),p.Sb(),p.Sb(),p.Sb(),p.Sb(),p.Sb(),p.Gc(9,g,3,0,"ng-template",null,6,p.Hc),p.Gc(11,y,17,0,"ng-template",null,7,p.Hc),p.Gc(13,A,1,1,"ng-template",null,8,p.Hc)),2&t){var n=p.wc(10),i=p.wc(12),c=p.wc(14);p.Ab(6),p.mc("ngTemplateOutlet",i),p.Ab(2),p.mc("ngTemplateOutlet",e.versionList?c:n)}},directives:[s.p,s.n,s.m],pipes:[s.f],styles:[""]}),k);function V(t,e){if(1&t){var n=p.Ub();p.Tb(0,"div",8),p.Tb(1,"h3",9),p.Ic(2,"Add Version"),p.Sb(),p.Tb(3,"a",10),p.dc("click",function(){return e.$implicit.close("Cancel Modal")}),p.Ob(4,"i",11),p.Sb(),p.Sb(),p.Tb(5,"div",12),p.Tb(6,"form",13),p.dc("ngSubmit",function(){return p.zc(n),p.fc().submitVersion()}),p.Tb(7,"div",14),p.Ob(8,"input",15),p.Sb(),p.Tb(9,"div",14),p.Ob(10,"input",16),p.Sb(),p.Tb(11,"div",14),p.Ob(12,"input",17),p.Sb(),p.Tb(13,"div",18),p.Tb(14,"button",19),p.Ic(15," Add Version "),p.Sb(),p.Sb(),p.Sb(),p.Sb()}if(2&t){var i=p.fc();p.Ab(6),p.mc("formGroup",i.versionForm),p.Ab(8),p.mc("disabled",i.versionForm.invalid)}}var O,C,j=((O=function(){function e(n,i){t(this,e),this.service=n,this.modalService=i,this.versionForm=new b.e({version:new b.c("",b.s.required),title:new b.c(""),description:new b.c("")})}return n(e,[{key:"ngOnInit",value:function(){this.getVersions()}},{key:"openModal",value:function(t){this.modalService.open(t)}},{key:"getVersions",value:function(){var t=this;this.service.getVersionList().subscribe(function(e){t.response=e.versions})}},{key:"submitVersion",value:function(){var t=this,e=this.versionForm.getRawValue();""!==e&&this.service.addVersion(e).subscribe(function(){t.modalService.dismissAll(),t.versionForm.reset(),t.getVersions()},function(e){t.modalService.dismissAll(),t.versionForm.reset(),t.getVersions()})}},{key:"changeStatus",value:function(t){var e=this;u.a.fire({icon:"question",title:"Are You Sure",width:"300px",showCancelButton:!0,showConfirmButton:!0}).then(function(n){n.value&&e.service.changeStatus(t).subscribe(function(){e.getVersions()})})}}]),e}()).\u0275fac=function(t){return new(t||O)(p.Nb(m),p.Nb(S.i))},O.\u0275cmp=p.Hb({type:O,selectors:[["app-version-control"]],decls:12,vars:1,consts:[["id","tabs"],[1,"row","text-left","mt-2"],[1,"col-6","mb-1"],[1,"mb-0"],[1,"col-6","text-right"],[1,"btn","btn-orange",3,"click"],[3,"versionList","id"],["addVersion",""],[1,"modal-header","justify-content-center","mb-1"],[1,"card-title","mb-0"],[3,"click"],[1,"ft-x","close-icon"],[1,"modal-body"],[1,"row",3,"formGroup","ngSubmit"],[1,"form-group","col-12"],["type","text","placeholder","Type Version","formControlName","version",1,"form-control"],["type","text","placeholder","Type Title","formControlName","title",1,"form-control"],["type","text","placeholder","Type Description","formControlName","description",1,"form-control"],[1,"modal-footer","ml-auto"],["type","submit",1,"btn","btn-orange",3,"disabled"]],template:function(t,e){if(1&t){var n=p.Ub();p.Tb(0,"section",0),p.Tb(1,"div",1),p.Tb(2,"div",2),p.Tb(3,"h3",3),p.Ic(4,"Version Control"),p.Sb(),p.Sb(),p.Tb(5,"div",4),p.Tb(6,"button",5),p.dc("click",function(){p.zc(n);var t=p.wc(11);return e.openModal(t)}),p.Ic(7,"Add Version"),p.Sb(),p.Sb(),p.Sb(),p.Tb(8,"app-version-history",6),p.dc("id",function(t){return e.changeStatus(t)}),p.Sb(),p.Sb(),p.Tb(9,"section"),p.Gc(10,V,16,2,"ng-template",null,7,p.Hc),p.Sb()}2&t&&(p.Ab(8),p.mc("versionList",e.response))},directives:[I,b.u,b.l,b.f,b.a,b.k,b.d],styles:[""]}),O),x=c("tyNb"),J=[{path:"",component:j}],L=((C=function e(){t(this,e)}).\u0275mod=p.Lb({type:C}),C.\u0275inj=p.Kb({factory:function(t){return new(t||C)},providers:[m],imports:[[s.c,b.q,x.g.forChild(J)]]}),C)}}])}();