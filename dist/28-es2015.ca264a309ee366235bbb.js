(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{CAHj:function(e,t,i){"use strict";i.r(t),i.d(t,"ManageBrandModule",function(){return F});var n=i("ofXK"),a=i("mrSG"),c=i("3Pt+"),r=i("Ewgu"),b=i("gyHG"),s=i("tkbi"),o=i("PBnp"),l=i("q2CC"),d=i("fXoL"),g=i("1kSV"),p=i("tyNb");function m(e,t){1&e&&d.Pb(0)}function u(e,t){if(1&e&&(d.Tb(0,"td"),d.Ic(1),d.Sb()),2&e){const e=t.$implicit;d.Ab(1),d.Jc(e.title)}}const h=function(e){return["/managebrand/manageBrandDetail",e]};function f(e,t){if(1&e){const e=d.Ub();d.Tb(0,"tr"),d.Gc(1,u,2,1,"td",17),d.Tb(2,"td"),d.Ic(3),d.Sb(),d.Tb(4,"td"),d.Tb(5,"a",27),d.dc("click",function(){d.zc(e);const i=t.$implicit,n=d.fc(),a=d.wc(44);return n.bigImage(a,i.icon)}),d.Ob(6,"img",28),d.Sb(),d.Sb(),d.Tb(7,"td"),d.Ic(8,"Hasnat Hameed"),d.Sb(),d.Tb(9,"td"),d.Tb(10,"a",29),d.Ob(11,"img",30),d.Sb(),d.Sb(),d.Sb()}if(2&e){const e=t.$implicit,i=d.fc();d.Ab(1),d.mc("ngForOf",e.vehicleTypes),d.Ab(2),d.Jc(e.title),d.Ab(3),d.pc("src","",i.amazonImgUrl,"",e.icon,"",d.Bc),d.Ab(4),d.mc("routerLink",d.rc(5,h,e._id))}}const T=function(e){return{active:e}};function S(e,t){if(1&e){const e=d.Ub();d.Tb(0,"li",39),d.Tb(1,"a",40),d.dc("click",function(){d.zc(e);const i=t.$implicit;return d.fc(2).setPage(i)}),d.Ic(2),d.Sb(),d.Sb()}if(2&e){const e=t.$implicit,i=d.fc(2);d.mc("ngClass",d.rc(2,T,i.pager.currentPage===e)),d.Ab(2),d.Jc(e)}}const v=function(e){return{disabled:e}};function B(e,t){if(1&e){const e=d.Ub();d.Tb(0,"ul",31),d.Tb(1,"li",32),d.Tb(2,"a",33),d.dc("click",function(){return d.zc(e),d.fc().setPage(1)}),d.Tb(3,"span",34),d.Ic(4,"First"),d.Sb(),d.Sb(),d.Sb(),d.Tb(5,"li",32),d.Tb(6,"a",35),d.dc("click",function(){d.zc(e);const t=d.fc();return t.setPage(t.pager.currentPage-5)}),d.Tb(7,"span",34),d.Ic(8,"\xab"),d.Sb(),d.Sb(),d.Sb(),d.Gc(9,S,3,4,"li",36),d.Tb(10,"li",32),d.Tb(11,"a",37),d.dc("click",function(){d.zc(e);const t=d.fc();return t.setPage(t.pager.currentPage+5)}),d.Tb(12,"span",34),d.Ic(13,"\xbb"),d.Sb(),d.Sb(),d.Sb(),d.Tb(14,"li",32),d.Tb(15,"a",38),d.dc("click",function(){d.zc(e);const t=d.fc();return t.setPage(t.pager.totalPages)}),d.Tb(16,"span",34),d.Ic(17,"Last"),d.Sb(),d.Sb(),d.Sb(),d.Sb()}if(2&e){const e=d.fc();d.Ab(1),d.mc("ngClass",d.rc(5,v,1===e.pager.currentPage)),d.Ab(4),d.mc("ngClass",d.rc(7,v,1===e.pager.currentPage)),d.Ab(4),d.mc("ngForOf",e.pager.pages),d.Ab(1),d.mc("ngClass",d.rc(9,v,e.pager.currentPage===e.pager.totalPages)),d.Ab(4),d.mc("ngClass",d.rc(11,v,e.pager.currentPage===e.pager.totalPages))}}function y(e,t){if(1&e&&(d.Tb(0,"p",61),d.Ic(1),d.Sb()),2&e){const e=d.fc(2);d.Ab(1),d.Jc(e.message)}}function I(e,t){if(1&e&&(d.Tb(0,"option",62),d.Ic(1),d.Sb()),2&e){const e=t.$implicit;d.nc("value",e._id),d.Ab(1),d.Jc(e.title)}}function k(e,t){1&e&&(d.Tb(0,"p",63),d.Ic(1," Vehicle Type is required "),d.Sb())}function x(e,t){1&e&&(d.Tb(0,"p",63),d.Ic(1," Brand title is required "),d.Sb())}function A(e,t){if(1&e){const e=d.Ub();d.Tb(0,"div",41),d.Tb(1,"h3",42),d.Ic(2,"Add Vehicle Brand"),d.Sb(),d.Tb(3,"a",27),d.dc("click",function(){return t.$implicit.close("Cancel Modal")}),d.Ob(4,"i",43),d.Sb(),d.Sb(),d.Tb(5,"div",44),d.Tb(6,"form",45),d.Tb(7,"div",46),d.Tb(8,"div",47),d.Tb(9,"input",48,49),d.dc("change",function(){d.zc(e);const t=d.wc(10);return d.fc().preview(t.files)}),d.Sb(),d.Tb(11,"button",50),d.Ic(12,"Add Icon"),d.Sb(),d.Tb(13,"div",51),d.Ob(14,"img",52),d.Gc(15,y,2,1,"p",53),d.Sb(),d.Sb(),d.Sb(),d.Tb(16,"div",46),d.Tb(17,"select",54),d.Tb(18,"option",55),d.Ic(19,"..."),d.Sb(),d.Gc(20,I,2,2,"option",56),d.Sb(),d.Gc(21,k,2,0,"p",57),d.Sb(),d.Tb(22,"div",46),d.Ob(23,"input",58),d.Gc(24,x,2,0,"p",57),d.Sb(),d.Sb(),d.Sb(),d.Tb(25,"div",59),d.Tb(26,"div"),d.Tb(27,"button",60),d.dc("click",function(){d.zc(e);const t=d.fc();return t.submitBrand(t.addVehicleBrand)}),d.Ic(28,"Add Brand"),d.Sb(),d.Sb(),d.Sb()}if(2&e){const e=d.fc();d.Ab(6),d.mc("formGroup",e.addVehicleBrand),d.Ab(8),d.nc("src",e.imgURL,d.Bc),d.Ab(1),d.mc("ngIf",e.message),d.Ab(5),d.mc("ngForOf",e.allVehicleType),d.Ab(1),d.mc("ngIf",e.submitted&&e.addVehicleBrand.controls.vehicleType.hasError("required")),d.Ab(3),d.mc("ngIf",e.submitted&&e.addVehicleBrand.controls.brandTitle.hasError("required"))}}function O(e,t){if(1&e&&(d.Tb(0,"div",64),d.Tb(1,"a",65),d.Tb(2,"span",66),d.dc("click",function(){return t.$implicit.close("Cancel Cick")}),d.Sb(),d.Sb(),d.Sb(),d.Tb(3,"div",67),d.Ob(4,"img",68),d.Sb()),2&e){const e=d.fc();d.Ab(4),d.nc("src",e.currentImage,d.Bc)}}function w(e,t){1&e&&(d.Tb(0,"tr"),d.Tb(1,"td",70),d.Ob(2,"div",71),d.Sb(),d.Sb())}function P(e,t){if(1&e&&d.Gc(0,w,3,0,"tr",69),2&e){const e=d.fc();d.mc("ngIf",e.spinner)}}function C(e,t){if(1&e&&(d.Tb(0,"div",14),d.Tb(1,"input",15),d.dc("valueChange",function(e){return t.$implicit.label=e}),d.Sb(),d.Sb()),2&e){const e=t.$implicit;d.Ab(1),d.mc("value",e.label)}}function V(e,t){1&e&&(d.Tb(0,"div",16),d.Tb(1,"h3",17),d.Ic(2,"Add Label"),d.Sb(),d.Tb(3,"a",18),d.dc("click",function(){return t.$implicit.close("Cancel Modal")}),d.Ob(4,"i",19),d.Sb(),d.Sb(),d.Tb(5,"div",20),d.Tb(6,"form"),d.Tb(7,"div",14),d.Tb(8,"select",21),d.Tb(9,"option",22),d.Ic(10,"Select Language"),d.Sb(),d.Tb(11,"option"),d.Ic(12,"Urdu"),d.Sb(),d.Tb(13,"option"),d.Ic(14,"English"),d.Sb(),d.Sb(),d.Sb(),d.Tb(15,"div",14),d.Ob(16,"input",23),d.Sb(),d.Sb(),d.Sb(),d.Tb(17,"div",24),d.Tb(18,"button",25),d.dc("click",function(){return t.$implicit.close("save")}),d.Ic(19,"Add Label"),d.Sb(),d.Sb())}const L=[{path:"",component:(()=>{class e{constructor(e,t,i,n,a,r){this.modalService=e,this.fb=t,this.globalService=i,this.manageBrandService=n,this.vehicleTypeService=a,this.pagerService=r,this.allBrands=[],this.pager={},this.amazonImgUrl=l.a,this.allVehicleType=[],this.pagedItems=[],this.addVehicleBrand=this.fb.group({brandTitle:["",c.s.required],vehicleType:["",c.s.required]})}ngOnInit(){this.vehicleTypeService.getVehicleType().subscribe(e=>{this.allVehicleType=e.data.VehicleTypes}),this.getBrands()}getBrands(){this.spinner=!0,this.manageBrandService.getBrand().subscribe(e=>{this.allBrands=e.data.VehicleBrands,this.tempBrands=this.allBrands,this.spinner=!1,this.setPage(1)})}setPage(e){e=Object(l.b)(e,this.pager.totalPages),this.pager=this.pagerService.getPager(this.tempBrands.length,e),this.pagedItems=this.tempBrands.slice(this.pager.startIndex,this.pager.endIndex+1)}searchBrand(e){0==e.length?(this.tempBrands=this.allBrands,this.setPage(1)):(e=e.toLowerCase(),this.tempBrands=this.allBrands.filter(t=>-1!==t.title.toLowerCase().indexOf(e)),this.setPage(1))}open(e){this.modalService.open(e,{ariaLabelledBy:"modal-basic-title"})}bigImage(e,t){this.currentImage=this.amazonImgUrl+t,this.modalService.open(e,{ariaLabelledBy:"modal-basic-title"})}preview(e){return Object(a.a)(this,void 0,void 0,function*(){if(this.imageFile=e[0],0===e.length)return!1;null!=e[0].type.match(/image\/*/)?(yield function(e){return new Promise((t,i)=>{const n=new FileReader;n.readAsDataURL(e[0]),n.onload=()=>t(n.result),n.onerror=e=>i(e)})}(e).then(e=>{this.imgURL=e}),this.globalService.compress(this.imgURL,e[0].name).then(e=>{let t=e[0];if(1==t.status)return this.imageFile=t.file,void(this.imgURL=t.con64)})):this.message="Only images are supported."})}submitBrand(e){this.submitted=!0;let t=e.getRawValue();if(!e.valid)return!1;this.manageBrandService.addBrand(t.brandTitle,this.imageFile,t.vehicleType).subscribe(t=>{1==t.success?(this.modalService.dismissAll(),e.reset(),this.getBrands()):(this.modalService.dismissAll(),e.reset())},t=>{this.modalService.dismissAll(),e.reset()})}}return e.\u0275fac=function(t){return new(t||e)(d.Nb(g.i),d.Nb(c.b),d.Nb(s.a),d.Nb(b.a),d.Nb(r.a),d.Nb(o.a))},e.\u0275cmp=d.Hb({type:e,selectors:[["app-manage-brand"]],decls:47,vars:4,consts:[["id","tabs"],[1,"row","text-left","mt-2"],[1,"col-sm-6","mb-1"],[1,"mb-0"],[1,"col-sm-6","text-right"],[1,"btn","btn-orange",3,"click"],[1,"col-sm-12"],[1,"parent"],[1,"ft-search","child"],["type","text","id","SearchBellboy","placeholder","Search Vehicle by Brand",1,"form-control","placeholder-pad","w-33",3,"keyup"],[1,"row","text-left"],[1,"col-md-12","col-lg-12"],[1,"card"],[1,"card-content"],[1,"card-body"],[1,"table","table-responsive-md","table-striped"],[4,"ngTemplateOutlet"],[4,"ngFor","ngForOf"],[1,"d-flex","justify-content-end"],[1,"mr-3","d-flex","align-items-center"],[1,"text-shadow","h6","mb-0","font-weight-normal","text-orange"],[1,"text-secondary","ml-2"],[1,"ng2-smart-pagination-nav","ng-star-inserted"],["class","ng2-smart-pagination pagination",4,"ngIf"],["addBrand",""],["bigImg",""],["shimmer",""],[3,"click"],["alt","img",1,"table-img-size",3,"src"],[1,"p-0","text-dark",3,"routerLink"],["src","../../../assets/img/ico/eye.png","alt","",1,"img-eye"],[1,"ng2-smart-pagination","pagination"],[1,"ng2-smart-page-item","page-item",3,"ngClass"],["aria-label","First",1,"ng2-smart-page-link","page-link",3,"click"],["aria-hidden","true"],["aria-label","Prev","ngbTooltip","Previous 5",1,"ng2-smart-page-link","page-link","page-link-prev",3,"click"],["class","ng2-smart-page-item page-item ng-star-inserted",3,"ngClass",4,"ngFor","ngForOf"],["ngbTooltip","Next 5","aria-label","Next",1,"ng2-smart-page-link","page-link","page-link-next",3,"click"],["aria-label","Last",1,"ng2-smart-page-link","page-link",3,"click"],[1,"ng2-smart-page-item","page-item","ng-star-inserted",3,"ngClass"],[1,"ng2-smart-page-link","page-link","ng-star-inserted",3,"click"],[1,"modal-header","justify-content-center","mb-1"],[1,"card-title","mb-0"],[1,"ft-x","close-icon"],[1,"modal-body","pb-0"],[3,"formGroup"],[1,"form-group"],[1,"position-relative","position-relative"],["accept","image/*","accept","image/*","type","file",1,"upload-input",3,"change"],["file",""],[1,"camera-icon","btn","btn-orange"],[1,"text-center"],["onerror","src='../../../../assets/img/ico/no-logo.png'",1,"upload-image",3,"src"],["class","text-error mb-0",4,"ngIf"],["formControlName","vehicleType",1,"form-control"],["value",""],[3,"value",4,"ngFor","ngForOf"],["class","text-error",4,"ngIf"],["type","text","formControlName","brandTitle","placeholder","Vehicle Brand",1,"form-control"],[1,"modal-footer","mb-2"],["type","button",1,"btn","btn-success",3,"click"],[1,"text-error","mb-0"],[3,"value"],[1,"text-error"],[1,"modal-header","d-flex","justify-content-end","pb-0","mb-2"],[1,"mb-2"],[1,"ft-x","text-error",3,"click"],[1,"modal-body","d-flex","justify-content-center","pt-0"],["onerror","src='../../../../assets/img/gallery/1.jpg'",1,"object-fit",3,"src"],[4,"ngIf"],["colspan","12"],[1,"py-3","shine","w-100"]],template:function(e,t){if(1&e){const e=d.Ub();d.Tb(0,"section",0),d.Tb(1,"div",1),d.Tb(2,"div",2),d.Tb(3,"h3",3),d.Ic(4,"Manage Vehicles Brand"),d.Sb(),d.Sb(),d.Tb(5,"div",4),d.Tb(6,"button",5),d.dc("click",function(){d.zc(e);const i=d.wc(42);return t.open(i)}),d.Ic(7,"Add Vehicle Brand"),d.Sb(),d.Sb(),d.Tb(8,"div",6),d.Tb(9,"div",7),d.Ob(10,"i",8),d.Tb(11,"input",9),d.dc("keyup",function(e){return t.searchBrand(e.target.value)}),d.Sb(),d.Sb(),d.Sb(),d.Sb(),d.Tb(12,"div",10),d.Tb(13,"div",11),d.Tb(14,"div",12),d.Tb(15,"div",13),d.Tb(16,"div",14),d.Tb(17,"table",15),d.Tb(18,"thead"),d.Tb(19,"tr"),d.Tb(20,"th"),d.Ic(21,"Vehicle Type"),d.Sb(),d.Tb(22,"th"),d.Ic(23,"Brand Name"),d.Sb(),d.Tb(24,"th"),d.Ic(25,"Logo"),d.Sb(),d.Tb(26,"th"),d.Ic(27,"Created By"),d.Sb(),d.Tb(28,"th"),d.Ic(29,"View / Update"),d.Sb(),d.Sb(),d.Sb(),d.Tb(30,"tbody"),d.Gc(31,m,1,0,"ng-container",16),d.Gc(32,f,12,7,"tr",17),d.Sb(),d.Sb(),d.Tb(33,"div",18),d.Tb(34,"p",19),d.Tb(35,"span",20),d.Ic(36,"Total Items:"),d.Sb(),d.Tb(37,"span",21),d.Ic(38),d.Sb(),d.Sb(),d.Tb(39,"nav",22),d.Gc(40,B,18,13,"ul",23),d.Sb(),d.Sb(),d.Sb(),d.Sb(),d.Sb(),d.Sb(),d.Sb(),d.Sb(),d.Gc(41,A,29,6,"ng-template",null,24,d.Hc),d.Gc(43,O,5,1,"ng-template",null,25,d.Hc),d.Gc(45,P,1,1,"ng-template",null,26,d.Hc)}if(2&e){const e=d.wc(46);d.Ab(31),d.mc("ngTemplateOutlet",e),d.Ab(1),d.mc("ngForOf",t.pagedItems),d.Ab(6),d.Jc(t.allBrands.length),d.Ab(2),d.mc("ngIf",t.pager.pages&&t.pager.pages.length)}},directives:[n.p,n.n,n.o,p.f,n.m,g.p,c.u,c.l,c.f,c.r,c.k,c.d,c.o,c.t,c.a],styles:[".upload-input[_ngcontent-%COMP%]{position:absolute;right:0;opacity:0;bottom:0;z-index:1;cursor:pointer}.upload-image[_ngcontent-%COMP%]{width:120px;height:120px;-o-object-fit:contain;object-fit:contain;border-radius:15px}.camera-icon[_ngcontent-%COMP%]{position:absolute;bottom:0;right:66px}.ng2-smart-page-item[_ngcontent-%COMP%]{line-height:unset;margin:0!important}"]}),e})()},{path:"manageBrandDetail/:id",component:(()=>{class e{constructor(e,t,i){this.modalService=e,this.manageBrand=t,this.route=i}open(e){this.modalService.open(e,{ariaLabelledBy:"modal-basic-title"})}ngOnInit(){this.subscription=this.route.params.subscribe(e=>{this._id=e.id}),this.getVehicleBrand()}getVehicleBrand(){this.manageBrand.getBrandById(this._id).subscribe(e=>{this.detailBrand=e.data})}ngOnDestroy(){this.subscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(d.Nb(g.i),d.Nb(b.a),d.Nb(p.a))},e.\u0275cmp=d.Hb({type:e,selectors:[["app-manage-brand-detail"]],decls:21,vars:1,consts:[[1,"row"],[1,"col-sm-12"],[1,"card"],[1,"card-content"],[1,"card-body"],[1,"col-sm-6"],[1,"font-weight-normal"],[1,"col-sm-6","text-right"],[1,"text-orange",3,"click"],[1,"ft-plus","text-dark"],[1,"ml-1"],[1,"col-sm-5"],["class","form-group",4,"ngFor","ngForOf"],["addLabel",""],[1,"form-group"],["type","text","readonly","","placeholder","Vehicle Brand",1,"form-control",3,"value","valueChange"],[1,"modal-header","justify-content-center"],[1,"card-title","mb-0"],[3,"click"],[1,"ft-x","close-icon"],[1,"modal-body"],[1,"form-control"],["value",""],["type","text","placeholder","Label",1,"form-control"],[1,"modal-footer"],["type","button",1,"btn","btn-success",3,"click"]],template:function(e,t){if(1&e){const e=d.Ub();d.Tb(0,"section"),d.Tb(1,"form"),d.Tb(2,"div",0),d.Tb(3,"div",1),d.Tb(4,"div",2),d.Tb(5,"div",3),d.Tb(6,"div",4),d.Tb(7,"div",0),d.Tb(8,"div",5),d.Tb(9,"h5",6),d.Ic(10,"Vehicle Brand"),d.Sb(),d.Ob(11,"br"),d.Sb(),d.Tb(12,"div",7),d.Tb(13,"a",8),d.dc("click",function(){d.zc(e);const i=d.wc(20);return t.open(i)}),d.Ob(14,"span",9),d.Tb(15,"span",10),d.Ic(16," Add Label "),d.Sb(),d.Sb(),d.Sb(),d.Tb(17,"div",11),d.Gc(18,C,2,1,"div",12),d.Sb(),d.Sb(),d.Sb(),d.Sb(),d.Sb(),d.Sb(),d.Sb(),d.Sb(),d.Sb(),d.Gc(19,V,20,0,"ng-template",null,13,d.Hc)}2&e&&(d.Ab(18),d.mc("ngForOf",null==t.detailBrand?null:t.detailBrand.labels))},directives:[c.u,c.l,c.m,n.n,c.o,c.t],styles:[""]}),e})(),resolve:{data:i("Os+u").a},data:{text:"Manage Vehicle Brand",path:"/manageBrandDetail/:id"}}];let F=(()=>{class e{}return e.\u0275mod=d.Lb({type:e}),e.\u0275inj=d.Kb({factory:function(t){return new(t||e)},imports:[[n.c,c.g,g.j,c.q,p.g.forChild(L)]]}),e})()}}]);