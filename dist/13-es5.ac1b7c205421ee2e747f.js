!function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function n(e,n,a){return n&&t(e.prototype,n),a&&t(e,a),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{bLbe:function(t,a,i){"use strict";i.r(a),i.d(a,"BrandsModule",function(){return Y});var r,c,o,b=i("ofXK"),l=i("mrSG"),s=i("3Pt+"),d=i("tk/3"),u=i("tkbi"),g=i("q2CC"),p=i("fXoL"),f=((o=function(){function t(n,a){e(this,t),this.http=n,this.gs=a,this._url=g.f,this.gs.token.subscribe(function(e){var t=e;r={headers:new d.c({Authorization:"bearer "+t})},c={headers:new d.c({"Content-Type":"application/x-www-form-urlencoded",Authorization:"bearer "+t})}})}return n(t,[{key:"searchBrands",value:function(e,t){return this.http.get(this._url+"api/admin/brand?perPage=10&pageNo="+t+"&search="+e,r)}},{key:"createBrand",value:function(e,t){var n=new FormData;return n.append("title",e),n.append("icon",t),this.http.post(this._url+"api/admin/brand",n,r)}},{key:"getBrand",value:function(e){return this.http.get(this._url+"api/admin/brand?perPage=10&pageNo="+e+"&search=&locale=",r)}},{key:"getBrandById",value:function(e){return this.http.get(this._url+"api/admin/brand/"+e+"/en",r)}},{key:"addLabelToBrand",value:function(e,t,n){var a=(new d.d).set("brand",t).set("label",e).set("locale",n);return this.http.post(this._url+"api/admin/brand/assignLabel",a.toString(),c)}},{key:"updateBrand",value:function(e,t,n,a,i){var c=new FormData;return c.append("title",e),c.append("brand_id",t),c.append("label_id",n),c.append("status",a),c.append("icon",i),this.http.put(this._url+"api/admin/brand",c,r)}}]),t}()).\u0275fac=function(e){return new(e||o)(p.ac(d.a),p.ac(u.a))},o.\u0275prov=p.Jb({token:o,factory:o.\u0275fac,providedIn:"root"}),o),m=i("PSD3"),h=i.n(m),v=i("PBnp"),S=i("1kSV"),T=i("tyNb");function k(e,t){1&e&&(p.Tb(0,"div",20),p.Ob(1,"div",21),p.Sb())}function y(e,t){if(1&e&&(p.Tb(0,"td"),p.Ic(1),p.Sb()),2&e){var n=p.fc().$implicit;p.Ab(1),p.Jc(null==n.labels[1]?null:n.labels[1].label)}}function w(e,t){1&e&&(p.Tb(0,"td"),p.Ic(1,"-"),p.Sb())}function I(e,t){if(1&e){var n=p.Ub();p.Tb(0,"tr"),p.Tb(1,"td"),p.Ic(2),p.Sb(),p.Tb(3,"td"),p.Tb(4,"a"),p.Tb(5,"img",22),p.dc("click",function(){p.zc(n);var e=t.$implicit,a=p.fc(),i=p.wc(38);return a.bigImage(i,e.icon)}),p.Sb(),p.Sb(),p.Sb(),p.Gc(6,y,2,1,"td",23),p.Gc(7,w,2,0,"td",23),p.Tb(8,"td"),p.Ic(9,"Hasnat Hameed"),p.Sb(),p.Tb(10,"td"),p.Tb(11,"a",24),p.dc("click",function(){p.zc(n);var e=t.$implicit;return p.fc().brandDetail(e._id)}),p.Ob(12,"img",25),p.Sb(),p.Sb(),p.Sb()}if(2&e){var a=t.$implicit;p.Ab(2),p.Jc(null==a.labels[0]?null:a.labels[0].label),p.Ab(3),p.oc("src","https://api.bellboy.co/",a.icon,"",p.Bc),p.Ab(1),p.mc("ngIf",null==a.labels[1]?null:a.labels[1].label),p.Ab(1),p.mc("ngIf",!(null!=a.labels[1]&&a.labels[1].label))}}var x=function(e){return{active:e}};function B(e,t){if(1&e){var n=p.Ub();p.Tb(0,"li",39),p.Tb(1,"a",40),p.dc("click",function(){p.zc(n);var e=t.$implicit;return p.fc(3).getBrands(e)}),p.Ic(2),p.Sb(),p.Sb()}if(2&e){var a=t.$implicit,i=p.fc(3);p.mc("ngClass",p.rc(2,x,i.pager.currentPage===a)),p.Ab(2),p.Jc(a)}}var A=function(e){return{disabled:e}};function P(e,t){if(1&e){var n=p.Ub();p.Tb(0,"ul",32),p.Tb(1,"li",33),p.Tb(2,"a",34),p.dc("click",function(){return p.zc(n),p.fc(2).getBrands(1)}),p.Tb(3,"span"),p.Ic(4,"First"),p.Sb(),p.Sb(),p.Sb(),p.Tb(5,"li",33),p.Tb(6,"a",35),p.dc("click",function(){p.zc(n);var e=p.fc(2);return e.getBrands(e.pager.currentPage-10)}),p.Tb(7,"span"),p.Ic(8,"\xab"),p.Sb(),p.Sb(),p.Sb(),p.Gc(9,B,3,4,"li",36),p.Tb(10,"li",33),p.Tb(11,"a",37),p.dc("click",function(){p.zc(n);var e=p.fc(2);return e.getBrands(e.pager.currentPage+10)}),p.Tb(12,"span"),p.Ic(13,"\xbb"),p.Sb(),p.Sb(),p.Sb(),p.Tb(14,"li",33),p.Tb(15,"a",38),p.dc("click",function(){p.zc(n);var e=p.fc(2);return e.getBrands(e.pager.totalPages)}),p.Tb(16,"span"),p.Ic(17,"Last"),p.Sb(),p.Sb(),p.Sb(),p.Sb()}if(2&e){var a=p.fc(2);p.Ab(1),p.mc("ngClass",p.rc(5,A,1===a.pager.currentPage)),p.Ab(4),p.mc("ngClass",p.rc(7,A,1===a.pager.currentPage)),p.Ab(4),p.mc("ngForOf",a.pager.pages),p.Ab(1),p.mc("ngClass",p.rc(9,A,a.pager.currentPage===a.pager.totalPages)),p.Ab(4),p.mc("ngClass",p.rc(11,A,a.pager.currentPage===a.pager.totalPages))}}function C(e,t){if(1&e&&(p.Tb(0,"div",26),p.Tb(1,"p",27),p.Tb(2,"span",28),p.Ic(3,"Total Items"),p.Sb(),p.Ic(4," : "),p.Tb(5,"span",29),p.Ic(6),p.Sb(),p.Sb(),p.Tb(7,"nav",30),p.Gc(8,P,18,13,"ul",31),p.Sb(),p.Sb()),2&e){var n=p.fc();p.Ab(6),p.Jc(n.totalitems),p.Ab(2),p.mc("ngIf",n.pager.pages&&n.pager.pages.length)}}function L(e,t){if(1&e){var n=p.Ub();p.Tb(0,"li",39),p.Tb(1,"a",40),p.dc("click",function(){p.zc(n);var e=t.$implicit,a=p.fc(3);return a.searchBrands(a.keyword,e)}),p.Ic(2),p.Sb(),p.Sb()}if(2&e){var a=t.$implicit,i=p.fc(3);p.mc("ngClass",p.rc(2,x,i.pager.currentPage===a)),p.Ab(2),p.Jc(a)}}function O(e,t){if(1&e){var n=p.Ub();p.Tb(0,"ul",32),p.Tb(1,"li",33),p.Tb(2,"a",34),p.dc("click",function(){p.zc(n);var e=p.fc(2);return e.searchBrands(e.keyword,1)}),p.Tb(3,"span"),p.Ic(4,"First"),p.Sb(),p.Sb(),p.Sb(),p.Tb(5,"li",33),p.Tb(6,"a",35),p.dc("click",function(){p.zc(n);var e=p.fc(2);return e.searchBrands(e.keyword,e.pager.currentPage-10)}),p.Tb(7,"span"),p.Ic(8,"\xab"),p.Sb(),p.Sb(),p.Sb(),p.Gc(9,L,3,4,"li",36),p.Tb(10,"li",33),p.Tb(11,"a",37),p.dc("click",function(){p.zc(n);var e=p.fc(2);return e.searchBrands(e.keyword,e.pager.currentPage+10)}),p.Tb(12,"span"),p.Ic(13,"\xbb"),p.Sb(),p.Sb(),p.Sb(),p.Tb(14,"li",33),p.Tb(15,"a",38),p.dc("click",function(){p.zc(n);var e=p.fc(2);return e.searchBrands(e.keyword,e.pager.totalPages)}),p.Tb(16,"span"),p.Ic(17,"Last"),p.Sb(),p.Sb(),p.Sb(),p.Sb()}if(2&e){var a=p.fc(2);p.Ab(1),p.mc("ngClass",p.rc(5,A,1===a.pager.currentPage)),p.Ab(4),p.mc("ngClass",p.rc(7,A,1===a.pager.currentPage)),p.Ab(4),p.mc("ngForOf",a.pager.pages),p.Ab(1),p.mc("ngClass",p.rc(9,A,a.pager.currentPage===a.pager.totalPages)),p.Ab(4),p.mc("ngClass",p.rc(11,A,a.pager.currentPage===a.pager.totalPages))}}function F(e,t){if(1&e&&(p.Tb(0,"div",26),p.Tb(1,"p",27),p.Tb(2,"span",41),p.Ic(3,"Total Items:"),p.Sb(),p.Tb(4,"span",29),p.Ic(5),p.Sb(),p.Sb(),p.Tb(6,"nav",30),p.Gc(7,O,18,13,"ul",31),p.Sb(),p.Sb()),2&e){var n=p.fc();p.Ab(5),p.Jc(n.totalitems),p.Ab(2),p.mc("ngIf",n.pager.pages&&n.pager.pages.length)}}function _(e,t){if(1&e&&(p.Tb(0,"p",59),p.Ic(1),p.Sb()),2&e){var n=p.fc(2);p.Ab(1),p.Jc(n.message)}}function D(e,t){1&e&&(p.Tb(0,"p",60),p.Ic(1," Image is required "),p.Sb())}function U(e,t){1&e&&(p.Tb(0,"p",60),p.Ic(1," Brand title is required "),p.Sb())}function z(e,t){if(1&e){var n=p.Ub();p.Tb(0,"div",42),p.Tb(1,"h3",43),p.Ic(2,"Add New Brand"),p.Sb(),p.Sb(),p.Tb(3,"div",44),p.Tb(4,"form",45),p.Tb(5,"div",46),p.Tb(6,"div",47),p.Tb(7,"input",48,49),p.dc("change",function(){p.zc(n);var e=p.wc(8);return p.fc().preview(e.files)}),p.Sb(),p.Tb(9,"button",50),p.Ic(10,"Add Image"),p.Sb(),p.Ob(11,"img",51),p.Gc(12,_,2,1,"p",52),p.Gc(13,D,2,0,"p",53),p.Sb(),p.Sb(),p.Tb(14,"div",54),p.Ob(15,"input",55),p.Gc(16,U,2,0,"p",53),p.Sb(),p.Sb(),p.Sb(),p.Tb(17,"div",56),p.Tb(18,"div"),p.Tb(19,"button",57),p.dc("click",function(){return t.$implicit.close("Cross click")}),p.Ic(20,"Cancel"),p.Sb(),p.Tb(21,"button",58),p.dc("click",function(){p.zc(n);var e=p.fc();return e.brandSubmit(e.addBrandForm)}),p.Ic(22,"Add Brand"),p.Sb(),p.Sb(),p.Sb()}if(2&e){var a=p.fc();p.Ab(4),p.mc("formGroup",a.addBrandForm),p.Ab(7),p.nc("src",a.imgURL,p.Bc),p.Ab(1),p.mc("ngIf",a.message),p.Ab(1),p.mc("ngIf",null==a.imgURL&&a.submitted),p.Ab(3),p.mc("ngIf",a.submitted&&a.addBrandForm.controls.brandTitle.hasError("required"))}}function G(e,t){if(1&e&&(p.Tb(0,"div",61),p.Tb(1,"a",62),p.Tb(2,"span",63),p.dc("click",function(){return t.$implicit.close("Cancel Cick")}),p.Sb(),p.Sb(),p.Sb(),p.Tb(3,"div",64),p.Ob(4,"img",65),p.Sb()),2&e){var n=p.fc();p.Ab(4),p.nc("src",n.currentImage,p.Bc)}}function N(e,t){1&e&&(p.Tb(0,"span",26),p.Ic(1,"Deactive"),p.Sb())}function M(e,t){1&e&&(p.Tb(0,"span",26),p.Ic(1,"Active"),p.Sb())}function R(e,t){if(1&e){var n=p.Ub();p.Tb(0,"i",27),p.dc("click",function(){return p.zc(n),p.fc().changeStatus("true")}),p.Sb()}}function j(e,t){if(1&e){var n=p.Ub();p.Tb(0,"i",28),p.dc("click",function(){return p.zc(n),p.fc().changeStatus("false")}),p.Sb()}}function E(e,t){if(1&e){var n=p.Ub();p.Tb(0,"div",29),p.Tb(1,"div",30),p.Tb(2,"h5",31),p.Ic(3),p.Sb(),p.Sb(),p.Tb(4,"div",32),p.Tb(5,"div",33),p.Ob(6,"input",34),p.Sb(),p.Sb(),p.Tb(7,"div",35),p.Tb(8,"a"),p.Tb(9,"button",36),p.dc("click",function(){p.zc(n);var e=t.$implicit;return p.fc().updateLabel(e._id,e)}),p.Ic(10,"Update Label"),p.Sb(),p.Sb(),p.Sb(),p.Sb()}if(2&e){var a=t.$implicit;p.Ab(3),p.Jc(null==a||null==a.locale?null:a.locale.title),p.Ab(3),p.nc("id",a._id),p.nc("value",null==a?null:a.label)}}function J(e,t){if(1&e&&(p.Tb(0,"option",49),p.Ic(1),p.Sb()),2&e){var n=t.$implicit;p.pc("value","",n.code,"/",n._id,""),p.Ab(1),p.Kc(" ",n.title," ")}}function H(e,t){1&e&&(p.Tb(0,"div",41),p.Ob(1,"input",50),p.Sb())}function q(e,t){1&e&&(p.Tb(0,"div",41),p.Ob(1,"input",51),p.Sb())}function K(e,t){if(1&e){var n=p.Ub();p.Tb(0,"div",37),p.Tb(1,"h3",38),p.Ic(2,"Add Label"),p.Sb(),p.Sb(),p.Tb(3,"div",39),p.Tb(4,"form",40),p.Tb(5,"div",41),p.Tb(6,"select",42),p.dc("change",function(e){return p.zc(n),p.fc().changeLocal(e)}),p.Tb(7,"option",43),p.Ic(8,"Select Language"),p.Sb(),p.Gc(9,J,2,3,"option",44),p.Sb(),p.Sb(),p.Gc(10,H,2,0,"div",45),p.Gc(11,q,2,0,"div",45),p.Sb(),p.Sb(),p.Tb(12,"div",46),p.Tb(13,"button",47),p.dc("click",function(){return t.$implicit.close("Cross click")}),p.Ic(14,"Cancel"),p.Sb(),p.Tb(15,"button",48),p.dc("click",function(){p.zc(n);var e=p.fc();return e.submitLabel(e.labelForm)}),p.Ic(16,"Add Label"),p.Sb(),p.Sb()}if(2&e){var a=p.fc();p.Ab(4),p.mc("formGroup",a.labelForm),p.Ab(5),p.mc("ngForOf",a.locals),p.Ab(1),p.mc("ngIf","ur"==a.code||"ar"==a.code),p.Ab(1),p.mc("ngIf","en"==a.code)}}var V,X,Q,W=[{path:"",component:(X=function(){function t(n,a,i,r,c,o){e(this,t),this.pagerService=n,this.modalService=a,this.fb=i,this.brandService=r,this.globalService=c,this.router=o,this.closeResult="",this.allBrands=[],this.pager={},this.addBrandForm=this.fb.group({brandTitle:["",s.s.required]})}return n(t,[{key:"ngOnInit",value:function(){this.getBrands(1)}},{key:"open",value:function(e){this.modalService.open(e,{ariaLabelledBy:"modal-basic-title"})}},{key:"preview",value:function(e){return Object(l.a)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.imageFile=e[0],0!==e.length){t.next=2;break}return t.abrupt("return",!1);case 2:if(null==e[0].type.match(/image\/*/)){t.next=8;break}return t.next=5,function(e){return new Promise(function(t,n){var a=new FileReader;a.readAsDataURL(e[0]),a.onload=function(){return t(a.result)},a.onerror=function(e){return n(e)}})}(e).then(function(e){n.imgURL=e});case 5:this.globalService.compress(this.imgURL,e[0].name).then(function(e){var t=e[0];if(1==t.status)return n.imageFile=t.file,void(n.imgURL=t.con64)}),t.next=9;break;case 8:this.message="Only images are supported.";case 9:case"end":return t.stop()}},t,this)}))}},{key:"searchBrands",value:function(e,t){var n=this;this.spinner=!0,t>this.pager.totalPages?t=this.pager.totalPages:t<0&&(t=1),this.keyword=e,this.brandService.searchBrands(e,t).subscribe(function(e){200==e.code&&(n.searchPagination=!0,n.default=!1,n.spinner=!1,n.totalitems=e.data.count,n.allBrands=e.data.brands,n.pager=n.pagerService.getPager(e.data.count,t,10))},function(e){n.spinner=!1})}},{key:"getBrands",value:function(e){var t=this;this.spinner=!0,e>this.pager.totalPages?e=this.pager.totalPages:e<0&&(e=1),this.brandService.getBrand(e).subscribe(function(n){200==n.code&&(t.default=!0,t.searchPagination=!1,t.totalitems=n.data.count,t.spinner=!1,t.allBrands=n.data.brands,t.pager=t.pagerService.getPager(n.data.count,e,10))},function(e){t.spinner=!1})}},{key:"bigImage",value:function(e,t){this.currentImage="https://api.bellboy.co/"+t,this.modalService.open(e,{ariaLabelledBy:"modal-basic-title"})}},{key:"brandSubmit",value:function(e){var t=this;this.submitted=!0,1==e.valid&&void 0!==this.imageFile&&(this.brandService.createBrand(e.value.brandTitle,this.imageFile).subscribe(function(e){200==e.code&&(t.getBrands(1),t.imageFile=void 0,t.imgURL=void 0,t.submitted=!1,h.a.fire({icon:"success",title:"Brand Added successfully",width:"400px",timer:2500,showConfirmButton:!1}))},function(e){t.imageFile=void 0,t.imgURL=void 0,h.a.fire({icon:"error",title:e.error.message,width:"400px",timer:2500,showConfirmButton:!1})}),this.submitted=!1,e.reset(),this.modalService.dismissAll())}},{key:"brandDetail",value:function(e){this.router.navigate(["/brands/branddetail",e])}}]),t}(),X.\u0275fac=function(e){return new(e||X)(p.Nb(v.a),p.Nb(S.i),p.Nb(s.b),p.Nb(f),p.Nb(u.a),p.Nb(T.c))},X.\u0275cmp=p.Hb({type:X,selectors:[["app-brands"]],decls:39,vars:5,consts:[["id","tabs"],["class","loading-container",4,"ngIf"],[1,"row","text-left","mb-2","mt-2"],[1,"col-sm-6","mb-1"],[1,"col-sm-6","text-right"],[1,"btn","btn-orange","mb-0",3,"click"],[1,"col-sm-12"],[1,"parent"],[1,"ft-search","child"],["type","text","id","SearchBellboy","name","search","placeholder","Search Brands",1,"form-control","placeholder-pad","w-33",3,"ngModel","ngModelChange"],[1,"row","text-left"],[1,"col-md-12","col-lg-12"],[1,"card"],[1,"card-content"],[1,"card-body"],[1,"table","table-responsive-md","table-striped"],[4,"ngFor","ngForOf"],["class","d-flex justify-content-end",4,"ngIf"],["addBrand",""],["bigImg",""],[1,"loading-container"],[1,"spinner"],["alt","img",1,"table-img-size",3,"src","click"],[4,"ngIf"],[1,"p-0","text-dark",3,"click"],["src","../../../assets/img/ico/eye.png","alt","",1,"img-eye"],[1,"d-flex","justify-content-end"],[1,"mr-3","d-flex","align-items-center"],[1,"h6","mb-0","font-weight-normal","text-shadow","text-orange"],[1,"text-secondary","ml-2"],[1,"ng2-smart-pagination-nav","ng-star-inserted"],["class","ng2-smart-pagination pagination",4,"ngIf"],[1,"ng2-smart-pagination","pagination"],[1,"ng2-smart-page-item","page-item",3,"ngClass"],["aria-label","First",1,"ng2-smart-page-link","page-link",3,"click"],["aria-label","Prev","ngbTooltip","Previous",1,"ng2-smart-page-link","page-link","page-link-prev",3,"click"],["class","ng2-smart-page-item page-item ng-star-inserted",3,"ngClass",4,"ngFor","ngForOf"],["ngbTooltip","Next","aria-label","Next",1,"ng2-smart-page-link","page-link","page-link-next",3,"click"],["aria-label","Last",1,"ng2-smart-page-link","page-link",3,"click"],[1,"ng2-smart-page-item","page-item","ng-star-inserted",3,"ngClass"],[1,"ng2-smart-page-link","page-link","ng-star-inserted",3,"click"],[1,"h6","mb-0","font-weight-normal"],[1,"modal-header","justify-content-center","mb-1"],[1,"card-title","mb-0"],[1,"modal-body","pb-0"],[3,"formGroup"],[1,"form-group","text-center"],[1,"position-relative"],["accept","image/*","type","file","accept","image/*","type","file",1,"upload-input",3,"change"],["file",""],[1,"camera-icon","btn","btn-orange"],["id","img1","onerror","src='../../../assets/img/ico/bb-brand.jpg'",1,"upload-image",3,"src"],["class","text-error mb-0",4,"ngIf"],["class","text-error",4,"ngIf"],[1,"form-group"],["type","text","formControlName","brandTitle","placeholder","Brand Name",1,"form-control"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-orange",3,"click"],[1,"text-error","mb-0"],[1,"text-error"],[1,"modal-header","d-flex","justify-content-end","pb-0","mb-2"],[1,"mb-2"],[1,"ft-x","text-error",3,"click"],[1,"modal-body","d-flex","justify-content-center","pt-0"],["onerror","src='../../../../assets/img/gallery/1.jpg'","alt","","srcset","",1,"object-fit",3,"src"]],template:function(e,t){if(1&e){var n=p.Ub();p.Tb(0,"section",0),p.Gc(1,k,2,0,"div",1),p.Tb(2,"div",2),p.Tb(3,"div",3),p.Tb(4,"h3"),p.Ic(5,"Brands"),p.Sb(),p.Sb(),p.Tb(6,"div",4),p.Tb(7,"button",5),p.dc("click",function(){p.zc(n);var e=p.wc(36);return t.open(e)}),p.Ic(8,"Add New Brand"),p.Sb(),p.Sb(),p.Tb(9,"div",6),p.Tb(10,"div",7),p.Ob(11,"i",8),p.Tb(12,"input",9),p.dc("ngModelChange",function(e){return t.search=e})("ngModelChange",function(){return t.searchBrands(t.search,1)}),p.Sb(),p.Sb(),p.Sb(),p.Sb(),p.Tb(13,"div",10),p.Tb(14,"div",11),p.Tb(15,"div",12),p.Tb(16,"div",13),p.Tb(17,"div",14),p.Tb(18,"table",15),p.Tb(19,"thead"),p.Tb(20,"tr"),p.Tb(21,"th"),p.Ic(22,"Title"),p.Sb(),p.Tb(23,"th"),p.Ic(24,"Image"),p.Sb(),p.Tb(25,"th"),p.Ic(26,"Locale"),p.Sb(),p.Tb(27,"th"),p.Ic(28,"Created By"),p.Sb(),p.Tb(29,"th"),p.Ic(30,"View / Update"),p.Sb(),p.Sb(),p.Sb(),p.Tb(31,"tbody"),p.Gc(32,I,13,4,"tr",16),p.Sb(),p.Sb(),p.Gc(33,C,9,2,"div",17),p.Gc(34,F,8,2,"div",17),p.Sb(),p.Sb(),p.Sb(),p.Sb(),p.Sb(),p.Sb(),p.Gc(35,z,23,5,"ng-template",null,18,p.Hc),p.Gc(37,G,5,1,"ng-template",null,19,p.Hc)}2&e&&(p.Ab(1),p.mc("ngIf",t.spinner),p.Ab(11),p.mc("ngModel",t.search),p.Ab(20),p.mc("ngForOf",t.allBrands),p.Ab(1),p.mc("ngIf",t.default),p.Ab(1),p.mc("ngIf",t.searchPagination))},directives:[b.o,s.a,s.k,s.n,b.n,b.m,S.p,s.u,s.l,s.f,s.d],styles:["ul.nav-pills[_ngcontent-%COMP%]{padding-left:1rem}.parent[_ngcontent-%COMP%]{position:relative}.child[_ngcontent-%COMP%]{position:absolute;padding:8px 11px}#SearchBellboy[_ngcontent-%COMP%]::-moz-placeholder{color:#ccc;margin-left:10px}#SearchBellboy[_ngcontent-%COMP%]:-ms-input-placeholder{color:#ccc;margin-left:10px}#SearchBellboy[_ngcontent-%COMP%]::placeholder{color:#ccc;margin-left:10px}.upload-input[_ngcontent-%COMP%]{position:absolute;bottom:0;opacity:0;z-index:1;cursor:pointer}.camera-icon[_ngcontent-%COMP%]{position:absolute;bottom:0;right:66px}.modal-footer[_ngcontent-%COMP%]{padding-top:0}.upload-image[_ngcontent-%COMP%]{width:120px;height:120px;-o-object-fit:scale-down;object-fit:scale-down;border-radius:15px}.h-300[_ngcontent-%COMP%]{height:300px!important;width:300px!important}"]}),X)},{path:"branddetail/:id",component:(V=function(){function t(n,a,i,r,c,o){e(this,t),this.modalService=n,this.route=a,this.globalService=i,this.brandService=r,this.fb=c,this.gs=o,this.closeResult="",this.brandDetail=[],this.locals=[],this.labelForm=this.fb.group({label:[""]})}return n(t,[{key:"ngOnInit",value:function(){var e=this;this.sub=this.route.params.subscribe(function(t){e.id=t.id,e.getBrandDetail()}),this.gs.getLocals().subscribe(function(t){e.locals=t.data.data})}},{key:"getBrandDetail",value:function(){var e=this;this.brandService.getBrandById(this.id).subscribe(function(t){200==t.code&&(e.brandDetail=t.data,e.engLabel=e.brandDetail.labels[0],e.urdLabel=e.brandDetail.labels[1],e.imgURL="https://api.bellboy.co/"+e.brandDetail.icon,e.locale=null==t.data.labels[1]?"":e.brandDetail.labels[1].label)})}},{key:"changeLocal",value:function(e){this.singleLocal=e.target.value.split("/"),this.code=this.singleLocal[0],this.localId=this.singleLocal[1]}},{key:"preview",value:function(e){return Object(l.a)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.imageFile=e[0],0!==e.length){t.next=2;break}return t.abrupt("return",!1);case 2:if(null==e[0].type.match(/image\/*/)){t.next=8;break}return t.next=5,function(e){return new Promise(function(t,n){var a=new FileReader;a.readAsDataURL(e[0]),a.onload=function(){return t(a.result)},a.onerror=function(e){return n(e)}})}(e).then(function(e){n.imgURL=e});case 5:this.globalService.compress(this.imgURL,e[0].name).then(function(e){var t=e[0];if(1==t.status)return n.imageFile=t.file,void(n.imgURL=t.con64)}),t.next=9;break;case 8:this.message="Only images are supported.";case 9:case"end":return t.stop()}},t,this)}))}},{key:"open",value:function(e){this.modalService.open(e,{ariaLabelledBy:"modal-basic-title"})}},{key:"submitLabel",value:function(e){var t=this;this.brandService.addLabelToBrand(e.value.label,this.brandDetail._id,this.localId).subscribe(function(e){200==e.code?(t.getBrandDetail(),t.modalService.dismissAll(),t.showSuccess("Label Added Successfully")):t.showError(e.message)},function(e){t.showError(e.error.message)})}},{key:"changeStatus",value:function(e){var t=this;this.subsciption=this.brandService.updateBrand("",this.brandDetail._id,"",e,"").subscribe(function(e){1==e.success?t.brandDetail=e.data.Brand:t.showError(e.message)},function(e){t.showError(e.error.message)})}},{key:"updateImage",value:function(){var e=this;this.brandService.updateBrand("",this.id,"","",this.imageFile).subscribe(function(t){1==t.success?(e.brandDetail=t.data.Brand,e.showSuccess("Updated")):e.showError(t.message)},function(t){e.showError(t.error.message)})}},{key:"updateLabel",value:function(e,t){var n=this,a=$("#"+e).val();if(t.label==a)return!1;this.brandService.updateBrand(a,this.id,e,"","").subscribe(function(e){1==e.success?(n.brandDetail=e.data.Brand,n.showSuccess("Updated")):n.showError(e.message)},function(e){n.showError(e.error.message)})}},{key:"showError",value:function(e){h.a.fire({icon:"error",text:e,width:"300px",showConfirmButton:!1,showCancelButton:!1,timer:2500})}},{key:"showSuccess",value:function(e){h.a.fire({icon:"success",text:e,width:"300px",timer:2500,showConfirmButton:!1})}}]),t}(),V.\u0275fac=function(e){return new(e||V)(p.Nb(S.i),p.Nb(T.a),p.Nb(u.a),p.Nb(f),p.Nb(s.b),p.Nb(u.a))},V.\u0275cmp=p.Hb({type:V,selectors:[["app-brand-detail"]],decls:43,vars:6,consts:[[1,"row"],[1,"col-sm-12"],[1,"card"],[1,"card-content"],[1,"card-body"],[1,"col-sm-6"],[1,"col-sm-6","text-right"],[1,"font-weight-bold"],["class","font-weight-light text-secondary",4,"ngIf"],[1,"ml-2"],["placement","top","ngbTooltip","Activate Brand","class","ft-power text-success",3,"click",4,"ngIf"],["placement","top","ngbTooltip","Deactivate Brand","class","ft-power text-error",3,"click",4,"ngIf"],[1,"col-sm-6","mb-3"],[1,"font-weight-bold","text-center"],["class","row align-items-center",4,"ngFor","ngForOf"],[1,"col-sm-4","d-flex","justify-content-end","align-items-center","position-relative"],["onerror","src='../../../assets/img/ico/bb-brand.jpg'",1,"position-absolute","image-style",3,"src"],["type","file","accept","image/*",1,"change-input",3,"change"],["file",""],[1,"change-button"],[1,"col-sm-2","text-right","position-relative","d-flex","justify-content-end"],[1,"text-orange",3,"click"],[1,"ft-plus","text-dark"],[1,"ml-1"],[1,"btn","btn-orange","bottom-place",3,"click"],["addLabel",""],[1,"font-weight-light","text-secondary"],["placement","top","ngbTooltip","Activate Brand",1,"ft-power","text-success",3,"click"],["placement","top","ngbTooltip","Deactivate Brand",1,"ft-power","text-error",3,"click"],[1,"row","align-items-center"],[1,"col-12"],[1,"font-weight-normal"],[1,"col-8"],[1,"form-group","mt-3"],["type","text","placeholder","Brand Name",1,"form-control",3,"id","value"],[1,"col-4","text-left"],[1,"btn","btn-orange",3,"click"],[1,"modal-header","justify-content-center"],[1,"card-title","mb-0"],[1,"modal-body"],[3,"formGroup"],[1,"form-group"],[1,"form-control",3,"change"],["value",""],[3,"value",4,"ngFor","ngForOf"],["class","form-group",4,"ngIf"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-success",3,"click"],[3,"value"],["type","text","formControlName","label","placeholder","\u0644\u06cc\u0628\u0644",1,"form-control","text-right"],["type","text","formControlName","label","placeholder","Label",1,"form-control"]],template:function(e,t){if(1&e){var n=p.Ub();p.Tb(0,"section"),p.Tb(1,"div",0),p.Tb(2,"div",1),p.Tb(3,"div",2),p.Tb(4,"div",3),p.Tb(5,"div",4),p.Tb(6,"div",0),p.Tb(7,"div",5),p.Tb(8,"h3"),p.Ic(9,"Brand Detail"),p.Sb(),p.Sb(),p.Tb(10,"div",6),p.Tb(11,"span",7),p.Ic(12,"Status: "),p.Sb(),p.Gc(13,N,2,0,"span",8),p.Gc(14,M,2,0,"span",8),p.Tb(15,"a",9),p.Gc(16,R,1,0,"i",10),p.Gc(17,j,1,0,"i",11),p.Sb(),p.Sb(),p.Sb(),p.Sb(),p.Sb(),p.Sb(),p.Sb(),p.Sb(),p.Tb(18,"div",0),p.Tb(19,"div",1),p.Tb(20,"div",2),p.Tb(21,"div",3),p.Tb(22,"div",4),p.Tb(23,"div",0),p.Tb(24,"div",12),p.Tb(25,"h5",13),p.Ic(26,"Brand Title"),p.Sb(),p.Gc(27,E,11,3,"div",14),p.Sb(),p.Tb(28,"div",15),p.Ob(29,"img",16),p.Tb(30,"input",17,18),p.dc("change",function(){p.zc(n);var e=p.wc(31);return t.preview(e.files)}),p.Sb(),p.Tb(32,"button",19),p.Ic(33,"Change"),p.Sb(),p.Sb(),p.Tb(34,"div",20),p.Tb(35,"a",21),p.dc("click",function(){p.zc(n);var e=p.wc(42);return t.open(e)}),p.Ob(36,"span",22),p.Tb(37,"span",23),p.Ic(38," Add Label "),p.Sb(),p.Sb(),p.Tb(39,"button",24),p.dc("click",function(){return t.updateImage()}),p.Ic(40,"Update Image"),p.Sb(),p.Sb(),p.Sb(),p.Sb(),p.Sb(),p.Sb(),p.Sb(),p.Sb(),p.Sb(),p.Gc(41,K,17,4,"ng-template",null,25,p.Hc)}2&e&&(p.Ab(13),p.mc("ngIf",0==t.brandDetail.status),p.Ab(1),p.mc("ngIf",1==t.brandDetail.status),p.Ab(2),p.mc("ngIf",0==t.brandDetail.status),p.Ab(1),p.mc("ngIf",1==t.brandDetail.status),p.Ab(10),p.mc("ngForOf",t.brandDetail.labels),p.Ab(2),p.nc("src",t.imgURL,p.Bc))},directives:[b.o,b.n,S.p,s.u,s.l,s.f,s.o,s.t,s.a,s.k,s.d],styles:[".image-style[_ngcontent-%COMP%]{width:150px;height:150px;border-radius:15px;-o-object-fit:contain!important;object-fit:contain}.change-button[_ngcontent-%COMP%]{position:absolute;border:unset;background:rgba(0,0,0,.3);width:150px;bottom:35px;color:#fff;border-radius:0 0 15px 15px}.change-button[_ngcontent-%COMP%]:focus{outline:none!important}.bottom-place[_ngcontent-%COMP%]{position:absolute;bottom:35px;right:0;left:0}.btn[_ngcontent-%COMP%]{width:-webkit-max-content;width:-moz-max-content;width:max-content}.change-input[_ngcontent-%COMP%]{width:300px;position:absolute;bottom:35px;opacity:0;z-index:1;cursor:pointer}"]}),V),resolve:{data:i("Os+u").a},data:{text:"Brand Detail",path:"/branddetail/:id"}}],Y=((Q=function t(){e(this,t)}).\u0275mod=p.Lb({type:Q}),Q.\u0275inj=p.Kb({factory:function(e){return new(e||Q)},imports:[[b.c,T.g.forChild(W),s.g,S.j,s.q]]}),Q)}}])}();