!function(){function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function i(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{"68rm":function(e,n,c){"use strict";c.r(n),c.d(n,"AdvertisementModule",function(){return W});var s,a,r,o,l=c("ofXK"),u=c("1kSV"),d=c("q2CC"),b=c("tkbi"),f=c("lJxs"),h=c("vkgz"),p=c("XNiG"),g=c("fXoL"),m=c("tk/3"),v=((s=function(){function e(i){t(this,e),this.http=i,this._url=d.g,this.onError=new p.a,this.allAdvert=new p.a}return i(e,[{key:"postAdvertisement",value:function(t,e,i){var n=new FormData;return n.append("image",t),""!==e&&n.append("title",e),""!==i&&n.append("description",i),this.http.post(this._url+"api/admin/advertisement",n).pipe(Object(f.a)(function(t){1==t.success?Object(d.f)("success","Added Successfully"):Object(d.f)("warning",t.message)},function(t){Object(d.f)("error",t.error.message)}))}},{key:"getAdvertisement",value:function(t,e,i){return this.http.get(this._url+"api/admin/advertisement"+(t=null!=t?"?status="+t:"")+(i=null!==e&&null!==i?"?year="+e+"&month="+i:"")).pipe(Object(f.a)(function(t){return t.data}))}},{key:"changeStatus",value:function(t,e){var i=new FormData;return i.append("status",t),i.append("_id",e),this.http.put(this._url+"api/admin/advertisement",i).pipe(Object(f.a)(function(t){1==t.success?Object(d.f)("success","Updated Successfully"):Object(d.f)("warning",t.message)},function(t){Object(d.f)("error",t.error.message)}))}},{key:"deleteAdvert",value:function(t){return this.http.delete(d.g+"api/admin/advertisement/"+t).pipe(Object(h.a)(function(t){1==t.success?Object(d.f)("success","Successfully Deleted"):Object(d.f)("warning","Someting went Wrong")},function(t){return Object(d.f)("error","Someting went Wrong")}))}}]),e}()).\u0275fac=function(t){return new(t||s)(g.ac(m.b))},s.\u0275prov=g.Jb({token:s,factory:s.\u0275fac,providedIn:"root"}),s),S=c("l7P3"),k=c("3Pt+"),A=["*"],T=((o=function(){function e(i,n,c){t(this,e),this.el=i,this.zone=n,this.platformId=c,this.afterChange=new g.n,this.beforeChange=new g.n,this.breakpoint=new g.n,this.destroy=new g.n,this.init=new g.n,this.currentIndex=0,this.slides=[],this.initialized=!1,this._removedSlides=[],this._addedSlides=[]}return i(e,[{key:"ngOnDestroy",value:function(){this.unslick()}},{key:"ngAfterViewInit",value:function(){this.ngAfterViewChecked()}},{key:"ngAfterViewChecked",value:function(){var t=this;if(!Object(l.A)(this.platformId)&&(this._addedSlides.length>0||this._removedSlides.length>0)){var e=this.slides.length-this._removedSlides.length+this._addedSlides.length;this.initialized?0===e?this.unslick():(this._addedSlides.forEach(function(e){t.slides.push(e),t.zone.runOutsideAngular(function(){t.$instance.slick("slickAdd",e.el.nativeElement)})}),this._addedSlides=[],this._removedSlides.forEach(function(e){var i=t.slides.indexOf(e);t.slides=t.slides.filter(function(t){return t!==e}),t.zone.runOutsideAngular(function(){t.$instance.slick("slickRemove",i)})}),this._removedSlides=[]):e>0&&this.initSlick()}}},{key:"initSlick",value:function(){var t=this;this.slides=this._addedSlides,this._addedSlides=[],this._removedSlides=[],this.zone.runOutsideAngular(function(){t.$instance=jQuery(t.el.nativeElement),t.$instance.on("init",function(e,i){t.zone.run(function(){t.init.emit({event:e,slick:i})})}),t.$instance.slick(t.config),t.zone.run(function(){var e;t.initialized=!0,t.currentIndex=(null===(e=t.config)||void 0===e?void 0:e.initialSlide)||0}),t.$instance.on("afterChange",function(e,i,n){t.zone.run(function(){t.afterChange.emit({event:e,slick:i,currentSlide:n,first:0===n,last:i.$slides.length===n+i.options.slidesToScroll}),t.currentIndex=n})}),t.$instance.on("beforeChange",function(e,i,n,c){t.zone.run(function(){t.beforeChange.emit({event:e,slick:i,currentSlide:n,nextSlide:c}),t.currentIndex=c})}),t.$instance.on("breakpoint",function(e,i,n){t.zone.run(function(){t.breakpoint.emit({event:e,slick:i,breakpoint:n})})}),t.$instance.on("destroy",function(e,i){t.zone.run(function(){t.destroy.emit({event:e,slick:i}),t.initialized=!1})})})}},{key:"addSlide",value:function(t){this._addedSlides.push(t)}},{key:"removeSlide",value:function(t){this._removedSlides.push(t)}},{key:"slickGoTo",value:function(t){var e=this;this.zone.runOutsideAngular(function(){e.$instance.slick("slickGoTo",t)})}},{key:"slickNext",value:function(){var t=this;this.zone.runOutsideAngular(function(){t.$instance.slick("slickNext")})}},{key:"slickPrev",value:function(){var t=this;this.zone.runOutsideAngular(function(){t.$instance.slick("slickPrev")})}},{key:"slickPause",value:function(){var t=this;this.zone.runOutsideAngular(function(){t.$instance.slick("slickPause")})}},{key:"slickPlay",value:function(){var t=this;this.zone.runOutsideAngular(function(){t.$instance.slick("slickPlay")})}},{key:"unslick",value:function(){var t=this;this.$instance&&(this.zone.runOutsideAngular(function(){t.$instance.slick("unslick")}),this.$instance=void 0),this.initialized=!1}},{key:"ngOnChanges",value:function(t){var e=this;if(this.initialized){var i=t.config;if(i.previousValue!==i.currentValue&&void 0!==i.currentValue){var n=i.currentValue.refresh,c=Object.assign({},i.currentValue);delete c.refresh,this.zone.runOutsideAngular(function(){e.$instance.slick("slickSetOption",c,n)})}}}}]),e}()).\u0275fac=function(t){return new(t||o)(g.Nb(g.l),g.Nb(g.z),g.Nb(g.B))},o.\u0275cmp=g.Hb({type:o,selectors:[["ngx-slick-carousel"]],inputs:{config:"config"},outputs:{afterChange:"afterChange",beforeChange:"beforeChange",breakpoint:"breakpoint",destroy:"destroy",init:"init"},exportAs:["slick-carousel"],features:[g.zb([{provide:k.j,useExisting:Object(g.V)(function(){return o}),multi:!0}]),g.yb],ngContentSelectors:A,decls:1,vars:0,template:function(t,e){1&t&&(g.lc(),g.kc(0))},encapsulation:2}),o),y=((r=function(){function e(i,n,c){t(this,e),this.el=i,this.platformId=n,this.carousel=c}return i(e,[{key:"ngOnInit",value:function(){Object(l.z)(this.platformId)&&this.carousel.addSlide(this)}},{key:"ngOnDestroy",value:function(){Object(l.z)(this.platformId)&&this.carousel.removeSlide(this)}}]),e}()).\u0275fac=function(t){return new(t||r)(g.Nb(g.l),g.Nb(g.B),g.Nb(T,1))},r.\u0275dir=g.Ib({type:r,selectors:[["","ngxSlickItem",""]]}),r),I=((a=function e(){t(this,e)}).\u0275mod=g.Lb({type:a}),a.\u0275inj=g.Kb({factory:function(t){return new(t||a)},imports:[[l.c]]}),a),w=c("rIor");function O(t,e){1&t&&(g.Tb(0,"h3"),g.Ic(1,"All Advertisement"),g.Sb())}function x(t,e){1&t&&(g.Tb(0,"h3"),g.Ic(1,"Active Advertisement"),g.Sb())}function C(t,e){1&t&&(g.Tb(0,"h3"),g.Ic(1,"Deactivate Advertisement"),g.Sb())}function z(t,e){if(1&t&&g.Ob(0,"a",30),2&t){var i=g.fc().$implicit;g.nc("ngbTooltip",i.description)}}function j(t,e){if(1&t){var i=g.Ub();g.Tb(0,"button",31),g.dc("click",function(){g.zc(i);var t=g.fc().$implicit;return g.fc().updateStatus("true",t._id)}),g.Ic(1," Activate "),g.Sb()}if(2&t){var n=g.fc(2);g.mc("disabled","Super Admin"!==n.currentRole)}}function _(t,e){if(1&t){var i=g.Ub();g.Tb(0,"button",32),g.dc("click",function(){g.zc(i);var t=g.fc().$implicit;return g.fc().updateStatus("false",t._id)}),g.Ic(1," Deactivate "),g.Sb()}if(2&t){var n=g.fc(2);g.mc("disabled","Super Admin"!==n.currentRole)}}function $(t,e){if(1&t&&(g.Tb(0,"div",33),g.Tb(1,"strong"),g.Ic(2,"Last Action: "),g.Sb(),g.Tb(3,"small"),g.Ic(4),g.gc(5,"date"),g.gc(6,"date"),g.Sb(),g.Sb()),2&t){var i=g.fc().$implicit;g.Ab(4),g.Lc("",g.ic(5,2,i.actionDate,"mediumDate"),", ",g.ic(6,5,i.actionDate,"mediumTime"),"")}}var D=function(t,e){return{"text-success":t,"text-error":e}};function R(t,e){if(1&t){var i=g.Ub();g.Tb(0,"div",18),g.Tb(1,"div",19),g.Tb(2,"div",20),g.Tb(3,"h6"),g.Tb(4,"span",14),g.Ic(5),g.Sb(),g.Ic(6," \xa0 "),g.Gc(7,z,1,1,"a",21),g.Tb(8,"p",22),g.Tb(9,"small",14),g.Ic(10,"Status: "),g.Sb(),g.Tb(11,"small",23),g.Ic(12),g.Sb(),g.Sb(),g.Sb(),g.Ob(13,"img",24),g.Tb(14,"div",12),g.Tb(15,"div",2),g.Gc(16,j,2,1,"button",25),g.Gc(17,_,2,1,"button",26),g.Sb(),g.Tb(18,"div",27),g.Tb(19,"button",28),g.dc("click",function(){g.zc(i);var t=e.$implicit;return g.fc().deleteAdvert(t._id)}),g.Ic(20," Delete "),g.Sb(),g.Sb(),g.Gc(21,$,7,8,"div",29),g.Sb(),g.Sb(),g.Sb(),g.Sb()}if(2&t){var n=e.$implicit,c=g.fc();g.Ab(5),g.Jc(n.title?n.title:"Advertisement Title"),g.Ab(2),g.mc("ngIf",n.description),g.Ab(4),g.mc("ngClass",g.sc(10,D,n.status,!n.status)),g.Ab(1),g.Jc(n.status?"Activated":"Deactivated"),g.Ab(1),g.pc("src","",c.amazonUrl,"",n.image,"",g.Bc),g.Ab(3),g.mc("ngIf",0==n.status),g.Ab(1),g.mc("ngIf",1==n.status),g.Ab(2),g.mc("disabled","Super Admin"!==c.currentRole),g.Ab(2),g.mc("ngIf",n.actionDate)}}function F(t,e){if(1&t&&(g.Tb(0,"p",54),g.Ic(1),g.Sb()),2&t){var i=g.fc(2);g.Ab(1),g.Jc(i.message)}}function G(t,e){1&t&&(g.Tb(0,"p",55),g.Ic(1,"Use *HD Quality and 16:9 Ratio*"),g.Sb())}function P(t,e){1&t&&(g.Tb(0,"p",56),g.Ic(1,"Only JPG, GIF, PNG, and BMP images are supported."),g.Sb())}function N(t,e){if(1&t){var i=g.Ub();g.Tb(0,"div",34),g.Tb(1,"h3"),g.Ic(2,"Upload File"),g.Sb(),g.Tb(3,"a",35),g.dc("click",function(){return e.$implicit.close("Cancel Modal")}),g.Ob(4,"i",36),g.Sb(),g.Sb(),g.Tb(5,"div",37),g.Tb(6,"div",38),g.Tb(7,"image-cropper",39),g.dc("imageCropped",function(t){return g.zc(i),g.fc().imageCropped(t)})("imageLoaded",function(){return g.zc(i),g.fc().imageLoaded()}),g.Sb(),g.Tb(8,"input",40,41),g.dc("change",function(t){return g.zc(i),g.fc().fileChangeEvent(t)}),g.Sb(),g.Tb(10,"button",42),g.Ic(11,"Insert Image"),g.Sb(),g.Ob(12,"img",43),g.Sb(),g.Gc(13,F,2,1,"p",44),g.Gc(14,G,2,0,"p",45),g.Gc(15,P,2,0,"p",46),g.Tb(16,"form",47),g.Tb(17,"div",48),g.Ob(18,"input",49),g.Sb(),g.Tb(19,"div",48),g.Ob(20,"textarea",50),g.Sb(),g.Sb(),g.Sb(),g.Tb(21,"div",51),g.Tb(22,"div",52),g.Tb(23,"button",53),g.dc("click",function(){return g.zc(i),g.fc().submitForm()}),g.Ic(24,"Add Advertisement"),g.Sb(),g.Sb(),g.Sb()}if(2&t){var n=g.fc();g.Ab(7),g.Fc("display",n.showCropper?null:"none"),g.mc("imageChangedEvent",n.imageChangedEvent)("maintainAspectRatio",!0)("containWithinAspectRatio",n.containWithinAspectRatio)("aspectRatio",16/9)("resizeToWidth",641)("cropperMinWidth",128)("onlyScaleDown",!0)("roundCropper",!1)("canvasRotation",n.canvasRotation)("transform",n.transform)("alignImage","left"),g.Ab(5),g.nc("src",n.croppedImage,g.Bc),g.Ab(1),g.mc("ngIf",n.message),g.Ab(1),g.mc("ngIf",!n.croppedImage),g.Ab(1),g.mc("ngIf",!n.croppedImage),g.Ab(1),g.mc("formGroup",n.advertForm)}}var E,M,U=((E=function(){function e(i,n,c,s,a){t(this,e),this.modalService=i,this.service=n,this.gs=c,this.store=s,this.fb=a,this.highlighted=!1,this.allAdvert=[],this.headStatus="all",this.imageChangedEvent="",this.croppedImage="",this.canvasRotation=0,this.rotation=0,this.scale=1,this.showCropper=!1,this.containWithinAspectRatio=!1,this.transform={},this.amazonUrl=d.a,this.slideConfig={infinite:!0,speed:900,autoplay:!1,slidesToShow:3,slidesToScroll:2,prevArrow:'<button class="leftRs ft-chevron-left"></button>',nextArrow:'<button class="rightRs ft-chevron-right"></button>',responsive:[{breakpoint:1025,settings:{slidesToShow:2,slidesToScroll:2,infinite:!0}},{breakpoint:769,settings:{slidesToShow:1,slidesToScroll:1}},{breakpoint:605,settings:{slidesToShow:1,slidesToScroll:1,infinite:!0}},{breakpoint:480,settings:{slidesToShow:1,slidesToScroll:1}}]},this.advertForm=this.fb.group({title:"",desc:""})}return i(e,[{key:"ngOnInit",value:function(){var t=this;this.store.subscribe(function(e){void 0!==e.UserData.data&&(t.currentRole=e.UserData.data.role.title)},function(t){},function(){t.subscription.unsubscribe()}),this.getAdvert(null,null,null)}},{key:"getAdvert",value:function(t,e,i){var n=this;this.service.getAdvertisement(t,e,i).subscribe(function(t){n.allAdvert=t})}},{key:"deleteAdvert",value:function(t){var e=this;Object(d.c)().then(function(i){i.value&&e.service.deleteAdvert(t).subscribe(function(){e.getAdvert(null,null,null)})})}},{key:"submitForm",value:function(){var t=this;this.submitted=!0;var e=this.advertForm.getRawValue();null!=this.imageFile&&this.service.postAdvertisement(this.imageFile,e.title,e.desc).subscribe(function(e){t.modalService.dismissAll(),t.getAdvert(null,null,null)},function(e){t.modalService.dismissAll()})}},{key:"updateStatus",value:function(t,e){var i=this;this.service.changeStatus(t,e).subscribe(function(){i.getAdvert(null,null,null)})}},{key:"open",value:function(t){this.modalService.open(t,{ariaLabelledBy:"modal-basic-title"})}},{key:"fileChangeEvent",value:function(t){if(this.tempFile=t.target.files[0],this.imageChangedEvent=t,!this.tempFile)return!1;null!=this.tempFile.type.match(/image\/*/)||(this.message="Only images are supported.")}},{key:"imageCropped",value:function(t){this.height=t.height,this.width=t.width,this.croppedImage=t.base64,this.imageFile=Object(b.b)(this.croppedImage,this.tempFile.name)}},{key:"imageLoaded",value:function(){this.showCropper=!0}},{key:"getDate",value:function(t){var e=t.split("-")[0],i=t.split("-")[1];this.getAdvert(null,e,i)}}]),e}()).\u0275fac=function(t){return new(t||E)(g.Nb(u.i),g.Nb(v),g.Nb(b.a),g.Nb(S.a),g.Nb(k.b))},E.\u0275cmp=g.Hb({type:E,selectors:[["app-advertisement"]],features:[g.zb([u.c])],decls:37,vars:8,consts:[[1,"container"],[1,"row"],[1,"col-sm-6"],[4,"ngIf"],[1,"col-sm-6","d-flex","align-items-center","justify-content-end"],[1,"form-group","mb-0","mr-2"],["type","month","min","2020-01","max","2100-01",1,"form-control","perPage",3,"change"],[1,"btn","btn-orange","float-right",3,"click"],[1,"col-sm-12"],[1,"carousel",3,"config"],["slickModal","slick-carousel"],["ngxSlickItem","","class","slide",4,"ngFor","ngForOf"],[1,"row","py-2"],[1,"col-sm-12","text-right"],[1,"font-weight-500"],[1,"hoverTotal",3,"click"],[1,"text-orange"],["addAdvert",""],["ngxSlickItem","",1,"slide"],[1,"card"],[1,"card-body"],["class","ft-alert-circle",3,"ngbTooltip",4,"ngIf"],[1,"float-right"],[3,"ngClass"],["height","230px","width","300px","onerror","src='../../../assets/img/gallery/1.jpg'","alt","","width","100%",3,"src"],["class","btn btn-success",3,"disabled","click",4,"ngIf"],["class","btn btn-orange",3,"disabled","click",4,"ngIf"],[1,"col-sm-6","text-right"],[1,"btn","btn-danger",3,"disabled","click"],["class","col-sm-12 text-center mt-2",4,"ngIf"],[1,"ft-alert-circle",3,"ngbTooltip"],[1,"btn","btn-success",3,"disabled","click"],[1,"btn","btn-orange",3,"disabled","click"],[1,"col-sm-12","text-center","mt-2"],[1,"modal-header","justify-content-center"],[3,"click"],[1,"ft-x","close-icon"],[1,"modal-body"],[1,"position-relative","text-center"],["format","*",1,"cropper",3,"imageChangedEvent","maintainAspectRatio","containWithinAspectRatio","aspectRatio","resizeToWidth","cropperMinWidth","onlyScaleDown","roundCropper","canvasRotation","transform","alignImage","imageCropped","imageLoaded"],["type","file","accept","image/x-png,image/gif,image/jpeg","multiple","",1,"upload-input",3,"change"],["file",""],[1,"camera-icon","btn","btn-orange"],["id","img1","onerror","src='../../../assets/img/ico/bb-brand.jpg'",1,"upload-image",3,"src"],["class","text-error mb-0",4,"ngIf"],["class","text-warning text-center",4,"ngIf"],["class","text-error text-center",4,"ngIf"],[1,"mt-2",3,"formGroup"],[1,"form-group"],["type","text","formControlName","title","placeholder","Title",1,"form-control"],["name","","id","","cols","30","rows","5","formControlName","desc","placeholder","Description",1,"form-control"],[1,"modal-footer"],[1,"text-right"],[1,"btn","btn-success",3,"click"],[1,"text-error","mb-0"],[1,"text-warning","text-center"],[1,"text-error","text-center"]],template:function(t,e){if(1&t){var i=g.Ub();g.Tb(0,"div",0),g.Tb(1,"div",1),g.Tb(2,"div",2),g.Gc(3,O,2,0,"h3",3),g.Gc(4,x,2,0,"h3",3),g.Gc(5,C,2,0,"h3",3),g.Sb(),g.Tb(6,"div",4),g.Tb(7,"div",5),g.Tb(8,"input",6),g.dc("change",function(t){return e.getDate(t.target.value)}),g.Sb(),g.Sb(),g.Tb(9,"button",7),g.dc("click",function(){g.zc(i);var t=g.wc(36);return e.open(t)}),g.Ic(10,"Add Advertisement"),g.Sb(),g.Sb(),g.Sb(),g.Tb(11,"div",1),g.Tb(12,"div",8),g.Tb(13,"ngx-slick-carousel",9,10),g.Gc(15,R,22,13,"div",11),g.Sb(),g.Sb(),g.Sb(),g.Tb(16,"div",12),g.Tb(17,"div",13),g.Tb(18,"span",14),g.Tb(19,"a",15),g.dc("click",function(){return e.headStatus="active",e.getAdvert(!0,null,null)}),g.Ic(20,"Total Actived Advertisements: "),g.Sb(),g.Sb(),g.Tb(21,"span",16),g.Ic(22),g.Sb(),g.Ic(23," \xa0 "),g.Tb(24,"span",14),g.Tb(25,"a",15),g.dc("click",function(){return e.headStatus="deactivate",e.getAdvert(!1,null,null)}),g.Ic(26,"Total Deactivated Advertisements: "),g.Sb(),g.Sb(),g.Tb(27,"span",16),g.Ic(28),g.Sb(),g.Ic(29," \xa0 "),g.Tb(30,"span",14),g.Tb(31,"a",15),g.dc("click",function(){return e.headStatus="all",e.getAdvert(null,null,null)}),g.Ic(32,"Total Advertisements: "),g.Sb(),g.Sb(),g.Tb(33,"span",16),g.Ic(34),g.Sb(),g.Sb(),g.Sb(),g.Sb(),g.Gc(35,N,25,18,"ng-template",null,17,g.Hc)}2&t&&(g.Ab(3),g.mc("ngIf","all"==e.headStatus),g.Ab(1),g.mc("ngIf","active"==e.headStatus),g.Ab(1),g.mc("ngIf","deactivate"==e.headStatus),g.Ab(8),g.mc("config",e.slideConfig),g.Ab(2),g.mc("ngForOf",e.allAdvert.advertisements),g.Ab(7),g.Jc(e.allAdvert.totalActive),g.Ab(6),g.Jc(e.allAdvert.totalDeactive),g.Ab(6),g.Jc(e.allAdvert.total))},directives:[l.o,T,l.n,y,l.m,u.p,w.a,k.u,k.l,k.f,k.a,k.k,k.d],pipes:[l.f],styles:[".upload-input[_ngcontent-%COMP%]{position:absolute;bottom:0;opacity:0;z-index:1;cursor:pointer}.camera-icon[_ngcontent-%COMP%]{position:absolute;bottom:0;right:66px}.upload-image[_ngcontent-%COMP%]{width:120px;height:120px;-o-object-fit:scale-down;object-fit:scale-down;border-radius:15px}.ft-chevron-left[_ngcontent-%COMP%], .ft-chevron-right[_ngcontent-%COMP%]{font-size:25px;font-weight:bolder;color:orange;text-shadow:0 0 10px rgba(0,0,0,.9)}.hoverTotal[_ngcontent-%COMP%]:hover{color:#1a73e8!important;text-decoration:underline!important}.cropper[_ngcontent-%COMP%]{height:auto;width:200px;margin:0 auto}"]}),E),J=c("tyNb"),L=c("RLft"),V=[{path:"",component:U}],W=((M=function e(){t(this,e)}).\u0275mod=g.Lb({type:M}),M.\u0275inj=g.Kb({factory:function(t){return new(t||M)},imports:[[l.c,u.j,I,k.q,J.g.forChild(V),w.b,S.b.forFeature("UserData",L.b)]]}),M)}}])}();