(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{bLbe:function(t,e,n){"use strict";n.r(e),n.d(e,"BrandsModule",function(){return J});var a,i=n("ofXK"),c=n("mrSG"),r=n("3Pt+"),s=n("tk/3"),b=n("q2CC"),o=n("fXoL");let l=(()=>{class t{constructor(t){this.http=t,this._url=b.g,a={headers:new s.d({"Content-Type":"application/x-www-form-urlencoded"})}}searchBrands(t,e){return this.http.get(this._url+"api/admin/brand?perPage=10&pageNo="+e+"&search="+t)}createBrand(t,e){let n=new FormData;return n.append("title",t),n.append("icon",e),this.http.post(this._url+"api/admin/brand",n)}getBrand(t){return this.http.get(this._url+"api/admin/brand?perPage=10&pageNo="+t+"&search=&locale=")}getBrandById(t){return this.http.get(this._url+"api/admin/brand/"+t+"/en")}addLabelToBrand(t,e,n){let i=(new s.e).set("brand",e).set("label",t).set("locale",n);return this.http.post(this._url+"api/admin/brand/assignLabel",i.toString(),a)}updateBrand(t,e,n,a,i){let c=new FormData;return c.append("title",t),c.append("brand_id",e),c.append("label_id",n),c.append("status",a),c.append("icon",i),this.http.put(this._url+"api/admin/brand",c)}}return t.\u0275fac=function(e){return new(e||t)(o.ac(s.b))},t.\u0275prov=o.Jb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var d=n("PBnp"),g=n("tkbi"),p=n("1kSV"),u=n("tyNb");function m(t,e){1&t&&(o.Tb(0,"div",20),o.Ob(1,"div",21),o.Sb())}function f(t,e){if(1&t&&(o.Tb(0,"td"),o.Ic(1),o.Sb()),2&t){const t=o.fc().$implicit;o.Ab(1),o.Jc(null==t.labels[1]?null:t.labels[1].label)}}function h(t,e){1&t&&(o.Tb(0,"td"),o.Ic(1,"-"),o.Sb())}function S(t,e){if(1&t){const t=o.Ub();o.Tb(0,"tr"),o.Tb(1,"td"),o.Ic(2),o.Sb(),o.Tb(3,"td"),o.Tb(4,"a"),o.Tb(5,"img",22),o.dc("click",function(){o.zc(t);const n=e.$implicit,a=o.fc(),i=o.wc(38);return a.bigImage(i,n.icon)}),o.Sb(),o.Sb(),o.Sb(),o.Gc(6,f,2,1,"td",23),o.Gc(7,h,2,0,"td",23),o.Tb(8,"td"),o.Ic(9,"Hasnat Hameed"),o.Sb(),o.Tb(10,"td"),o.Tb(11,"a",24),o.dc("click",function(){o.zc(t);const n=e.$implicit;return o.fc().brandDetail(n._id)}),o.Ob(12,"img",25),o.Sb(),o.Sb(),o.Sb()}if(2&t){const t=e.$implicit;o.Ab(2),o.Jc(null==t.labels[0]?null:t.labels[0].label),o.Ab(3),o.oc("src","https://api.bellboy.co/",t.icon,"",o.Bc),o.Ab(1),o.mc("ngIf",null==t.labels[1]?null:t.labels[1].label),o.Ab(1),o.mc("ngIf",!(null!=t.labels[1]&&t.labels[1].label))}}const T=function(t){return{active:t}};function v(t,e){if(1&t){const t=o.Ub();o.Tb(0,"li",39),o.Tb(1,"a",40),o.dc("click",function(){o.zc(t);const n=e.$implicit;return o.fc(3).getBrands(n)}),o.Ic(2),o.Sb(),o.Sb()}if(2&t){const t=e.$implicit,n=o.fc(3);o.mc("ngClass",o.rc(2,T,n.pager.currentPage===t)),o.Ab(2),o.Jc(t)}}const I=function(t){return{disabled:t}};function k(t,e){if(1&t){const t=o.Ub();o.Tb(0,"ul",32),o.Tb(1,"li",33),o.Tb(2,"a",34),o.dc("click",function(){return o.zc(t),o.fc(2).getBrands(1)}),o.Tb(3,"span"),o.Ic(4,"First"),o.Sb(),o.Sb(),o.Sb(),o.Tb(5,"li",33),o.Tb(6,"a",35),o.dc("click",function(){o.zc(t);const e=o.fc(2);return e.getBrands(e.pager.currentPage-10)}),o.Tb(7,"span"),o.Ic(8,"\xab"),o.Sb(),o.Sb(),o.Sb(),o.Gc(9,v,3,4,"li",36),o.Tb(10,"li",33),o.Tb(11,"a",37),o.dc("click",function(){o.zc(t);const e=o.fc(2);return e.getBrands(e.pager.currentPage+10)}),o.Tb(12,"span"),o.Ic(13,"\xbb"),o.Sb(),o.Sb(),o.Sb(),o.Tb(14,"li",33),o.Tb(15,"a",38),o.dc("click",function(){o.zc(t);const e=o.fc(2);return e.getBrands(e.pager.totalPages)}),o.Tb(16,"span"),o.Ic(17,"Last"),o.Sb(),o.Sb(),o.Sb(),o.Sb()}if(2&t){const t=o.fc(2);o.Ab(1),o.mc("ngClass",o.rc(5,I,1===t.pager.currentPage)),o.Ab(4),o.mc("ngClass",o.rc(7,I,1===t.pager.currentPage)),o.Ab(4),o.mc("ngForOf",t.pager.pages),o.Ab(1),o.mc("ngClass",o.rc(9,I,t.pager.currentPage===t.pager.totalPages)),o.Ab(4),o.mc("ngClass",o.rc(11,I,t.pager.currentPage===t.pager.totalPages))}}function B(t,e){if(1&t&&(o.Tb(0,"div",26),o.Tb(1,"p",27),o.Tb(2,"span",28),o.Ic(3,"Total Items"),o.Sb(),o.Ic(4," : "),o.Tb(5,"span",29),o.Ic(6),o.Sb(),o.Sb(),o.Tb(7,"nav",30),o.Gc(8,k,18,13,"ul",31),o.Sb(),o.Sb()),2&t){const t=o.fc();o.Ab(6),o.Jc(t.totalitems),o.Ab(2),o.mc("ngIf",t.pager.pages&&t.pager.pages.length)}}function w(t,e){if(1&t){const t=o.Ub();o.Tb(0,"li",39),o.Tb(1,"a",40),o.dc("click",function(){o.zc(t);const n=e.$implicit,a=o.fc(3);return a.searchBrands(a.keyword,n)}),o.Ic(2),o.Sb(),o.Sb()}if(2&t){const t=e.$implicit,n=o.fc(3);o.mc("ngClass",o.rc(2,T,n.pager.currentPage===t)),o.Ab(2),o.Jc(t)}}function y(t,e){if(1&t){const t=o.Ub();o.Tb(0,"ul",32),o.Tb(1,"li",33),o.Tb(2,"a",34),o.dc("click",function(){o.zc(t);const e=o.fc(2);return e.searchBrands(e.keyword,1)}),o.Tb(3,"span"),o.Ic(4,"First"),o.Sb(),o.Sb(),o.Sb(),o.Tb(5,"li",33),o.Tb(6,"a",35),o.dc("click",function(){o.zc(t);const e=o.fc(2);return e.searchBrands(e.keyword,e.pager.currentPage-10)}),o.Tb(7,"span"),o.Ic(8,"\xab"),o.Sb(),o.Sb(),o.Sb(),o.Gc(9,w,3,4,"li",36),o.Tb(10,"li",33),o.Tb(11,"a",37),o.dc("click",function(){o.zc(t);const e=o.fc(2);return e.searchBrands(e.keyword,e.pager.currentPage+10)}),o.Tb(12,"span"),o.Ic(13,"\xbb"),o.Sb(),o.Sb(),o.Sb(),o.Tb(14,"li",33),o.Tb(15,"a",38),o.dc("click",function(){o.zc(t);const e=o.fc(2);return e.searchBrands(e.keyword,e.pager.totalPages)}),o.Tb(16,"span"),o.Ic(17,"Last"),o.Sb(),o.Sb(),o.Sb(),o.Sb()}if(2&t){const t=o.fc(2);o.Ab(1),o.mc("ngClass",o.rc(5,I,1===t.pager.currentPage)),o.Ab(4),o.mc("ngClass",o.rc(7,I,1===t.pager.currentPage)),o.Ab(4),o.mc("ngForOf",t.pager.pages),o.Ab(1),o.mc("ngClass",o.rc(9,I,t.pager.currentPage===t.pager.totalPages)),o.Ab(4),o.mc("ngClass",o.rc(11,I,t.pager.currentPage===t.pager.totalPages))}}function x(t,e){if(1&t&&(o.Tb(0,"div",26),o.Tb(1,"p",27),o.Tb(2,"span",41),o.Ic(3,"Total Items:"),o.Sb(),o.Tb(4,"span",29),o.Ic(5),o.Sb(),o.Sb(),o.Tb(6,"nav",30),o.Gc(7,y,18,13,"ul",31),o.Sb(),o.Sb()),2&t){const t=o.fc();o.Ab(5),o.Jc(t.totalitems),o.Ab(2),o.mc("ngIf",t.pager.pages&&t.pager.pages.length)}}function A(t,e){if(1&t&&(o.Tb(0,"p",59),o.Ic(1),o.Sb()),2&t){const t=o.fc(2);o.Ab(1),o.Jc(t.message)}}function O(t,e){1&t&&(o.Tb(0,"p",60),o.Ic(1," Image is required "),o.Sb())}function P(t,e){1&t&&(o.Tb(0,"p",60),o.Ic(1," Brand title is required "),o.Sb())}function C(t,e){if(1&t){const t=o.Ub();o.Tb(0,"div",42),o.Tb(1,"h3",43),o.Ic(2,"Add New Brand"),o.Sb(),o.Sb(),o.Tb(3,"div",44),o.Tb(4,"form",45),o.Tb(5,"div",46),o.Tb(6,"div",47),o.Tb(7,"input",48,49),o.dc("change",function(){o.zc(t);const e=o.wc(8);return o.fc().preview(e.files)}),o.Sb(),o.Tb(9,"button",50),o.Ic(10,"Add Image"),o.Sb(),o.Ob(11,"img",51),o.Gc(12,A,2,1,"p",52),o.Gc(13,O,2,0,"p",53),o.Sb(),o.Sb(),o.Tb(14,"div",54),o.Ob(15,"input",55),o.Gc(16,P,2,0,"p",53),o.Sb(),o.Sb(),o.Sb(),o.Tb(17,"div",56),o.Tb(18,"div"),o.Tb(19,"button",57),o.dc("click",function(){return e.$implicit.close("Cross click")}),o.Ic(20,"Cancel"),o.Sb(),o.Tb(21,"button",58),o.dc("click",function(){o.zc(t);const e=o.fc();return e.brandSubmit(e.addBrandForm)}),o.Ic(22,"Add Brand"),o.Sb(),o.Sb(),o.Sb()}if(2&t){const t=o.fc();o.Ab(4),o.mc("formGroup",t.addBrandForm),o.Ab(7),o.nc("src",t.imgURL,o.Bc),o.Ab(1),o.mc("ngIf",t.message),o.Ab(1),o.mc("ngIf",null==t.imgURL&&t.submitted),o.Ab(3),o.mc("ngIf",t.submitted&&t.addBrandForm.controls.brandTitle.hasError("required"))}}function L(t,e){if(1&t&&(o.Tb(0,"div",61),o.Tb(1,"a",62),o.Tb(2,"span",63),o.dc("click",function(){return e.$implicit.close("Cancel Cick")}),o.Sb(),o.Sb(),o.Sb(),o.Tb(3,"div",64),o.Ob(4,"img",65),o.Sb()),2&t){const t=o.fc();o.Ab(4),o.nc("src",t.currentImage,o.Bc)}}function F(t,e){1&t&&(o.Tb(0,"span",26),o.Ic(1,"Deactive"),o.Sb())}function j(t,e){1&t&&(o.Tb(0,"span",26),o.Ic(1,"Active"),o.Sb())}function _(t,e){if(1&t){const t=o.Ub();o.Tb(0,"i",27),o.dc("click",function(){return o.zc(t),o.fc().changeStatus("true")}),o.Sb()}}function U(t,e){if(1&t){const t=o.Ub();o.Tb(0,"i",28),o.dc("click",function(){return o.zc(t),o.fc().changeStatus("false")}),o.Sb()}}function D(t,e){if(1&t){const t=o.Ub();o.Tb(0,"div",29),o.Tb(1,"div",30),o.Tb(2,"h5",31),o.Ic(3),o.Sb(),o.Sb(),o.Tb(4,"div",32),o.Tb(5,"div",33),o.Ob(6,"input",34),o.Sb(),o.Sb(),o.Tb(7,"div",35),o.Tb(8,"a"),o.Tb(9,"button",36),o.dc("click",function(){o.zc(t);const n=e.$implicit;return o.fc().updateLabel(n._id,n)}),o.Ic(10,"Update Label"),o.Sb(),o.Sb(),o.Sb(),o.Sb()}if(2&t){const t=e.$implicit;o.Ab(3),o.Jc(null==t||null==t.locale?null:t.locale.title),o.Ab(3),o.nc("id",t._id),o.nc("value",null==t?null:t.label)}}function G(t,e){if(1&t&&(o.Tb(0,"option",49),o.Ic(1),o.Sb()),2&t){const t=e.$implicit;o.pc("value","",t.code,"/",t._id,""),o.Ab(1),o.Kc(" ",t.title," ")}}function z(t,e){1&t&&(o.Tb(0,"div",41),o.Ob(1,"input",50),o.Sb())}function N(t,e){1&t&&(o.Tb(0,"div",41),o.Ob(1,"input",51),o.Sb())}function M(t,e){if(1&t){const t=o.Ub();o.Tb(0,"div",37),o.Tb(1,"h3",38),o.Ic(2,"Add Label"),o.Sb(),o.Sb(),o.Tb(3,"div",39),o.Tb(4,"form",40),o.Tb(5,"div",41),o.Tb(6,"select",42),o.dc("change",function(e){return o.zc(t),o.fc().changeLocal(e)}),o.Tb(7,"option",43),o.Ic(8,"Select Language"),o.Sb(),o.Gc(9,G,2,3,"option",44),o.Sb(),o.Sb(),o.Gc(10,z,2,0,"div",45),o.Gc(11,N,2,0,"div",45),o.Sb(),o.Sb(),o.Tb(12,"div",46),o.Tb(13,"button",47),o.dc("click",function(){return e.$implicit.close("Cross click")}),o.Ic(14,"Cancel"),o.Sb(),o.Tb(15,"button",48),o.dc("click",function(){o.zc(t);const e=o.fc();return e.submitLabel(e.labelForm)}),o.Ic(16,"Add Label"),o.Sb(),o.Sb()}if(2&t){const t=o.fc();o.Ab(4),o.mc("formGroup",t.labelForm),o.Ab(5),o.mc("ngForOf",t.locals),o.Ab(1),o.mc("ngIf","ur"==t.code||"ar"==t.code),o.Ab(1),o.mc("ngIf","en"==t.code)}}const R=[{path:"",component:(()=>{class t{constructor(t,e,n,a,i,c){this.pagerService=t,this.modalService=e,this.fb=n,this.brandService=a,this.globalService=i,this.router=c,this.closeResult="",this.allBrands=[],this.pager={},this.addBrandForm=this.fb.group({brandTitle:["",r.s.required]})}ngOnInit(){this.getBrands(1)}open(t){this.modalService.open(t,{ariaLabelledBy:"modal-basic-title"})}preview(t){return Object(c.a)(this,void 0,void 0,function*(){if(this.imageFile=t[0],0===t.length)return!1;null!=t[0].type.match(/image\/*/)?(yield function(t){return new Promise((e,n)=>{const a=new FileReader;a.readAsDataURL(t[0]),a.onload=()=>e(a.result),a.onerror=t=>n(t)})}(t).then(t=>{this.imgURL=t}),this.globalService.compress(this.imgURL,t[0].name).then(t=>{let e=t[0];if(1==e.status)return this.imageFile=e.file,void(this.imgURL=e.con64)})):this.message="Only images are supported."})}searchBrands(t,e){this.spinner=!0,e>this.pager.totalPages?e=this.pager.totalPages:e<0&&(e=1),this.keyword=t,this.brandService.searchBrands(t,e).subscribe(t=>{200==t.code&&(this.searchPagination=!0,this.default=!1,this.spinner=!1,this.totalitems=t.data.count,this.allBrands=t.data.brands,this.pager=this.pagerService.getPager(t.data.count,e,10))},t=>{this.spinner=!1})}getBrands(t){this.spinner=!0,t>this.pager.totalPages?t=this.pager.totalPages:t<0&&(t=1),this.brandService.getBrand(t).subscribe(e=>{200==e.code&&(this.default=!0,this.searchPagination=!1,this.totalitems=e.data.count,this.spinner=!1,this.allBrands=e.data.brands,this.pager=this.pagerService.getPager(e.data.count,t,10))},t=>{this.spinner=!1})}bigImage(t,e){this.currentImage="https://api.bellboy.co/"+e,this.modalService.open(t,{ariaLabelledBy:"modal-basic-title"})}brandSubmit(t){this.submitted=!0,1==t.valid&&void 0!==this.imageFile&&(this.brandService.createBrand(t.value.brandTitle,this.imageFile).subscribe(t=>{200==t.code&&(this.getBrands(1),this.imageFile=void 0,this.imgURL=void 0,this.submitted=!1,Object(b.f)("warning","Brand Added successfully"))},t=>{this.imageFile=void 0,this.imgURL=void 0,Object(b.f)("error",t.error.message)}),this.submitted=!1,t.reset(),this.modalService.dismissAll())}brandDetail(t){this.router.navigate(["/brands/branddetail",t])}}return t.\u0275fac=function(e){return new(e||t)(o.Nb(d.a),o.Nb(p.i),o.Nb(r.b),o.Nb(l),o.Nb(g.a),o.Nb(u.c))},t.\u0275cmp=o.Hb({type:t,selectors:[["app-brands"]],decls:39,vars:5,consts:[["id","tabs"],["class","loading-container",4,"ngIf"],[1,"row","text-left","mb-2","mt-2"],[1,"col-sm-6","mb-1"],[1,"col-sm-6","text-right"],[1,"btn","btn-orange","mb-0",3,"click"],[1,"col-sm-12"],[1,"parent"],[1,"ft-search","child"],["type","text","id","searchInput","name","search","placeholder","Search Brands",1,"form-control","placeholder-pad","w-33",3,"ngModel","ngModelChange"],[1,"row","text-left"],[1,"col-md-12","col-lg-12"],[1,"card"],[1,"card-content"],[1,"card-body"],[1,"table","table-responsive-md","table-striped"],[4,"ngFor","ngForOf"],["class","d-flex justify-content-end",4,"ngIf"],["addBrand",""],["bigImg",""],[1,"loading-container"],[1,"spinner"],["alt","img",1,"table-img-size",3,"src","click"],[4,"ngIf"],[1,"p-0","text-dark",3,"click"],["src","../../../assets/img/ico/eye.png","alt","",1,"img-eye"],[1,"d-flex","justify-content-end"],[1,"mr-3","d-flex","align-items-center"],[1,"h6","mb-0","font-weight-normal","text-shadow","text-orange"],[1,"text-secondary","ml-2"],[1,"ng2-smart-pagination-nav","ng-star-inserted"],["class","ng2-smart-pagination pagination",4,"ngIf"],[1,"ng2-smart-pagination","pagination"],[1,"ng2-smart-page-item","page-item",3,"ngClass"],["aria-label","First",1,"ng2-smart-page-link","page-link",3,"click"],["aria-label","Prev","ngbTooltip","Previous",1,"ng2-smart-page-link","page-link","page-link-prev",3,"click"],["class","ng2-smart-page-item page-item ng-star-inserted",3,"ngClass",4,"ngFor","ngForOf"],["ngbTooltip","Next","aria-label","Next",1,"ng2-smart-page-link","page-link","page-link-next",3,"click"],["aria-label","Last",1,"ng2-smart-page-link","page-link",3,"click"],[1,"ng2-smart-page-item","page-item","ng-star-inserted",3,"ngClass"],[1,"ng2-smart-page-link","page-link","ng-star-inserted",3,"click"],[1,"h6","mb-0","font-weight-normal"],[1,"modal-header","justify-content-center","mb-1"],[1,"card-title","mb-0"],[1,"modal-body","pb-0"],[3,"formGroup"],[1,"form-group","text-center"],[1,"position-relative"],["accept","image/*","type","file","accept","image/*","type","file",1,"upload-input",3,"change"],["file",""],[1,"camera-icon","btn","btn-orange"],["id","img1","onerror","src='../../../assets/img/ico/bb-brand.jpg'",1,"upload-image",3,"src"],["class","text-error mb-0",4,"ngIf"],["class","text-error",4,"ngIf"],[1,"form-group"],["type","text","formControlName","brandTitle","placeholder","Brand Name",1,"form-control"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-orange",3,"click"],[1,"text-error","mb-0"],[1,"text-error"],[1,"modal-header","d-flex","justify-content-end","pb-0","mb-2"],[1,"mb-2"],[1,"ft-x","text-error",3,"click"],[1,"modal-body","d-flex","justify-content-center","pt-0"],["onerror","src='../../../../assets/img/gallery/1.jpg'","alt","","srcset","",1,"object-fit",3,"src"]],template:function(t,e){if(1&t){const t=o.Ub();o.Tb(0,"section",0),o.Gc(1,m,2,0,"div",1),o.Tb(2,"div",2),o.Tb(3,"div",3),o.Tb(4,"h3"),o.Ic(5,"Brands"),o.Sb(),o.Sb(),o.Tb(6,"div",4),o.Tb(7,"button",5),o.dc("click",function(){o.zc(t);const n=o.wc(36);return e.open(n)}),o.Ic(8,"Add New Brand"),o.Sb(),o.Sb(),o.Tb(9,"div",6),o.Tb(10,"div",7),o.Ob(11,"i",8),o.Tb(12,"input",9),o.dc("ngModelChange",function(t){return e.search=t})("ngModelChange",function(){return e.searchBrands(e.search,1)}),o.Sb(),o.Sb(),o.Sb(),o.Sb(),o.Tb(13,"div",10),o.Tb(14,"div",11),o.Tb(15,"div",12),o.Tb(16,"div",13),o.Tb(17,"div",14),o.Tb(18,"table",15),o.Tb(19,"thead"),o.Tb(20,"tr"),o.Tb(21,"th"),o.Ic(22,"Title"),o.Sb(),o.Tb(23,"th"),o.Ic(24,"Image"),o.Sb(),o.Tb(25,"th"),o.Ic(26,"Locale"),o.Sb(),o.Tb(27,"th"),o.Ic(28,"Created By"),o.Sb(),o.Tb(29,"th"),o.Ic(30,"View / Update"),o.Sb(),o.Sb(),o.Sb(),o.Tb(31,"tbody"),o.Gc(32,S,13,4,"tr",16),o.Sb(),o.Sb(),o.Gc(33,B,9,2,"div",17),o.Gc(34,x,8,2,"div",17),o.Sb(),o.Sb(),o.Sb(),o.Sb(),o.Sb(),o.Sb(),o.Gc(35,C,23,5,"ng-template",null,18,o.Hc),o.Gc(37,L,5,1,"ng-template",null,19,o.Hc)}2&t&&(o.Ab(1),o.mc("ngIf",e.spinner),o.Ab(11),o.mc("ngModel",e.search),o.Ab(20),o.mc("ngForOf",e.allBrands),o.Ab(1),o.mc("ngIf",e.default),o.Ab(1),o.mc("ngIf",e.searchPagination))},directives:[i.o,r.a,r.k,r.n,i.n,i.m,p.p,r.u,r.l,r.f,r.d],styles:["ul.nav-pills[_ngcontent-%COMP%]{padding-left:1rem}.parent[_ngcontent-%COMP%]{position:relative}.child[_ngcontent-%COMP%]{position:absolute;padding:8px 11px}#SearchBellboy[_ngcontent-%COMP%]::-moz-placeholder{color:#ccc;margin-left:10px}#SearchBellboy[_ngcontent-%COMP%]:-ms-input-placeholder{color:#ccc;margin-left:10px}#SearchBellboy[_ngcontent-%COMP%]::placeholder{color:#ccc;margin-left:10px}.upload-input[_ngcontent-%COMP%]{position:absolute;bottom:0;opacity:0;z-index:1;cursor:pointer}.camera-icon[_ngcontent-%COMP%]{position:absolute;bottom:0;right:66px}.modal-footer[_ngcontent-%COMP%]{padding-top:0}.upload-image[_ngcontent-%COMP%]{width:120px;height:120px;-o-object-fit:scale-down;object-fit:scale-down;border-radius:15px}.h-300[_ngcontent-%COMP%]{height:300px!important;width:300px!important}"]}),t})()},{path:"branddetail/:id",component:(()=>{class t{constructor(t,e,n,a,i,c){this.modalService=t,this.route=e,this.globalService=n,this.brandService=a,this.fb=i,this.gs=c,this.closeResult="",this.brandDetail=[],this.locals=[],this.labelForm=this.fb.group({label:[""]})}ngOnInit(){this.sub=this.route.params.subscribe(t=>{this.id=t.id,this.getBrandDetail()}),this.gs.getLocals().subscribe(t=>{this.locals=t.data.data})}getBrandDetail(){this.brandService.getBrandById(this.id).subscribe(t=>{200==t.code&&(this.brandDetail=t.data,this.engLabel=this.brandDetail.labels[0],this.urdLabel=this.brandDetail.labels[1],this.imgURL="https://api.bellboy.co/"+this.brandDetail.icon,this.locale=null==t.data.labels[1]?"":this.brandDetail.labels[1].label)})}changeLocal(t){this.singleLocal=t.target.value.split("/"),this.code=this.singleLocal[0],this.localId=this.singleLocal[1]}preview(t){return Object(c.a)(this,void 0,void 0,function*(){if(this.imageFile=t[0],0===t.length)return!1;null!=t[0].type.match(/image\/*/)?(yield function(t){return new Promise((e,n)=>{const a=new FileReader;a.readAsDataURL(t[0]),a.onload=()=>e(a.result),a.onerror=t=>n(t)})}(t).then(t=>{this.imgURL=t}),this.globalService.compress(this.imgURL,t[0].name).then(t=>{let e=t[0];if(1==e.status)return this.imageFile=e.file,void(this.imgURL=e.con64)})):this.message="Only images are supported."})}open(t){this.modalService.open(t,{ariaLabelledBy:"modal-basic-title"})}submitLabel(t){this.brandService.addLabelToBrand(t.value.label,this.brandDetail._id,this.localId).subscribe(t=>{200==t.code?(this.getBrandDetail(),this.modalService.dismissAll(),Object(b.f)("success","Label Added Successfully")):Object(b.f)("warning",t.message)},t=>{Object(b.f)("error",t.error.message)})}changeStatus(t){this.subsciption=this.brandService.updateBrand("",this.brandDetail._id,"",t,"").subscribe(t=>{1==t.success?this.brandDetail=t.data.Brand:Object(b.f)("warning",t.message)},t=>{Object(b.f)("error",t.error.message)})}updateImage(){this.brandService.updateBrand("",this.id,"","",this.imageFile).subscribe(t=>{1==t.success?(this.brandDetail=t.data.Brand,Object(b.f)("success","Updated")):Object(b.f)("warning",t.message)},t=>{Object(b.f)("error",t.error.message)})}updateLabel(t,e){let n=$("#"+t).val();if(e.label==n)return!1;this.brandService.updateBrand(n,this.id,t,"","").subscribe(t=>{1==t.success?(this.brandDetail=t.data.Brand,Object(b.f)("success","Updated")):Object(b.f)("warning",t.message)},t=>{Object(b.f)("error",t.error.message)})}}return t.\u0275fac=function(e){return new(e||t)(o.Nb(p.i),o.Nb(u.a),o.Nb(g.a),o.Nb(l),o.Nb(r.b),o.Nb(g.a))},t.\u0275cmp=o.Hb({type:t,selectors:[["app-brand-detail"]],decls:43,vars:6,consts:[[1,"row"],[1,"col-sm-12"],[1,"card"],[1,"card-content"],[1,"card-body"],[1,"col-sm-6"],[1,"col-sm-6","text-right"],[1,"font-weight-bold"],["class","font-weight-light text-secondary",4,"ngIf"],[1,"ml-2"],["placement","top","ngbTooltip","Activate Brand","class","ft-power text-success",3,"click",4,"ngIf"],["placement","top","ngbTooltip","Deactivate Brand","class","ft-power text-error",3,"click",4,"ngIf"],[1,"col-sm-6","mb-3"],[1,"font-weight-bold","text-center"],["class","row align-items-center",4,"ngFor","ngForOf"],[1,"col-sm-4","d-flex","justify-content-end","align-items-center","position-relative"],["onerror","src='../../../assets/img/ico/bb-brand.jpg'",1,"position-absolute","image-style",3,"src"],["type","file","accept","image/*",1,"change-input",3,"change"],["file",""],[1,"change-button"],[1,"col-sm-2","text-right","position-relative","d-flex","justify-content-end"],[1,"text-orange",3,"click"],[1,"ft-plus","text-dark"],[1,"ml-1"],[1,"btn","btn-orange","bottom-place",3,"click"],["addLabel",""],[1,"font-weight-light","text-secondary"],["placement","top","ngbTooltip","Activate Brand",1,"ft-power","text-success",3,"click"],["placement","top","ngbTooltip","Deactivate Brand",1,"ft-power","text-error",3,"click"],[1,"row","align-items-center"],[1,"col-12"],[1,"font-weight-normal"],[1,"col-8"],[1,"form-group","mt-3"],["type","text","placeholder","Brand Name",1,"form-control",3,"id","value"],[1,"col-4","text-left"],[1,"btn","btn-orange",3,"click"],[1,"modal-header","justify-content-center"],[1,"card-title","mb-0"],[1,"modal-body"],[3,"formGroup"],[1,"form-group"],[1,"form-control",3,"change"],["value",""],[3,"value",4,"ngFor","ngForOf"],["class","form-group",4,"ngIf"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-success",3,"click"],[3,"value"],["type","text","formControlName","label","placeholder","\u0644\u06cc\u0628\u0644",1,"form-control","text-right"],["type","text","formControlName","label","placeholder","Label",1,"form-control"]],template:function(t,e){if(1&t){const t=o.Ub();o.Tb(0,"section"),o.Tb(1,"div",0),o.Tb(2,"div",1),o.Tb(3,"div",2),o.Tb(4,"div",3),o.Tb(5,"div",4),o.Tb(6,"div",0),o.Tb(7,"div",5),o.Tb(8,"h3"),o.Ic(9,"Brand Detail"),o.Sb(),o.Sb(),o.Tb(10,"div",6),o.Tb(11,"span",7),o.Ic(12,"Status: "),o.Sb(),o.Gc(13,F,2,0,"span",8),o.Gc(14,j,2,0,"span",8),o.Tb(15,"a",9),o.Gc(16,_,1,0,"i",10),o.Gc(17,U,1,0,"i",11),o.Sb(),o.Sb(),o.Sb(),o.Sb(),o.Sb(),o.Sb(),o.Sb(),o.Sb(),o.Tb(18,"div",0),o.Tb(19,"div",1),o.Tb(20,"div",2),o.Tb(21,"div",3),o.Tb(22,"div",4),o.Tb(23,"div",0),o.Tb(24,"div",12),o.Tb(25,"h5",13),o.Ic(26,"Brand Title"),o.Sb(),o.Gc(27,D,11,3,"div",14),o.Sb(),o.Tb(28,"div",15),o.Ob(29,"img",16),o.Tb(30,"input",17,18),o.dc("change",function(){o.zc(t);const n=o.wc(31);return e.preview(n.files)}),o.Sb(),o.Tb(32,"button",19),o.Ic(33,"Change"),o.Sb(),o.Sb(),o.Tb(34,"div",20),o.Tb(35,"a",21),o.dc("click",function(){o.zc(t);const n=o.wc(42);return e.open(n)}),o.Ob(36,"span",22),o.Tb(37,"span",23),o.Ic(38," Add Label "),o.Sb(),o.Sb(),o.Tb(39,"button",24),o.dc("click",function(){return e.updateImage()}),o.Ic(40,"Update Image"),o.Sb(),o.Sb(),o.Sb(),o.Sb(),o.Sb(),o.Sb(),o.Sb(),o.Sb(),o.Sb(),o.Gc(41,M,17,4,"ng-template",null,25,o.Hc)}2&t&&(o.Ab(13),o.mc("ngIf",0==e.brandDetail.status),o.Ab(1),o.mc("ngIf",1==e.brandDetail.status),o.Ab(2),o.mc("ngIf",0==e.brandDetail.status),o.Ab(1),o.mc("ngIf",1==e.brandDetail.status),o.Ab(10),o.mc("ngForOf",e.brandDetail.labels),o.Ab(2),o.nc("src",e.imgURL,o.Bc))},directives:[i.o,i.n,p.p,r.u,r.l,r.f,r.o,r.t,r.a,r.k,r.d],styles:[".image-style[_ngcontent-%COMP%]{width:150px;height:150px;border-radius:15px;-o-object-fit:contain!important;object-fit:contain}.change-button[_ngcontent-%COMP%]{position:absolute;border:unset;background:rgba(0,0,0,.3);width:150px;bottom:35px;color:#fff;border-radius:0 0 15px 15px}.change-button[_ngcontent-%COMP%]:focus{outline:none!important}.bottom-place[_ngcontent-%COMP%]{position:absolute;bottom:35px;right:0;left:0}.btn[_ngcontent-%COMP%]{width:-webkit-max-content;width:-moz-max-content;width:max-content}.change-input[_ngcontent-%COMP%]{width:300px;position:absolute;bottom:35px;opacity:0;z-index:1;cursor:pointer}"]}),t})(),resolve:{data:n("Os+u").a},data:{text:"Brand Detail",path:"/branddetail/:id"}}];let J=(()=>{class t{}return t.\u0275mod=o.Lb({type:t}),t.\u0275inj=o.Kb({factory:function(e){return new(e||t)},imports:[[i.c,u.g.forChild(R),r.g,p.j,r.q]]}),t})()}}]);